/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault: () => extractDefault,
    process: () => {
      const browserProcess = {
        browser: true,
        cwd: () => "/",
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && module2.default ? module2.default : module2;
  }
  function requirePatched(id) {
    const module2 = originalRequire?.(id);
    if (module2) {
      return extractDefault(module2);
    }
    if (id === "process" || id === "node:process") {
      console.error(`Module not found: ${id}. Fake process object is returned instead.`);
      return globalThis.process;
    }
    console.error(`Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var Np=Object.create;var ci=Object.defineProperty;var Yp=Object.getOwnPropertyDescriptor;var Wp=Object.getOwnPropertyNames;var Bp=Object.getPrototypeOf,Vp=Object.prototype.hasOwnProperty;var ut=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Rl=(e,t)=>{for(var n in t)ci(e,n,{get:t[n],enumerable:!0})},Nl=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Wp(t))!Vp.call(e,o)&&o!==n&&ci(e,o,{get:()=>t[o],enumerable:!(i=Yp(t,o))||i.enumerable});return e};var Qe=(e,t,n)=>(n=e!=null?Np(Bp(e)):{},Nl(t||!e||!e.__esModule?ci(n,"default",{value:e,enumerable:!0}):n,e)),zp=e=>Nl(ci({},"__esModule",{value:!0}),e);var Ul=ut((B0,zl)=>{"use strict";function yt(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function Vl(e,t){for(var n="",i=0,o=-1,s=0,l,u=0;u<=e.length;++u){if(u<e.length)l=e.charCodeAt(u);else{if(l===47)break;l=47}if(l===47){if(!(o===u-1||s===1))if(o!==u-1&&s===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var f=n.lastIndexOf("/");if(f!==n.length-1){f===-1?(n="",i=0):(n=n.slice(0,f),i=n.length-1-n.lastIndexOf("/")),o=u,s=0;continue}}else if(n.length===2||n.length===1){n="",i=0,o=u,s=0;continue}}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(o+1,u):n=e.slice(o+1,u),i=u-o-1;o=u,s=0}else l===46&&s!==-1?++s:s=-1}return n}function jp(e,t){var n=t.dir||t.root,i=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+i:n+e+i:i}var In={resolve:function(){for(var t="",n=!1,i,o=arguments.length-1;o>=-1&&!n;o--){var s;o>=0?s=arguments[o]:(i===void 0&&(i=process.cwd()),s=i),yt(s),s.length!==0&&(t=s+"/"+t,n=s.charCodeAt(0)===47)}return t=Vl(t,!n),n?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(yt(t),t.length===0)return".";var n=t.charCodeAt(0)===47,i=t.charCodeAt(t.length-1)===47;return t=Vl(t,!n),t.length===0&&!n&&(t="."),t.length>0&&i&&(t+="/"),n?"/"+t:t},isAbsolute:function(t){return yt(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,n=0;n<arguments.length;++n){var i=arguments[n];yt(i),i.length>0&&(t===void 0?t=i:t+="/"+i)}return t===void 0?".":In.normalize(t)},relative:function(t,n){if(yt(t),yt(n),t===n||(t=In.resolve(t),n=In.resolve(n),t===n))return"";for(var i=1;i<t.length&&t.charCodeAt(i)===47;++i);for(var o=t.length,s=o-i,l=1;l<n.length&&n.charCodeAt(l)===47;++l);for(var u=n.length,f=u-l,h=s<f?s:f,m=-1,g=0;g<=h;++g){if(g===h){if(f>h){if(n.charCodeAt(l+g)===47)return n.slice(l+g+1);if(g===0)return n.slice(l+g)}else s>h&&(t.charCodeAt(i+g)===47?m=g:g===0&&(m=0));break}var w=t.charCodeAt(i+g),y=n.charCodeAt(l+g);if(w!==y)break;w===47&&(m=g)}var v="";for(g=i+m+1;g<=o;++g)(g===o||t.charCodeAt(g)===47)&&(v.length===0?v+="..":v+="/..");return v.length>0?v+n.slice(l+m):(l+=m,n.charCodeAt(l)===47&&++l,n.slice(l))},_makeLong:function(t){return t},dirname:function(t){if(yt(t),t.length===0)return".";for(var n=t.charCodeAt(0),i=n===47,o=-1,s=!0,l=t.length-1;l>=1;--l)if(n=t.charCodeAt(l),n===47){if(!s){o=l;break}}else s=!1;return o===-1?i?"/":".":i&&o===1?"//":t.slice(0,o)},basename:function(t,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');yt(t);var i=0,o=-1,s=!0,l;if(n!==void 0&&n.length>0&&n.length<=t.length){if(n.length===t.length&&n===t)return"";var u=n.length-1,f=-1;for(l=t.length-1;l>=0;--l){var h=t.charCodeAt(l);if(h===47){if(!s){i=l+1;break}}else f===-1&&(s=!1,f=l+1),u>=0&&(h===n.charCodeAt(u)?--u===-1&&(o=l):(u=-1,o=f))}return i===o?o=f:o===-1&&(o=t.length),t.slice(i,o)}else{for(l=t.length-1;l>=0;--l)if(t.charCodeAt(l)===47){if(!s){i=l+1;break}}else o===-1&&(s=!1,o=l+1);return o===-1?"":t.slice(i,o)}},extname:function(t){yt(t);for(var n=-1,i=0,o=-1,s=!0,l=0,u=t.length-1;u>=0;--u){var f=t.charCodeAt(u);if(f===47){if(!s){i=u+1;break}continue}o===-1&&(s=!1,o=u+1),f===46?n===-1?n=u:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||o===-1||l===0||l===1&&n===o-1&&n===i+1?"":t.slice(n,o)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return jp("/",t)},parse:function(t){yt(t);var n={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return n;var i=t.charCodeAt(0),o=i===47,s;o?(n.root="/",s=1):s=0;for(var l=-1,u=0,f=-1,h=!0,m=t.length-1,g=0;m>=s;--m){if(i=t.charCodeAt(m),i===47){if(!h){u=m+1;break}continue}f===-1&&(h=!1,f=m+1),i===46?l===-1?l=m:g!==1&&(g=1):l!==-1&&(g=-1)}return l===-1||f===-1||g===0||g===1&&l===f-1&&l===u+1?f!==-1&&(u===0&&o?n.base=n.name=t.slice(1,f):n.base=n.name=t.slice(u,f)):(u===0&&o?(n.name=t.slice(1,l),n.base=t.slice(1,f)):(n.name=t.slice(u,l),n.base=t.slice(u,f)),n.ext=t.slice(l,f)),u>0?n.dir=t.slice(0,u-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};In.posix=In;zl.exports=In});var ou=ut((ck,iu)=>{var Nn=1e3,Yn=Nn*60,Wn=Yn*60,fn=Wn*24,tg=fn*7,ng=fn*365.25;iu.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return rg(e);if(n==="number"&&isFinite(e))return t.long?og(e):ig(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function rg(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*ng;case"weeks":case"week":case"w":return n*tg;case"days":case"day":case"d":return n*fn;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Wn;case"minutes":case"minute":case"mins":case"min":case"m":return n*Yn;case"seconds":case"second":case"secs":case"sec":case"s":return n*Nn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function ig(e){var t=Math.abs(e);return t>=fn?Math.round(e/fn)+"d":t>=Wn?Math.round(e/Wn)+"h":t>=Yn?Math.round(e/Yn)+"m":t>=Nn?Math.round(e/Nn)+"s":e+"ms"}function og(e){var t=Math.abs(e);return t>=fn?gi(e,t,fn,"day"):t>=Wn?gi(e,t,Wn,"hour"):t>=Yn?gi(e,t,Yn,"minute"):t>=Nn?gi(e,t,Nn,"second"):e+" ms"}function gi(e,t,n,i){var o=t>=n*1.5;return Math.round(e/n)+" "+i+(o?"s":"")}});var ks=ut((fk,su)=>{function sg(e){n.debug=n,n.default=n,n.coerce=f,n.disable=l,n.enable=o,n.enabled=u,n.humanize=ou(),n.destroy=h,Object.keys(e).forEach(m=>{n[m]=e[m]}),n.names=[],n.skips=[],n.formatters={};function t(m){let g=0;for(let w=0;w<m.length;w++)g=(g<<5)-g+m.charCodeAt(w),g|=0;return n.colors[Math.abs(g)%n.colors.length]}n.selectColor=t;function n(m){let g,w=null,y,v;function F(...E){if(!F.enabled)return;let C=F,T=Number(new Date),P=T-(g||T);C.diff=P,C.prev=g,C.curr=T,g=T,E[0]=n.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let W=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(S,Q)=>{if(S==="%%")return"%";W++;let j=n.formatters[Q];if(typeof j=="function"){let G=E[W];S=j.call(C,G),E.splice(W,1),W--}return S}),n.formatArgs.call(C,E),(C.log||n.log).apply(C,E)}return F.namespace=m,F.useColors=n.useColors(),F.color=n.selectColor(m),F.extend=i,F.destroy=n.destroy,Object.defineProperty(F,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(y!==n.namespaces&&(y=n.namespaces,v=n.enabled(m)),v),set:E=>{w=E}}),typeof n.init=="function"&&n.init(F),F}function i(m,g){let w=n(this.namespace+(typeof g>"u"?":":g)+m);return w.log=this.log,w}function o(m){n.save(m),n.namespaces=m,n.names=[],n.skips=[];let g=(typeof m=="string"?m:"").trim().replace(" ",",").split(",").filter(Boolean);for(let w of g)w[0]==="-"?n.skips.push(w.slice(1)):n.names.push(w)}function s(m,g){let w=0,y=0,v=-1,F=0;for(;w<m.length;)if(y<g.length&&(g[y]===m[w]||g[y]==="*"))g[y]==="*"?(v=y,F=w,y++):(w++,y++);else if(v!==-1)y=v+1,F++,w=F;else return!1;for(;y<g.length&&g[y]==="*";)y++;return y===g.length}function l(){let m=[...n.names,...n.skips.map(g=>"-"+g)].join(",");return n.enable(""),m}function u(m){for(let g of n.skips)if(s(m,g))return!1;for(let g of n.names)if(s(m,g))return!0;return!1}function f(m){return m instanceof Error?m.stack||m.message:m}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}su.exports=sg});var au=ut(($e,wi)=>{$e.formatArgs=lg;$e.save=ug;$e.load=cg;$e.useColors=ag;$e.storage=fg();$e.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();$e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ag(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function lg(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+wi.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(n++,o==="%c"&&(i=n))}),e.splice(i,0,t)}$e.log=console.debug||console.log||(()=>{});function ug(e){try{e?$e.storage.setItem("debug",e):$e.storage.removeItem("debug")}catch{}}function cg(){let e;try{e=$e.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function fg(){try{return localStorage}catch{}}wi.exports=ks()($e);var{formatters:dg}=wi.exports;dg.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var uu=ut((dk,lu)=>{"use strict";lu.exports=(e,t=process.argv)=>{let n=e.startsWith("-")?"":e.length===1?"-":"--",i=t.indexOf(n+e),o=t.indexOf("--");return i!==-1&&(o===-1||i<o)}});var du=ut((hk,fu)=>{"use strict";var hg=require("os"),cu=require("tty"),et=uu(),{env:xe}=process,qt;et("no-color")||et("no-colors")||et("color=false")||et("color=never")?qt=0:(et("color")||et("colors")||et("color=true")||et("color=always"))&&(qt=1);"FORCE_COLOR"in xe&&(xe.FORCE_COLOR==="true"?qt=1:xe.FORCE_COLOR==="false"?qt=0:qt=xe.FORCE_COLOR.length===0?1:Math.min(parseInt(xe.FORCE_COLOR,10),3));function bs(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function xs(e,t){if(qt===0)return 0;if(et("color=16m")||et("color=full")||et("color=truecolor"))return 3;if(et("color=256"))return 2;if(e&&!t&&qt===void 0)return 0;let n=qt||0;if(xe.TERM==="dumb")return n;if(process.platform==="win32"){let i=hg.release().split(".");return Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in xe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(i=>i in xe)||xe.CI_NAME==="codeship"?1:n;if("TEAMCITY_VERSION"in xe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(xe.TEAMCITY_VERSION)?1:0;if(xe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in xe){let i=parseInt((xe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(xe.TERM_PROGRAM){case"iTerm.app":return i>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(xe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(xe.TERM)||"COLORTERM"in xe?1:n}function mg(e){let t=xs(e,e&&e.isTTY);return bs(t)}fu.exports={supportsColor:mg,stdout:bs(xs(!0,cu.isatty(1))),stderr:bs(xs(!0,cu.isatty(2)))}});var mu=ut((ve,ki)=>{var pg=require("tty"),yi=require("util");ve.init=vg;ve.log=kg;ve.formatArgs=wg;ve.save=bg;ve.load=xg;ve.useColors=gg;ve.destroy=yi.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");ve.colors=[6,2,3,4,5,1];try{let e=du();e&&(e.stderr||e).level>=2&&(ve.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}ve.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(o,s)=>s.toUpperCase()),i=process.env[t];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),e[n]=i,e},{});function gg(){return"colors"in ve.inspectOpts?!!ve.inspectOpts.colors:pg.isatty(process.stderr.fd)}function wg(e){let{namespace:t,useColors:n}=this;if(n){let i=this.color,o="\x1B[3"+(i<8?i:"8;5;"+i),s=`  ${o};1m${t} \x1B[0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(o+"m+"+ki.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=yg()+t+" "+e[0]}function yg(){return ve.inspectOpts.hideDate?"":new Date().toISOString()+" "}function kg(...e){return process.stderr.write(yi.formatWithOptions(ve.inspectOpts,...e)+`
`)}function bg(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function xg(){return process.env.DEBUG}function vg(e){e.inspectOpts={};let t=Object.keys(ve.inspectOpts);for(let n=0;n<t.length;n++)e.inspectOpts[t[n]]=ve.inspectOpts[t[n]]}ki.exports=ks()(ve);var{formatters:hu}=ki.exports;hu.o=function(e){return this.inspectOpts.colors=this.useColors,yi.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};hu.O=function(e){return this.inspectOpts.colors=this.useColors,yi.inspect(e,this.inspectOpts)}});var pu=ut((mk,vs)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?vs.exports=au():vs.exports=mu()});var Mu=ut((_i,Pu)=>{(function(e,t){typeof _i=="object"&&typeof Pu<"u"?t(_i):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.compareVersions={}))})(_i,function(e){"use strict";let t=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=E=>{if(typeof E!="string")throw new TypeError("Invalid argument expected string");let C=E.match(t);if(!C)throw new Error(`Invalid argument not valid semver ('${E}' received)`);return C.shift(),C},i=E=>E==="*"||E==="x"||E==="X",o=E=>{let C=parseInt(E,10);return isNaN(C)?E:C},s=(E,C)=>typeof E!=typeof C?[String(E),String(C)]:[E,C],l=(E,C)=>{if(i(E)||i(C))return 0;let[T,P]=s(o(E),o(C));return T>P?1:T<P?-1:0},u=(E,C)=>{for(let T=0;T<Math.max(E.length,C.length);T++){let P=l(E[T]||"0",C[T]||"0");if(P!==0)return P}return 0},f=(E,C)=>{let T=n(E),P=n(C),W=T.pop(),z=P.pop(),S=u(T,P);return S!==0?S:W&&z?u(W.split("."),z.split(".")):W||z?W?-1:1:0},h=(E,C,T)=>{w(T);let P=f(E,C);return m[T].includes(P)},m={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},g=Object.keys(m),w=E=>{if(typeof E!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof E}`);if(g.indexOf(E)===-1)throw new Error(`Invalid operator, expected one of ${g.join("|")}`)},y=(E,C)=>{if(C=C.replace(/([><=]+)\s+/g,"$1"),C.includes("||"))return C.split("||").some(ee=>y(E,ee));if(C.includes(" - ")){let[ee,ue]=C.split(" - ",2);return y(E,`>=${ee} <=${ue}`)}else if(C.includes(" "))return C.trim().replace(/\s{2,}/g," ").split(" ").every(ee=>y(E,ee));let T=C.match(/^([<>=~^]+)/),P=T?T[1]:"=";if(P!=="^"&&P!=="~")return h(E,C,P);let[W,z,S,,Q]=n(E),[j,G,ne,,oe]=n(C),X=[W,z,S],N=[j,G??"x",ne??"x"];if(oe&&(!Q||u(X,N)!==0||u(Q.split("."),oe.split("."))===-1))return!1;let U=N.findIndex(ee=>ee!=="0")+1,B=P==="~"?2:U>1?U:1;return!(u(X.slice(0,B),N.slice(0,B))!==0||u(X.slice(B),N.slice(B))===-1)},v=E=>typeof E=="string"&&/^[v\d]/.test(E)&&t.test(E),F=E=>typeof E=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(E);e.compare=h,e.compareVersions=f,e.satisfies=y,e.validate=v,e.validateStrict=F})});var sf=ut((fS,of)=>{"use strict";var Qi=Object.prototype.hasOwnProperty,rf=Object.prototype.toString,Qc=Object.defineProperty,Jc=Object.getOwnPropertyDescriptor,Xc=function(t){return typeof Array.isArray=="function"?Array.isArray(t):rf.call(t)==="[object Array]"},ef=function(t){if(!t||rf.call(t)!=="[object Object]")return!1;var n=Qi.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&Qi.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return!1;var o;for(o in t);return typeof o>"u"||Qi.call(t,o)},tf=function(t,n){Qc&&n.name==="__proto__"?Qc(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},nf=function(t,n){if(n==="__proto__")if(Qi.call(t,n)){if(Jc)return Jc(t,n).value}else return;return t[n]};of.exports=function e(){var t,n,i,o,s,l,u=arguments[0],f=1,h=arguments.length,m=!1;for(typeof u=="boolean"&&(m=u,u=arguments[1]||{},f=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});f<h;++f)if(t=arguments[f],t!=null)for(n in t)i=nf(u,n),o=nf(t,n),u!==o&&(m&&o&&(ef(o)||(s=Xc(o)))?(s?(s=!1,l=i&&Xc(i)?i:[]):l=i&&ef(i)?i:{},tf(u,{name:n,newValue:e(m,l,o)})):typeof o<"u"&&tf(u,{name:n,newValue:o}));return u}});var vn=ut((Ba,or)=>{(function(e,t){typeof Ba=="object"&&typeof or<"u"?or.exports=t():typeof define=="function"&&define.amd?define(t):e.moment=t()})(Ba,function(){"use strict";var e;function t(){return e.apply(null,arguments)}function n(r){e=r}function i(r){return r instanceof Array||Object.prototype.toString.call(r)==="[object Array]"}function o(r){return r!=null&&Object.prototype.toString.call(r)==="[object Object]"}function s(r,a){return Object.prototype.hasOwnProperty.call(r,a)}function l(r){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(r).length===0;var a;for(a in r)if(s(r,a))return!1;return!0}function u(r){return r===void 0}function f(r){return typeof r=="number"||Object.prototype.toString.call(r)==="[object Number]"}function h(r){return r instanceof Date||Object.prototype.toString.call(r)==="[object Date]"}function m(r,a){var c=[],d,p=r.length;for(d=0;d<p;++d)c.push(a(r[d],d));return c}function g(r,a){for(var c in a)s(a,c)&&(r[c]=a[c]);return s(a,"toString")&&(r.toString=a.toString),s(a,"valueOf")&&(r.valueOf=a.valueOf),r}function w(r,a,c,d){return hl(r,a,c,d,!0).utc()}function y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(r){return r._pf==null&&(r._pf=y()),r._pf}var F;Array.prototype.some?F=Array.prototype.some:F=function(r){var a=Object(this),c=a.length>>>0,d;for(d=0;d<c;d++)if(d in a&&r.call(this,a[d],d,a))return!0;return!1};function E(r){var a=null,c=!1,d=r._d&&!isNaN(r._d.getTime());if(d&&(a=v(r),c=F.call(a.parsedDateParts,function(p){return p!=null}),d=a.overflow<0&&!a.empty&&!a.invalidEra&&!a.invalidMonth&&!a.invalidWeekday&&!a.weekdayMismatch&&!a.nullInput&&!a.invalidFormat&&!a.userInvalidated&&(!a.meridiem||a.meridiem&&c),r._strict&&(d=d&&a.charsLeftOver===0&&a.unusedTokens.length===0&&a.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(r))r._isValid=d;else return d;return r._isValid}function C(r){var a=w(NaN);return r!=null?g(v(a),r):v(a).userInvalidated=!0,a}var T=t.momentProperties=[],P=!1;function W(r,a){var c,d,p,b=T.length;if(u(a._isAMomentObject)||(r._isAMomentObject=a._isAMomentObject),u(a._i)||(r._i=a._i),u(a._f)||(r._f=a._f),u(a._l)||(r._l=a._l),u(a._strict)||(r._strict=a._strict),u(a._tzm)||(r._tzm=a._tzm),u(a._isUTC)||(r._isUTC=a._isUTC),u(a._offset)||(r._offset=a._offset),u(a._pf)||(r._pf=v(a)),u(a._locale)||(r._locale=a._locale),b>0)for(c=0;c<b;c++)d=T[c],p=a[d],u(p)||(r[d]=p);return r}function z(r){W(this,r),this._d=new Date(r._d!=null?r._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),P===!1&&(P=!0,t.updateOffset(this),P=!1)}function S(r){return r instanceof z||r!=null&&r._isAMomentObject!=null}function Q(r){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+r)}function j(r,a){var c=!0;return g(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,r),c){var d=[],p,b,A,O=arguments.length;for(b=0;b<O;b++){if(p="",typeof arguments[b]=="object"){p+=`
[`+b+"] ";for(A in arguments[0])s(arguments[0],A)&&(p+=A+": "+arguments[0][A]+", ");p=p.slice(0,-2)}else p=arguments[b];d.push(p)}Q(r+`
Arguments: `+Array.prototype.slice.call(d).join("")+`
`+new Error().stack),c=!1}return a.apply(this,arguments)},a)}var G={};function ne(r,a){t.deprecationHandler!=null&&t.deprecationHandler(r,a),G[r]||(Q(a),G[r]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function oe(r){return typeof Function<"u"&&r instanceof Function||Object.prototype.toString.call(r)==="[object Function]"}function X(r){var a,c;for(c in r)s(r,c)&&(a=r[c],oe(a)?this[c]=a:this["_"+c]=a);this._config=r,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function N(r,a){var c=g({},r),d;for(d in a)s(a,d)&&(o(r[d])&&o(a[d])?(c[d]={},g(c[d],r[d]),g(c[d],a[d])):a[d]!=null?c[d]=a[d]:delete c[d]);for(d in r)s(r,d)&&!s(a,d)&&o(r[d])&&(c[d]=g({},c[d]));return c}function U(r){r!=null&&this.set(r)}var B;Object.keys?B=Object.keys:B=function(r){var a,c=[];for(a in r)s(r,a)&&c.push(a);return c};var ee={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ue(r,a,c){var d=this._calendar[r]||this._calendar.sameElse;return oe(d)?d.call(a,c):d}function fe(r,a,c){var d=""+Math.abs(r),p=a-d.length,b=r>=0;return(b?c?"+":"":"-")+Math.pow(10,Math.max(0,p)).toString().substr(1)+d}var We=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,x=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Se={},_e={};function k(r,a,c,d){var p=d;typeof d=="string"&&(p=function(){return this[d]()}),r&&(_e[r]=p),a&&(_e[a[0]]=function(){return fe(p.apply(this,arguments),a[1],a[2])}),c&&(_e[c]=function(){return this.localeData().ordinal(p.apply(this,arguments),r)})}function Me(r){return r.match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"")}function At(r){var a=r.match(We),c,d;for(c=0,d=a.length;c<d;c++)_e[a[c]]?a[c]=_e[a[c]]:a[c]=Me(a[c]);return function(p){var b="",A;for(A=0;A<d;A++)b+=oe(a[A])?a[A].call(p,r):a[A];return b}}function zt(r,a){return r.isValid()?(a=nn(a,r.localeData()),Se[a]=Se[a]||At(a),Se[a](r)):r.localeData().invalidDate()}function nn(r,a){var c=5;function d(p){return a.longDateFormat(p)||p}for(x.lastIndex=0;c>=0&&x.test(r);)r=r.replace(x,d),x.lastIndex=0,c-=1;return r}var ge={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function rn(r){var a=this._longDateFormat[r],c=this._longDateFormat[r.toUpperCase()];return a||!c?a:(this._longDateFormat[r]=c.match(We).map(function(d){return d==="MMMM"||d==="MM"||d==="DD"||d==="dddd"?d.slice(1):d}).join(""),this._longDateFormat[r])}var rt="Invalid date";function St(){return this._invalidDate}var Ut="%d",lr=/\d{1,2}/;function $o(r){return this._ordinal.replace("%d",r)}var $r={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function jr(r,a,c,d){var p=this._relativeTime[c];return oe(p)?p(r,a,c,d):p.replace(/%d/i,r)}function Gr(r,a){var c=this._relativeTime[r>0?"future":"past"];return oe(c)?c(a):c.replace(/%s/i,a)}var qr={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ie(r){return typeof r=="string"?qr[r]||qr[r.toLowerCase()]:void 0}function An(r){var a={},c,d;for(d in r)s(r,d)&&(c=Ie(d),c&&(a[c]=r[d]));return a}var jo={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Go(r){var a=[],c;for(c in r)s(r,c)&&a.push({unit:c,priority:jo[c]});return a.sort(function(d,p){return d.priority-p.priority}),a}var Zr=/\d/,De=/\d\d/,Kr=/\d{3}/,_=/\d{4}/,I=/[+-]?\d{6}/,D=/\d\d?/,q=/\d\d\d\d?/,re=/\d\d\d\d\d\d?/,Ee=/\d{1,3}/,it=/\d{1,4}/,Be=/[+-]?\d{1,6}/,Ze=/\d+/,mt=/[+-]?\d+/,Oe=/Z|[+-]\d\d:?\d\d/gi,ot=/Z|[+-]\d\d(?::?\d\d)?/gi,st=/[+-]?\d+(\.\d{1,3})?/,ur=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Sn=/^[1-9]\d?/,qo=/^([1-9]\d|\d)/,Qr;Qr={};function L(r,a,c){Qr[r]=oe(a)?a:function(d,p){return d&&c?c:a}}function id(r,a){return s(Qr,r)?Qr[r](a._strict,a._locale):new RegExp(od(r))}function od(r){return _t(r.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,c,d,p,b){return c||d||p||b}))}function _t(r){return r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ke(r){return r<0?Math.ceil(r)||0:Math.floor(r)}function Z(r){var a=+r,c=0;return a!==0&&isFinite(a)&&(c=Ke(a)),c}var Zo={};function ie(r,a){var c,d=a,p;for(typeof r=="string"&&(r=[r]),f(a)&&(d=function(b,A){A[a]=Z(b)}),p=r.length,c=0;c<p;c++)Zo[r[c]]=d}function cr(r,a){ie(r,function(c,d,p,b){p._w=p._w||{},a(c,p._w,p,b)})}function sd(r,a,c){a!=null&&s(Zo,r)&&Zo[r](a,c._a,c,r)}function Jr(r){return r%4===0&&r%100!==0||r%400===0}var Te=0,Et=1,pt=2,we=3,at=4,Tt=5,on=6,ad=7,ld=8;k("Y",0,0,function(){var r=this.year();return r<=9999?fe(r,4):"+"+r}),k(0,["YY",2],0,function(){return this.year()%100}),k(0,["YYYY",4],0,"year"),k(0,["YYYYY",5],0,"year"),k(0,["YYYYYY",6,!0],0,"year"),L("Y",mt),L("YY",D,De),L("YYYY",it,_),L("YYYYY",Be,I),L("YYYYYY",Be,I),ie(["YYYYY","YYYYYY"],Te),ie("YYYY",function(r,a){a[Te]=r.length===2?t.parseTwoDigitYear(r):Z(r)}),ie("YY",function(r,a){a[Te]=t.parseTwoDigitYear(r)}),ie("Y",function(r,a){a[Te]=parseInt(r,10)});function fr(r){return Jr(r)?366:365}t.parseTwoDigitYear=function(r){return Z(r)+(Z(r)>68?1900:2e3)};var Qa=_n("FullYear",!0);function ud(){return Jr(this.year())}function _n(r,a){return function(c){return c!=null?(Ja(this,r,c),t.updateOffset(this,a),this):dr(this,r)}}function dr(r,a){if(!r.isValid())return NaN;var c=r._d,d=r._isUTC;switch(a){case"Milliseconds":return d?c.getUTCMilliseconds():c.getMilliseconds();case"Seconds":return d?c.getUTCSeconds():c.getSeconds();case"Minutes":return d?c.getUTCMinutes():c.getMinutes();case"Hours":return d?c.getUTCHours():c.getHours();case"Date":return d?c.getUTCDate():c.getDate();case"Day":return d?c.getUTCDay():c.getDay();case"Month":return d?c.getUTCMonth():c.getMonth();case"FullYear":return d?c.getUTCFullYear():c.getFullYear();default:return NaN}}function Ja(r,a,c){var d,p,b,A,O;if(!(!r.isValid()||isNaN(c))){switch(d=r._d,p=r._isUTC,a){case"Milliseconds":return void(p?d.setUTCMilliseconds(c):d.setMilliseconds(c));case"Seconds":return void(p?d.setUTCSeconds(c):d.setSeconds(c));case"Minutes":return void(p?d.setUTCMinutes(c):d.setMinutes(c));case"Hours":return void(p?d.setUTCHours(c):d.setHours(c));case"Date":return void(p?d.setUTCDate(c):d.setDate(c));case"FullYear":break;default:return}b=c,A=r.month(),O=r.date(),O=O===29&&A===1&&!Jr(b)?28:O,p?d.setUTCFullYear(b,A,O):d.setFullYear(b,A,O)}}function cd(r){return r=Ie(r),oe(this[r])?this[r]():this}function fd(r,a){if(typeof r=="object"){r=An(r);var c=Go(r),d,p=c.length;for(d=0;d<p;d++)this[c[d].unit](r[c[d].unit])}else if(r=Ie(r),oe(this[r]))return this[r](a);return this}function dd(r,a){return(r%a+a)%a}var de;Array.prototype.indexOf?de=Array.prototype.indexOf:de=function(r){var a;for(a=0;a<this.length;++a)if(this[a]===r)return a;return-1};function Ko(r,a){if(isNaN(r)||isNaN(a))return NaN;var c=dd(a,12);return r+=(a-c)/12,c===1?Jr(r)?29:28:31-c%7%2}k("M",["MM",2],"Mo",function(){return this.month()+1}),k("MMM",0,0,function(r){return this.localeData().monthsShort(this,r)}),k("MMMM",0,0,function(r){return this.localeData().months(this,r)}),L("M",D,Sn),L("MM",D,De),L("MMM",function(r,a){return a.monthsShortRegex(r)}),L("MMMM",function(r,a){return a.monthsRegex(r)}),ie(["M","MM"],function(r,a){a[Et]=Z(r)-1}),ie(["MMM","MMMM"],function(r,a,c,d){var p=c._locale.monthsParse(r,d,c._strict);p!=null?a[Et]=p:v(c).invalidMonth=r});var hd="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Xa="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),el=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,md=ur,pd=ur;function gd(r,a){return r?i(this._months)?this._months[r.month()]:this._months[(this._months.isFormat||el).test(a)?"format":"standalone"][r.month()]:i(this._months)?this._months:this._months.standalone}function wd(r,a){return r?i(this._monthsShort)?this._monthsShort[r.month()]:this._monthsShort[el.test(a)?"format":"standalone"][r.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function yd(r,a,c){var d,p,b,A=r.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)b=w([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(b,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(b,"").toLocaleLowerCase();return c?a==="MMM"?(p=de.call(this._shortMonthsParse,A),p!==-1?p:null):(p=de.call(this._longMonthsParse,A),p!==-1?p:null):a==="MMM"?(p=de.call(this._shortMonthsParse,A),p!==-1?p:(p=de.call(this._longMonthsParse,A),p!==-1?p:null)):(p=de.call(this._longMonthsParse,A),p!==-1?p:(p=de.call(this._shortMonthsParse,A),p!==-1?p:null))}function kd(r,a,c){var d,p,b;if(this._monthsParseExact)return yd.call(this,r,a,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(p=w([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(p,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(p,"").replace(".","")+"$","i")),!c&&!this._monthsParse[d]&&(b="^"+this.months(p,"")+"|^"+this.monthsShort(p,""),this._monthsParse[d]=new RegExp(b.replace(".",""),"i")),c&&a==="MMMM"&&this._longMonthsParse[d].test(r))return d;if(c&&a==="MMM"&&this._shortMonthsParse[d].test(r))return d;if(!c&&this._monthsParse[d].test(r))return d}}function tl(r,a){if(!r.isValid())return r;if(typeof a=="string"){if(/^\d+$/.test(a))a=Z(a);else if(a=r.localeData().monthsParse(a),!f(a))return r}var c=a,d=r.date();return d=d<29?d:Math.min(d,Ko(r.year(),c)),r._isUTC?r._d.setUTCMonth(c,d):r._d.setMonth(c,d),r}function nl(r){return r!=null?(tl(this,r),t.updateOffset(this,!0),this):dr(this,"Month")}function bd(){return Ko(this.year(),this.month())}function xd(r){return this._monthsParseExact?(s(this,"_monthsRegex")||rl.call(this),r?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=md),this._monthsShortStrictRegex&&r?this._monthsShortStrictRegex:this._monthsShortRegex)}function vd(r){return this._monthsParseExact?(s(this,"_monthsRegex")||rl.call(this),r?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=pd),this._monthsStrictRegex&&r?this._monthsStrictRegex:this._monthsRegex)}function rl(){function r(V,K){return K.length-V.length}var a=[],c=[],d=[],p,b,A,O;for(p=0;p<12;p++)b=w([2e3,p]),A=_t(this.monthsShort(b,"")),O=_t(this.months(b,"")),a.push(A),c.push(O),d.push(O),d.push(A);a.sort(r),c.sort(r),d.sort(r),this._monthsRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Cd(r,a,c,d,p,b,A){var O;return r<100&&r>=0?(O=new Date(r+400,a,c,d,p,b,A),isFinite(O.getFullYear())&&O.setFullYear(r)):O=new Date(r,a,c,d,p,b,A),O}function hr(r){var a,c;return r<100&&r>=0?(c=Array.prototype.slice.call(arguments),c[0]=r+400,a=new Date(Date.UTC.apply(null,c)),isFinite(a.getUTCFullYear())&&a.setUTCFullYear(r)):a=new Date(Date.UTC.apply(null,arguments)),a}function Xr(r,a,c){var d=7+a-c,p=(7+hr(r,0,d).getUTCDay()-a)%7;return-p+d-1}function il(r,a,c,d,p){var b=(7+c-d)%7,A=Xr(r,d,p),O=1+7*(a-1)+b+A,V,K;return O<=0?(V=r-1,K=fr(V)+O):O>fr(r)?(V=r+1,K=O-fr(r)):(V=r,K=O),{year:V,dayOfYear:K}}function mr(r,a,c){var d=Xr(r.year(),a,c),p=Math.floor((r.dayOfYear()-d-1)/7)+1,b,A;return p<1?(A=r.year()-1,b=p+Ft(A,a,c)):p>Ft(r.year(),a,c)?(b=p-Ft(r.year(),a,c),A=r.year()+1):(A=r.year(),b=p),{week:b,year:A}}function Ft(r,a,c){var d=Xr(r,a,c),p=Xr(r+1,a,c);return(fr(r)-d+p)/7}k("w",["ww",2],"wo","week"),k("W",["WW",2],"Wo","isoWeek"),L("w",D,Sn),L("ww",D,De),L("W",D,Sn),L("WW",D,De),cr(["w","ww","W","WW"],function(r,a,c,d){a[d.substr(0,1)]=Z(r)});function Ad(r){return mr(r,this._week.dow,this._week.doy).week}var Sd={dow:0,doy:6};function _d(){return this._week.dow}function Ed(){return this._week.doy}function Td(r){var a=this.localeData().week(this);return r==null?a:this.add((r-a)*7,"d")}function Fd(r){var a=mr(this,1,4).week;return r==null?a:this.add((r-a)*7,"d")}k("d",0,"do","day"),k("dd",0,0,function(r){return this.localeData().weekdaysMin(this,r)}),k("ddd",0,0,function(r){return this.localeData().weekdaysShort(this,r)}),k("dddd",0,0,function(r){return this.localeData().weekdays(this,r)}),k("e",0,0,"weekday"),k("E",0,0,"isoWeekday"),L("d",D),L("e",D),L("E",D),L("dd",function(r,a){return a.weekdaysMinRegex(r)}),L("ddd",function(r,a){return a.weekdaysShortRegex(r)}),L("dddd",function(r,a){return a.weekdaysRegex(r)}),cr(["dd","ddd","dddd"],function(r,a,c,d){var p=c._locale.weekdaysParse(r,d,c._strict);p!=null?a.d=p:v(c).invalidWeekday=r}),cr(["d","e","E"],function(r,a,c,d){a[d]=Z(r)});function Pd(r,a){return typeof r!="string"?r:isNaN(r)?(r=a.weekdaysParse(r),typeof r=="number"?r:null):parseInt(r,10)}function Md(r,a){return typeof r=="string"?a.weekdaysParse(r)%7||7:isNaN(r)?null:r}function Qo(r,a){return r.slice(a,7).concat(r.slice(0,a))}var Id="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ol="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Dd="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Od=ur,Ld=ur,Rd=ur;function Nd(r,a){var c=i(this._weekdays)?this._weekdays:this._weekdays[r&&r!==!0&&this._weekdays.isFormat.test(a)?"format":"standalone"];return r===!0?Qo(c,this._week.dow):r?c[r.day()]:c}function Yd(r){return r===!0?Qo(this._weekdaysShort,this._week.dow):r?this._weekdaysShort[r.day()]:this._weekdaysShort}function Wd(r){return r===!0?Qo(this._weekdaysMin,this._week.dow):r?this._weekdaysMin[r.day()]:this._weekdaysMin}function Bd(r,a,c){var d,p,b,A=r.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)b=w([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(b,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(b,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(b,"").toLocaleLowerCase();return c?a==="dddd"?(p=de.call(this._weekdaysParse,A),p!==-1?p:null):a==="ddd"?(p=de.call(this._shortWeekdaysParse,A),p!==-1?p:null):(p=de.call(this._minWeekdaysParse,A),p!==-1?p:null):a==="dddd"?(p=de.call(this._weekdaysParse,A),p!==-1||(p=de.call(this._shortWeekdaysParse,A),p!==-1)?p:(p=de.call(this._minWeekdaysParse,A),p!==-1?p:null)):a==="ddd"?(p=de.call(this._shortWeekdaysParse,A),p!==-1||(p=de.call(this._weekdaysParse,A),p!==-1)?p:(p=de.call(this._minWeekdaysParse,A),p!==-1?p:null)):(p=de.call(this._minWeekdaysParse,A),p!==-1||(p=de.call(this._weekdaysParse,A),p!==-1)?p:(p=de.call(this._shortWeekdaysParse,A),p!==-1?p:null))}function Vd(r,a,c){var d,p,b;if(this._weekdaysParseExact)return Bd.call(this,r,a,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(p=w([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(p,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(p,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(p,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[d]||(b="^"+this.weekdays(p,"")+"|^"+this.weekdaysShort(p,"")+"|^"+this.weekdaysMin(p,""),this._weekdaysParse[d]=new RegExp(b.replace(".",""),"i")),c&&a==="dddd"&&this._fullWeekdaysParse[d].test(r))return d;if(c&&a==="ddd"&&this._shortWeekdaysParse[d].test(r))return d;if(c&&a==="dd"&&this._minWeekdaysParse[d].test(r))return d;if(!c&&this._weekdaysParse[d].test(r))return d}}function zd(r){if(!this.isValid())return r!=null?this:NaN;var a=dr(this,"Day");return r!=null?(r=Pd(r,this.localeData()),this.add(r-a,"d")):a}function Ud(r){if(!this.isValid())return r!=null?this:NaN;var a=(this.day()+7-this.localeData()._week.dow)%7;return r==null?a:this.add(r-a,"d")}function Hd(r){if(!this.isValid())return r!=null?this:NaN;if(r!=null){var a=Md(r,this.localeData());return this.day(this.day()%7?a:a-7)}else return this.day()||7}function $d(r){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jo.call(this),r?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Od),this._weekdaysStrictRegex&&r?this._weekdaysStrictRegex:this._weekdaysRegex)}function jd(r){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jo.call(this),r?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ld),this._weekdaysShortStrictRegex&&r?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Gd(r){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jo.call(this),r?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Rd),this._weekdaysMinStrictRegex&&r?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Jo(){function r(Le,Ot){return Ot.length-Le.length}var a=[],c=[],d=[],p=[],b,A,O,V,K;for(b=0;b<7;b++)A=w([2e3,1]).day(b),O=_t(this.weekdaysMin(A,"")),V=_t(this.weekdaysShort(A,"")),K=_t(this.weekdays(A,"")),a.push(O),c.push(V),d.push(K),p.push(O),p.push(V),p.push(K);a.sort(r),c.sort(r),d.sort(r),p.sort(r),this._weekdaysRegex=new RegExp("^("+p.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Xo(){return this.hours()%12||12}function qd(){return this.hours()||24}k("H",["HH",2],0,"hour"),k("h",["hh",2],0,Xo),k("k",["kk",2],0,qd),k("hmm",0,0,function(){return""+Xo.apply(this)+fe(this.minutes(),2)}),k("hmmss",0,0,function(){return""+Xo.apply(this)+fe(this.minutes(),2)+fe(this.seconds(),2)}),k("Hmm",0,0,function(){return""+this.hours()+fe(this.minutes(),2)}),k("Hmmss",0,0,function(){return""+this.hours()+fe(this.minutes(),2)+fe(this.seconds(),2)});function sl(r,a){k(r,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),a)})}sl("a",!0),sl("A",!1);function al(r,a){return a._meridiemParse}L("a",al),L("A",al),L("H",D,qo),L("h",D,Sn),L("k",D,Sn),L("HH",D,De),L("hh",D,De),L("kk",D,De),L("hmm",q),L("hmmss",re),L("Hmm",q),L("Hmmss",re),ie(["H","HH"],we),ie(["k","kk"],function(r,a,c){var d=Z(r);a[we]=d===24?0:d}),ie(["a","A"],function(r,a,c){c._isPm=c._locale.isPM(r),c._meridiem=r}),ie(["h","hh"],function(r,a,c){a[we]=Z(r),v(c).bigHour=!0}),ie("hmm",function(r,a,c){var d=r.length-2;a[we]=Z(r.substr(0,d)),a[at]=Z(r.substr(d)),v(c).bigHour=!0}),ie("hmmss",function(r,a,c){var d=r.length-4,p=r.length-2;a[we]=Z(r.substr(0,d)),a[at]=Z(r.substr(d,2)),a[Tt]=Z(r.substr(p)),v(c).bigHour=!0}),ie("Hmm",function(r,a,c){var d=r.length-2;a[we]=Z(r.substr(0,d)),a[at]=Z(r.substr(d))}),ie("Hmmss",function(r,a,c){var d=r.length-4,p=r.length-2;a[we]=Z(r.substr(0,d)),a[at]=Z(r.substr(d,2)),a[Tt]=Z(r.substr(p))});function Zd(r){return(r+"").toLowerCase().charAt(0)==="p"}var Kd=/[ap]\.?m?\.?/i,Qd=_n("Hours",!0);function Jd(r,a,c){return r>11?c?"pm":"PM":c?"am":"AM"}var ll={calendar:ee,longDateFormat:ge,invalidDate:rt,ordinal:Ut,dayOfMonthOrdinalParse:lr,relativeTime:$r,months:hd,monthsShort:Xa,week:Sd,weekdays:Id,weekdaysMin:Dd,weekdaysShort:ol,meridiemParse:Kd},le={},pr={},gr;function Xd(r,a){var c,d=Math.min(r.length,a.length);for(c=0;c<d;c+=1)if(r[c]!==a[c])return c;return d}function ul(r){return r&&r.toLowerCase().replace("_","-")}function eh(r){for(var a=0,c,d,p,b;a<r.length;){for(b=ul(r[a]).split("-"),c=b.length,d=ul(r[a+1]),d=d?d.split("-"):null;c>0;){if(p=ei(b.slice(0,c).join("-")),p)return p;if(d&&d.length>=c&&Xd(b,d)>=c-1)break;c--}a++}return gr}function th(r){return!!(r&&r.match("^[^/\\\\]*$"))}function ei(r){var a=null,c;if(le[r]===void 0&&typeof or<"u"&&or&&or.exports&&th(r))try{a=gr._abbr,c=require,c("./locale/"+r),Ht(a)}catch{le[r]=null}return le[r]}function Ht(r,a){var c;return r&&(u(a)?c=Pt(r):c=es(r,a),c?gr=c:typeof console<"u"&&console.warn&&console.warn("Locale "+r+" not found. Did you forget to load it?")),gr._abbr}function es(r,a){if(a!==null){var c,d=ll;if(a.abbr=r,le[r]!=null)ne("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),d=le[r]._config;else if(a.parentLocale!=null)if(le[a.parentLocale]!=null)d=le[a.parentLocale]._config;else if(c=ei(a.parentLocale),c!=null)d=c._config;else return pr[a.parentLocale]||(pr[a.parentLocale]=[]),pr[a.parentLocale].push({name:r,config:a}),null;return le[r]=new U(N(d,a)),pr[r]&&pr[r].forEach(function(p){es(p.name,p.config)}),Ht(r),le[r]}else return delete le[r],null}function nh(r,a){if(a!=null){var c,d,p=ll;le[r]!=null&&le[r].parentLocale!=null?le[r].set(N(le[r]._config,a)):(d=ei(r),d!=null&&(p=d._config),a=N(p,a),d==null&&(a.abbr=r),c=new U(a),c.parentLocale=le[r],le[r]=c),Ht(r)}else le[r]!=null&&(le[r].parentLocale!=null?(le[r]=le[r].parentLocale,r===Ht()&&Ht(r)):le[r]!=null&&delete le[r]);return le[r]}function Pt(r){var a;if(r&&r._locale&&r._locale._abbr&&(r=r._locale._abbr),!r)return gr;if(!i(r)){if(a=ei(r),a)return a;r=[r]}return eh(r)}function rh(){return B(le)}function ts(r){var a,c=r._a;return c&&v(r).overflow===-2&&(a=c[Et]<0||c[Et]>11?Et:c[pt]<1||c[pt]>Ko(c[Te],c[Et])?pt:c[we]<0||c[we]>24||c[we]===24&&(c[at]!==0||c[Tt]!==0||c[on]!==0)?we:c[at]<0||c[at]>59?at:c[Tt]<0||c[Tt]>59?Tt:c[on]<0||c[on]>999?on:-1,v(r)._overflowDayOfYear&&(a<Te||a>pt)&&(a=pt),v(r)._overflowWeeks&&a===-1&&(a=ad),v(r)._overflowWeekday&&a===-1&&(a=ld),v(r).overflow=a),r}var ih=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,oh=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sh=/Z|[+-]\d\d(?::?\d\d)?/,ti=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ns=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ah=/^\/?Date\((-?\d+)/i,lh=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,uh={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function cl(r){var a,c,d=r._i,p=ih.exec(d)||oh.exec(d),b,A,O,V,K=ti.length,Le=ns.length;if(p){for(v(r).iso=!0,a=0,c=K;a<c;a++)if(ti[a][1].exec(p[1])){A=ti[a][0],b=ti[a][2]!==!1;break}if(A==null){r._isValid=!1;return}if(p[3]){for(a=0,c=Le;a<c;a++)if(ns[a][1].exec(p[3])){O=(p[2]||" ")+ns[a][0];break}if(O==null){r._isValid=!1;return}}if(!b&&O!=null){r._isValid=!1;return}if(p[4])if(sh.exec(p[4]))V="Z";else{r._isValid=!1;return}r._f=A+(O||"")+(V||""),is(r)}else r._isValid=!1}function ch(r,a,c,d,p,b){var A=[fh(r),Xa.indexOf(a),parseInt(c,10),parseInt(d,10),parseInt(p,10)];return b&&A.push(parseInt(b,10)),A}function fh(r){var a=parseInt(r,10);return a<=49?2e3+a:a<=999?1900+a:a}function dh(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function hh(r,a,c){if(r){var d=ol.indexOf(r),p=new Date(a[0],a[1],a[2]).getDay();if(d!==p)return v(c).weekdayMismatch=!0,c._isValid=!1,!1}return!0}function mh(r,a,c){if(r)return uh[r];if(a)return 0;var d=parseInt(c,10),p=d%100,b=(d-p)/100;return b*60+p}function fl(r){var a=lh.exec(dh(r._i)),c;if(a){if(c=ch(a[4],a[3],a[2],a[5],a[6],a[7]),!hh(a[1],c,r))return;r._a=c,r._tzm=mh(a[8],a[9],a[10]),r._d=hr.apply(null,r._a),r._d.setUTCMinutes(r._d.getUTCMinutes()-r._tzm),v(r).rfc2822=!0}else r._isValid=!1}function ph(r){var a=ah.exec(r._i);if(a!==null){r._d=new Date(+a[1]);return}if(cl(r),r._isValid===!1)delete r._isValid;else return;if(fl(r),r._isValid===!1)delete r._isValid;else return;r._strict?r._isValid=!1:t.createFromInputFallback(r)}t.createFromInputFallback=j("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(r){r._d=new Date(r._i+(r._useUTC?" UTC":""))});function En(r,a,c){return r??a??c}function gh(r){var a=new Date(t.now());return r._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()]}function rs(r){var a,c,d=[],p,b,A;if(!r._d){for(p=gh(r),r._w&&r._a[pt]==null&&r._a[Et]==null&&wh(r),r._dayOfYear!=null&&(A=En(r._a[Te],p[Te]),(r._dayOfYear>fr(A)||r._dayOfYear===0)&&(v(r)._overflowDayOfYear=!0),c=hr(A,0,r._dayOfYear),r._a[Et]=c.getUTCMonth(),r._a[pt]=c.getUTCDate()),a=0;a<3&&r._a[a]==null;++a)r._a[a]=d[a]=p[a];for(;a<7;a++)r._a[a]=d[a]=r._a[a]==null?a===2?1:0:r._a[a];r._a[we]===24&&r._a[at]===0&&r._a[Tt]===0&&r._a[on]===0&&(r._nextDay=!0,r._a[we]=0),r._d=(r._useUTC?hr:Cd).apply(null,d),b=r._useUTC?r._d.getUTCDay():r._d.getDay(),r._tzm!=null&&r._d.setUTCMinutes(r._d.getUTCMinutes()-r._tzm),r._nextDay&&(r._a[we]=24),r._w&&typeof r._w.d<"u"&&r._w.d!==b&&(v(r).weekdayMismatch=!0)}}function wh(r){var a,c,d,p,b,A,O,V,K;a=r._w,a.GG!=null||a.W!=null||a.E!=null?(b=1,A=4,c=En(a.GG,r._a[Te],mr(ae(),1,4).year),d=En(a.W,1),p=En(a.E,1),(p<1||p>7)&&(V=!0)):(b=r._locale._week.dow,A=r._locale._week.doy,K=mr(ae(),b,A),c=En(a.gg,r._a[Te],K.year),d=En(a.w,K.week),a.d!=null?(p=a.d,(p<0||p>6)&&(V=!0)):a.e!=null?(p=a.e+b,(a.e<0||a.e>6)&&(V=!0)):p=b),d<1||d>Ft(c,b,A)?v(r)._overflowWeeks=!0:V!=null?v(r)._overflowWeekday=!0:(O=il(c,d,p,b,A),r._a[Te]=O.year,r._dayOfYear=O.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function is(r){if(r._f===t.ISO_8601){cl(r);return}if(r._f===t.RFC_2822){fl(r);return}r._a=[],v(r).empty=!0;var a=""+r._i,c,d,p,b,A,O=a.length,V=0,K,Le;for(p=nn(r._f,r._locale).match(We)||[],Le=p.length,c=0;c<Le;c++)b=p[c],d=(a.match(id(b,r))||[])[0],d&&(A=a.substr(0,a.indexOf(d)),A.length>0&&v(r).unusedInput.push(A),a=a.slice(a.indexOf(d)+d.length),V+=d.length),_e[b]?(d?v(r).empty=!1:v(r).unusedTokens.push(b),sd(b,d,r)):r._strict&&!d&&v(r).unusedTokens.push(b);v(r).charsLeftOver=O-V,a.length>0&&v(r).unusedInput.push(a),r._a[we]<=12&&v(r).bigHour===!0&&r._a[we]>0&&(v(r).bigHour=void 0),v(r).parsedDateParts=r._a.slice(0),v(r).meridiem=r._meridiem,r._a[we]=yh(r._locale,r._a[we],r._meridiem),K=v(r).era,K!==null&&(r._a[Te]=r._locale.erasConvertYear(K,r._a[Te])),rs(r),ts(r)}function yh(r,a,c){var d;return c==null?a:r.meridiemHour!=null?r.meridiemHour(a,c):(r.isPM!=null&&(d=r.isPM(c),d&&a<12&&(a+=12),!d&&a===12&&(a=0)),a)}function kh(r){var a,c,d,p,b,A,O=!1,V=r._f.length;if(V===0){v(r).invalidFormat=!0,r._d=new Date(NaN);return}for(p=0;p<V;p++)b=0,A=!1,a=W({},r),r._useUTC!=null&&(a._useUTC=r._useUTC),a._f=r._f[p],is(a),E(a)&&(A=!0),b+=v(a).charsLeftOver,b+=v(a).unusedTokens.length*10,v(a).score=b,O?b<d&&(d=b,c=a):(d==null||b<d||A)&&(d=b,c=a,A&&(O=!0));g(r,c||a)}function bh(r){if(!r._d){var a=An(r._i),c=a.day===void 0?a.date:a.day;r._a=m([a.year,a.month,c,a.hour,a.minute,a.second,a.millisecond],function(d){return d&&parseInt(d,10)}),rs(r)}}function xh(r){var a=new z(ts(dl(r)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function dl(r){var a=r._i,c=r._f;return r._locale=r._locale||Pt(r._l),a===null||c===void 0&&a===""?C({nullInput:!0}):(typeof a=="string"&&(r._i=a=r._locale.preparse(a)),S(a)?new z(ts(a)):(h(a)?r._d=a:i(c)?kh(r):c?is(r):vh(r),E(r)||(r._d=null),r))}function vh(r){var a=r._i;u(a)?r._d=new Date(t.now()):h(a)?r._d=new Date(a.valueOf()):typeof a=="string"?ph(r):i(a)?(r._a=m(a.slice(0),function(c){return parseInt(c,10)}),rs(r)):o(a)?bh(r):f(a)?r._d=new Date(a):t.createFromInputFallback(r)}function hl(r,a,c,d,p){var b={};return(a===!0||a===!1)&&(d=a,a=void 0),(c===!0||c===!1)&&(d=c,c=void 0),(o(r)&&l(r)||i(r)&&r.length===0)&&(r=void 0),b._isAMomentObject=!0,b._useUTC=b._isUTC=p,b._l=c,b._i=r,b._f=a,b._strict=d,xh(b)}function ae(r,a,c,d){return hl(r,a,c,d,!1)}var Ch=j("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var r=ae.apply(null,arguments);return this.isValid()&&r.isValid()?r<this?this:r:C()}),Ah=j("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var r=ae.apply(null,arguments);return this.isValid()&&r.isValid()?r>this?this:r:C()});function ml(r,a){var c,d;if(a.length===1&&i(a[0])&&(a=a[0]),!a.length)return ae();for(c=a[0],d=1;d<a.length;++d)(!a[d].isValid()||a[d][r](c))&&(c=a[d]);return c}function Sh(){var r=[].slice.call(arguments,0);return ml("isBefore",r)}function _h(){var r=[].slice.call(arguments,0);return ml("isAfter",r)}var Eh=function(){return Date.now?Date.now():+new Date},wr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Th(r){var a,c=!1,d,p=wr.length;for(a in r)if(s(r,a)&&!(de.call(wr,a)!==-1&&(r[a]==null||!isNaN(r[a]))))return!1;for(d=0;d<p;++d)if(r[wr[d]]){if(c)return!1;parseFloat(r[wr[d]])!==Z(r[wr[d]])&&(c=!0)}return!0}function Fh(){return this._isValid}function Ph(){return lt(NaN)}function ni(r){var a=An(r),c=a.year||0,d=a.quarter||0,p=a.month||0,b=a.week||a.isoWeek||0,A=a.day||0,O=a.hour||0,V=a.minute||0,K=a.second||0,Le=a.millisecond||0;this._isValid=Th(a),this._milliseconds=+Le+K*1e3+V*6e4+O*1e3*60*60,this._days=+A+b*7,this._months=+p+d*3+c*12,this._data={},this._locale=Pt(),this._bubble()}function ri(r){return r instanceof ni}function os(r){return r<0?Math.round(-1*r)*-1:Math.round(r)}function Mh(r,a,c){var d=Math.min(r.length,a.length),p=Math.abs(r.length-a.length),b=0,A;for(A=0;A<d;A++)(c&&r[A]!==a[A]||!c&&Z(r[A])!==Z(a[A]))&&b++;return b+p}function pl(r,a){k(r,0,0,function(){var c=this.utcOffset(),d="+";return c<0&&(c=-c,d="-"),d+fe(~~(c/60),2)+a+fe(~~c%60,2)})}pl("Z",":"),pl("ZZ",""),L("Z",ot),L("ZZ",ot),ie(["Z","ZZ"],function(r,a,c){c._useUTC=!0,c._tzm=ss(ot,r)});var Ih=/([\+\-]|\d\d)/gi;function ss(r,a){var c=(a||"").match(r),d,p,b;return c===null?null:(d=c[c.length-1]||[],p=(d+"").match(Ih)||["-",0,0],b=+(p[1]*60)+Z(p[2]),b===0?0:p[0]==="+"?b:-b)}function as(r,a){var c,d;return a._isUTC?(c=a.clone(),d=(S(r)||h(r)?r.valueOf():ae(r).valueOf())-c.valueOf(),c._d.setTime(c._d.valueOf()+d),t.updateOffset(c,!1),c):ae(r).local()}function ls(r){return-Math.round(r._d.getTimezoneOffset())}t.updateOffset=function(){};function Dh(r,a,c){var d=this._offset||0,p;if(!this.isValid())return r!=null?this:NaN;if(r!=null){if(typeof r=="string"){if(r=ss(ot,r),r===null)return this}else Math.abs(r)<16&&!c&&(r=r*60);return!this._isUTC&&a&&(p=ls(this)),this._offset=r,this._isUTC=!0,p!=null&&this.add(p,"m"),d!==r&&(!a||this._changeInProgress?kl(this,lt(r-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?d:ls(this)}function Oh(r,a){return r!=null?(typeof r!="string"&&(r=-r),this.utcOffset(r,a),this):-this.utcOffset()}function Lh(r){return this.utcOffset(0,r)}function Rh(r){return this._isUTC&&(this.utcOffset(0,r),this._isUTC=!1,r&&this.subtract(ls(this),"m")),this}function Nh(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var r=ss(Oe,this._i);r!=null?this.utcOffset(r):this.utcOffset(0,!0)}return this}function Yh(r){return this.isValid()?(r=r?ae(r).utcOffset():0,(this.utcOffset()-r)%60===0):!1}function Wh(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Bh(){if(!u(this._isDSTShifted))return this._isDSTShifted;var r={},a;return W(r,this),r=dl(r),r._a?(a=r._isUTC?w(r._a):ae(r._a),this._isDSTShifted=this.isValid()&&Mh(r._a,a.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Vh(){return this.isValid()?!this._isUTC:!1}function zh(){return this.isValid()?this._isUTC:!1}function gl(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Uh=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Hh=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function lt(r,a){var c=r,d=null,p,b,A;return ri(r)?c={ms:r._milliseconds,d:r._days,M:r._months}:f(r)||!isNaN(+r)?(c={},a?c[a]=+r:c.milliseconds=+r):(d=Uh.exec(r))?(p=d[1]==="-"?-1:1,c={y:0,d:Z(d[pt])*p,h:Z(d[we])*p,m:Z(d[at])*p,s:Z(d[Tt])*p,ms:Z(os(d[on]*1e3))*p}):(d=Hh.exec(r))?(p=d[1]==="-"?-1:1,c={y:sn(d[2],p),M:sn(d[3],p),w:sn(d[4],p),d:sn(d[5],p),h:sn(d[6],p),m:sn(d[7],p),s:sn(d[8],p)}):c==null?c={}:typeof c=="object"&&("from"in c||"to"in c)&&(A=$h(ae(c.from),ae(c.to)),c={},c.ms=A.milliseconds,c.M=A.months),b=new ni(c),ri(r)&&s(r,"_locale")&&(b._locale=r._locale),ri(r)&&s(r,"_isValid")&&(b._isValid=r._isValid),b}lt.fn=ni.prototype,lt.invalid=Ph;function sn(r,a){var c=r&&parseFloat(r.replace(",","."));return(isNaN(c)?0:c)*a}function wl(r,a){var c={};return c.months=a.month()-r.month()+(a.year()-r.year())*12,r.clone().add(c.months,"M").isAfter(a)&&--c.months,c.milliseconds=+a-+r.clone().add(c.months,"M"),c}function $h(r,a){var c;return r.isValid()&&a.isValid()?(a=as(a,r),r.isBefore(a)?c=wl(r,a):(c=wl(a,r),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function yl(r,a){return function(c,d){var p,b;return d!==null&&!isNaN(+d)&&(ne(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),b=c,c=d,d=b),p=lt(c,d),kl(this,p,r),this}}function kl(r,a,c,d){var p=a._milliseconds,b=os(a._days),A=os(a._months);r.isValid()&&(d=d??!0,A&&tl(r,dr(r,"Month")+A*c),b&&Ja(r,"Date",dr(r,"Date")+b*c),p&&r._d.setTime(r._d.valueOf()+p*c),d&&t.updateOffset(r,b||A))}var jh=yl(1,"add"),Gh=yl(-1,"subtract");function bl(r){return typeof r=="string"||r instanceof String}function qh(r){return S(r)||h(r)||bl(r)||f(r)||Kh(r)||Zh(r)||r===null||r===void 0}function Zh(r){var a=o(r)&&!l(r),c=!1,d=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],p,b,A=d.length;for(p=0;p<A;p+=1)b=d[p],c=c||s(r,b);return a&&c}function Kh(r){var a=i(r),c=!1;return a&&(c=r.filter(function(d){return!f(d)&&bl(r)}).length===0),a&&c}function Qh(r){var a=o(r)&&!l(r),c=!1,d=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],p,b;for(p=0;p<d.length;p+=1)b=d[p],c=c||s(r,b);return a&&c}function Jh(r,a){var c=r.diff(a,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function Xh(r,a){arguments.length===1&&(arguments[0]?qh(arguments[0])?(r=arguments[0],a=void 0):Qh(arguments[0])&&(a=arguments[0],r=void 0):(r=void 0,a=void 0));var c=r||ae(),d=as(c,this).startOf("day"),p=t.calendarFormat(this,d)||"sameElse",b=a&&(oe(a[p])?a[p].call(this,c):a[p]);return this.format(b||this.localeData().calendar(p,this,ae(c)))}function em(){return new z(this)}function tm(r,a){var c=S(r)?r:ae(r);return this.isValid()&&c.isValid()?(a=Ie(a)||"millisecond",a==="millisecond"?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(a).valueOf()):!1}function nm(r,a){var c=S(r)?r:ae(r);return this.isValid()&&c.isValid()?(a=Ie(a)||"millisecond",a==="millisecond"?this.valueOf()<c.valueOf():this.clone().endOf(a).valueOf()<c.valueOf()):!1}function rm(r,a,c,d){var p=S(r)?r:ae(r),b=S(a)?a:ae(a);return this.isValid()&&p.isValid()&&b.isValid()?(d=d||"()",(d[0]==="("?this.isAfter(p,c):!this.isBefore(p,c))&&(d[1]===")"?this.isBefore(b,c):!this.isAfter(b,c))):!1}function im(r,a){var c=S(r)?r:ae(r),d;return this.isValid()&&c.isValid()?(a=Ie(a)||"millisecond",a==="millisecond"?this.valueOf()===c.valueOf():(d=c.valueOf(),this.clone().startOf(a).valueOf()<=d&&d<=this.clone().endOf(a).valueOf())):!1}function om(r,a){return this.isSame(r,a)||this.isAfter(r,a)}function sm(r,a){return this.isSame(r,a)||this.isBefore(r,a)}function am(r,a,c){var d,p,b;if(!this.isValid())return NaN;if(d=as(r,this),!d.isValid())return NaN;switch(p=(d.utcOffset()-this.utcOffset())*6e4,a=Ie(a),a){case"year":b=ii(this,d)/12;break;case"month":b=ii(this,d);break;case"quarter":b=ii(this,d)/3;break;case"second":b=(this-d)/1e3;break;case"minute":b=(this-d)/6e4;break;case"hour":b=(this-d)/36e5;break;case"day":b=(this-d-p)/864e5;break;case"week":b=(this-d-p)/6048e5;break;default:b=this-d}return c?b:Ke(b)}function ii(r,a){if(r.date()<a.date())return-ii(a,r);var c=(a.year()-r.year())*12+(a.month()-r.month()),d=r.clone().add(c,"months"),p,b;return a-d<0?(p=r.clone().add(c-1,"months"),b=(a-d)/(d-p)):(p=r.clone().add(c+1,"months"),b=(a-d)/(p-d)),-(c+b)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function lm(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function um(r){if(!this.isValid())return null;var a=r!==!0,c=a?this.clone().utc():this;return c.year()<0||c.year()>9999?zt(c,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):oe(Date.prototype.toISOString)?a?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",zt(c,"Z")):zt(c,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function cm(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var r="moment",a="",c,d,p,b;return this.isLocal()||(r=this.utcOffset()===0?"moment.utc":"moment.parseZone",a="Z"),c="["+r+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",p="-MM-DD[T]HH:mm:ss.SSS",b=a+'[")]',this.format(c+d+p+b)}function fm(r){r||(r=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var a=zt(this,r);return this.localeData().postformat(a)}function dm(r,a){return this.isValid()&&(S(r)&&r.isValid()||ae(r).isValid())?lt({to:this,from:r}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function hm(r){return this.from(ae(),r)}function mm(r,a){return this.isValid()&&(S(r)&&r.isValid()||ae(r).isValid())?lt({from:this,to:r}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function pm(r){return this.to(ae(),r)}function xl(r){var a;return r===void 0?this._locale._abbr:(a=Pt(r),a!=null&&(this._locale=a),this)}var vl=j("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(r){return r===void 0?this.localeData():this.locale(r)});function Cl(){return this._locale}var oi=1e3,Tn=60*oi,si=60*Tn,Al=(365*400+97)*24*si;function Fn(r,a){return(r%a+a)%a}function Sl(r,a,c){return r<100&&r>=0?new Date(r+400,a,c)-Al:new Date(r,a,c).valueOf()}function _l(r,a,c){return r<100&&r>=0?Date.UTC(r+400,a,c)-Al:Date.UTC(r,a,c)}function gm(r){var a,c;if(r=Ie(r),r===void 0||r==="millisecond"||!this.isValid())return this;switch(c=this._isUTC?_l:Sl,r){case"year":a=c(this.year(),0,1);break;case"quarter":a=c(this.year(),this.month()-this.month()%3,1);break;case"month":a=c(this.year(),this.month(),1);break;case"week":a=c(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":a=c(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":a=c(this.year(),this.month(),this.date());break;case"hour":a=this._d.valueOf(),a-=Fn(a+(this._isUTC?0:this.utcOffset()*Tn),si);break;case"minute":a=this._d.valueOf(),a-=Fn(a,Tn);break;case"second":a=this._d.valueOf(),a-=Fn(a,oi);break}return this._d.setTime(a),t.updateOffset(this,!0),this}function wm(r){var a,c;if(r=Ie(r),r===void 0||r==="millisecond"||!this.isValid())return this;switch(c=this._isUTC?_l:Sl,r){case"year":a=c(this.year()+1,0,1)-1;break;case"quarter":a=c(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":a=c(this.year(),this.month()+1,1)-1;break;case"week":a=c(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":a=c(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":a=c(this.year(),this.month(),this.date()+1)-1;break;case"hour":a=this._d.valueOf(),a+=si-Fn(a+(this._isUTC?0:this.utcOffset()*Tn),si)-1;break;case"minute":a=this._d.valueOf(),a+=Tn-Fn(a,Tn)-1;break;case"second":a=this._d.valueOf(),a+=oi-Fn(a,oi)-1;break}return this._d.setTime(a),t.updateOffset(this,!0),this}function ym(){return this._d.valueOf()-(this._offset||0)*6e4}function km(){return Math.floor(this.valueOf()/1e3)}function bm(){return new Date(this.valueOf())}function xm(){var r=this;return[r.year(),r.month(),r.date(),r.hour(),r.minute(),r.second(),r.millisecond()]}function vm(){var r=this;return{years:r.year(),months:r.month(),date:r.date(),hours:r.hours(),minutes:r.minutes(),seconds:r.seconds(),milliseconds:r.milliseconds()}}function Cm(){return this.isValid()?this.toISOString():null}function Am(){return E(this)}function Sm(){return g({},v(this))}function _m(){return v(this).overflow}function Em(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}k("N",0,0,"eraAbbr"),k("NN",0,0,"eraAbbr"),k("NNN",0,0,"eraAbbr"),k("NNNN",0,0,"eraName"),k("NNNNN",0,0,"eraNarrow"),k("y",["y",1],"yo","eraYear"),k("y",["yy",2],0,"eraYear"),k("y",["yyy",3],0,"eraYear"),k("y",["yyyy",4],0,"eraYear"),L("N",us),L("NN",us),L("NNN",us),L("NNNN",Ym),L("NNNNN",Wm),ie(["N","NN","NNN","NNNN","NNNNN"],function(r,a,c,d){var p=c._locale.erasParse(r,d,c._strict);p?v(c).era=p:v(c).invalidEra=r}),L("y",Ze),L("yy",Ze),L("yyy",Ze),L("yyyy",Ze),L("yo",Bm),ie(["y","yy","yyy","yyyy"],Te),ie(["yo"],function(r,a,c,d){var p;c._locale._eraYearOrdinalRegex&&(p=r.match(c._locale._eraYearOrdinalRegex)),c._locale.eraYearOrdinalParse?a[Te]=c._locale.eraYearOrdinalParse(r,p):a[Te]=parseInt(r,10)});function Tm(r,a){var c,d,p,b=this._eras||Pt("en")._eras;for(c=0,d=b.length;c<d;++c){switch(typeof b[c].since){case"string":p=t(b[c].since).startOf("day"),b[c].since=p.valueOf();break}switch(typeof b[c].until){case"undefined":b[c].until=1/0;break;case"string":p=t(b[c].until).startOf("day").valueOf(),b[c].until=p.valueOf();break}}return b}function Fm(r,a,c){var d,p,b=this.eras(),A,O,V;for(r=r.toUpperCase(),d=0,p=b.length;d<p;++d)if(A=b[d].name.toUpperCase(),O=b[d].abbr.toUpperCase(),V=b[d].narrow.toUpperCase(),c)switch(a){case"N":case"NN":case"NNN":if(O===r)return b[d];break;case"NNNN":if(A===r)return b[d];break;case"NNNNN":if(V===r)return b[d];break}else if([A,O,V].indexOf(r)>=0)return b[d]}function Pm(r,a){var c=r.since<=r.until?1:-1;return a===void 0?t(r.since).year():t(r.since).year()+(a-r.offset)*c}function Mm(){var r,a,c,d=this.localeData().eras();for(r=0,a=d.length;r<a;++r)if(c=this.clone().startOf("day").valueOf(),d[r].since<=c&&c<=d[r].until||d[r].until<=c&&c<=d[r].since)return d[r].name;return""}function Im(){var r,a,c,d=this.localeData().eras();for(r=0,a=d.length;r<a;++r)if(c=this.clone().startOf("day").valueOf(),d[r].since<=c&&c<=d[r].until||d[r].until<=c&&c<=d[r].since)return d[r].narrow;return""}function Dm(){var r,a,c,d=this.localeData().eras();for(r=0,a=d.length;r<a;++r)if(c=this.clone().startOf("day").valueOf(),d[r].since<=c&&c<=d[r].until||d[r].until<=c&&c<=d[r].since)return d[r].abbr;return""}function Om(){var r,a,c,d,p=this.localeData().eras();for(r=0,a=p.length;r<a;++r)if(c=p[r].since<=p[r].until?1:-1,d=this.clone().startOf("day").valueOf(),p[r].since<=d&&d<=p[r].until||p[r].until<=d&&d<=p[r].since)return(this.year()-t(p[r].since).year())*c+p[r].offset;return this.year()}function Lm(r){return s(this,"_erasNameRegex")||cs.call(this),r?this._erasNameRegex:this._erasRegex}function Rm(r){return s(this,"_erasAbbrRegex")||cs.call(this),r?this._erasAbbrRegex:this._erasRegex}function Nm(r){return s(this,"_erasNarrowRegex")||cs.call(this),r?this._erasNarrowRegex:this._erasRegex}function us(r,a){return a.erasAbbrRegex(r)}function Ym(r,a){return a.erasNameRegex(r)}function Wm(r,a){return a.erasNarrowRegex(r)}function Bm(r,a){return a._eraYearOrdinalRegex||Ze}function cs(){var r=[],a=[],c=[],d=[],p,b,A,O,V,K=this.eras();for(p=0,b=K.length;p<b;++p)A=_t(K[p].name),O=_t(K[p].abbr),V=_t(K[p].narrow),a.push(A),r.push(O),c.push(V),d.push(A),d.push(O),d.push(V);this._erasRegex=new RegExp("^("+d.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+c.join("|")+")","i")}k(0,["gg",2],0,function(){return this.weekYear()%100}),k(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ai(r,a){k(0,[r,r.length],0,a)}ai("gggg","weekYear"),ai("ggggg","weekYear"),ai("GGGG","isoWeekYear"),ai("GGGGG","isoWeekYear"),L("G",mt),L("g",mt),L("GG",D,De),L("gg",D,De),L("GGGG",it,_),L("gggg",it,_),L("GGGGG",Be,I),L("ggggg",Be,I),cr(["gggg","ggggg","GGGG","GGGGG"],function(r,a,c,d){a[d.substr(0,2)]=Z(r)}),cr(["gg","GG"],function(r,a,c,d){a[d]=t.parseTwoDigitYear(r)});function Vm(r){return El.call(this,r,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function zm(r){return El.call(this,r,this.isoWeek(),this.isoWeekday(),1,4)}function Um(){return Ft(this.year(),1,4)}function Hm(){return Ft(this.isoWeekYear(),1,4)}function $m(){var r=this.localeData()._week;return Ft(this.year(),r.dow,r.doy)}function jm(){var r=this.localeData()._week;return Ft(this.weekYear(),r.dow,r.doy)}function El(r,a,c,d,p){var b;return r==null?mr(this,d,p).year:(b=Ft(r,d,p),a>b&&(a=b),Gm.call(this,r,a,c,d,p))}function Gm(r,a,c,d,p){var b=il(r,a,c,d,p),A=hr(b.year,0,b.dayOfYear);return this.year(A.getUTCFullYear()),this.month(A.getUTCMonth()),this.date(A.getUTCDate()),this}k("Q",0,"Qo","quarter"),L("Q",Zr),ie("Q",function(r,a){a[Et]=(Z(r)-1)*3});function qm(r){return r==null?Math.ceil((this.month()+1)/3):this.month((r-1)*3+this.month()%3)}k("D",["DD",2],"Do","date"),L("D",D,Sn),L("DD",D,De),L("Do",function(r,a){return r?a._dayOfMonthOrdinalParse||a._ordinalParse:a._dayOfMonthOrdinalParseLenient}),ie(["D","DD"],pt),ie("Do",function(r,a){a[pt]=Z(r.match(D)[0])});var Tl=_n("Date",!0);k("DDD",["DDDD",3],"DDDo","dayOfYear"),L("DDD",Ee),L("DDDD",Kr),ie(["DDD","DDDD"],function(r,a,c){c._dayOfYear=Z(r)});function Zm(r){var a=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return r==null?a:this.add(r-a,"d")}k("m",["mm",2],0,"minute"),L("m",D,qo),L("mm",D,De),ie(["m","mm"],at);var Km=_n("Minutes",!1);k("s",["ss",2],0,"second"),L("s",D,qo),L("ss",D,De),ie(["s","ss"],Tt);var Qm=_n("Seconds",!1);k("S",0,0,function(){return~~(this.millisecond()/100)}),k(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),k(0,["SSS",3],0,"millisecond"),k(0,["SSSS",4],0,function(){return this.millisecond()*10}),k(0,["SSSSS",5],0,function(){return this.millisecond()*100}),k(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),k(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),k(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),k(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),L("S",Ee,Zr),L("SS",Ee,De),L("SSS",Ee,Kr);var $t,Fl;for($t="SSSS";$t.length<=9;$t+="S")L($t,Ze);function Jm(r,a){a[on]=Z(("0."+r)*1e3)}for($t="S";$t.length<=9;$t+="S")ie($t,Jm);Fl=_n("Milliseconds",!1),k("z",0,0,"zoneAbbr"),k("zz",0,0,"zoneName");function Xm(){return this._isUTC?"UTC":""}function ep(){return this._isUTC?"Coordinated Universal Time":""}var M=z.prototype;M.add=jh,M.calendar=Xh,M.clone=em,M.diff=am,M.endOf=wm,M.format=fm,M.from=dm,M.fromNow=hm,M.to=mm,M.toNow=pm,M.get=cd,M.invalidAt=_m,M.isAfter=tm,M.isBefore=nm,M.isBetween=rm,M.isSame=im,M.isSameOrAfter=om,M.isSameOrBefore=sm,M.isValid=Am,M.lang=vl,M.locale=xl,M.localeData=Cl,M.max=Ah,M.min=Ch,M.parsingFlags=Sm,M.set=fd,M.startOf=gm,M.subtract=Gh,M.toArray=xm,M.toObject=vm,M.toDate=bm,M.toISOString=um,M.inspect=cm,typeof Symbol<"u"&&Symbol.for!=null&&(M[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),M.toJSON=Cm,M.toString=lm,M.unix=km,M.valueOf=ym,M.creationData=Em,M.eraName=Mm,M.eraNarrow=Im,M.eraAbbr=Dm,M.eraYear=Om,M.year=Qa,M.isLeapYear=ud,M.weekYear=Vm,M.isoWeekYear=zm,M.quarter=M.quarters=qm,M.month=nl,M.daysInMonth=bd,M.week=M.weeks=Td,M.isoWeek=M.isoWeeks=Fd,M.weeksInYear=$m,M.weeksInWeekYear=jm,M.isoWeeksInYear=Um,M.isoWeeksInISOWeekYear=Hm,M.date=Tl,M.day=M.days=zd,M.weekday=Ud,M.isoWeekday=Hd,M.dayOfYear=Zm,M.hour=M.hours=Qd,M.minute=M.minutes=Km,M.second=M.seconds=Qm,M.millisecond=M.milliseconds=Fl,M.utcOffset=Dh,M.utc=Lh,M.local=Rh,M.parseZone=Nh,M.hasAlignedHourOffset=Yh,M.isDST=Wh,M.isLocal=Vh,M.isUtcOffset=zh,M.isUtc=gl,M.isUTC=gl,M.zoneAbbr=Xm,M.zoneName=ep,M.dates=j("dates accessor is deprecated. Use date instead.",Tl),M.months=j("months accessor is deprecated. Use month instead",nl),M.years=j("years accessor is deprecated. Use year instead",Qa),M.zone=j("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Oh),M.isDSTShifted=j("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Bh);function tp(r){return ae(r*1e3)}function np(){return ae.apply(null,arguments).parseZone()}function Pl(r){return r}var te=U.prototype;te.calendar=ue,te.longDateFormat=rn,te.invalidDate=St,te.ordinal=$o,te.preparse=Pl,te.postformat=Pl,te.relativeTime=jr,te.pastFuture=Gr,te.set=X,te.eras=Tm,te.erasParse=Fm,te.erasConvertYear=Pm,te.erasAbbrRegex=Rm,te.erasNameRegex=Lm,te.erasNarrowRegex=Nm,te.months=gd,te.monthsShort=wd,te.monthsParse=kd,te.monthsRegex=vd,te.monthsShortRegex=xd,te.week=Ad,te.firstDayOfYear=Ed,te.firstDayOfWeek=_d,te.weekdays=Nd,te.weekdaysMin=Wd,te.weekdaysShort=Yd,te.weekdaysParse=Vd,te.weekdaysRegex=$d,te.weekdaysShortRegex=jd,te.weekdaysMinRegex=Gd,te.isPM=Zd,te.meridiem=Jd;function li(r,a,c,d){var p=Pt(),b=w().set(d,a);return p[c](b,r)}function Ml(r,a,c){if(f(r)&&(a=r,r=void 0),r=r||"",a!=null)return li(r,a,c,"month");var d,p=[];for(d=0;d<12;d++)p[d]=li(r,d,c,"month");return p}function fs(r,a,c,d){typeof r=="boolean"?(f(a)&&(c=a,a=void 0),a=a||""):(a=r,c=a,r=!1,f(a)&&(c=a,a=void 0),a=a||"");var p=Pt(),b=r?p._week.dow:0,A,O=[];if(c!=null)return li(a,(c+b)%7,d,"day");for(A=0;A<7;A++)O[A]=li(a,(A+b)%7,d,"day");return O}function rp(r,a){return Ml(r,a,"months")}function ip(r,a){return Ml(r,a,"monthsShort")}function op(r,a,c){return fs(r,a,c,"weekdays")}function sp(r,a,c){return fs(r,a,c,"weekdaysShort")}function ap(r,a,c){return fs(r,a,c,"weekdaysMin")}Ht("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(r){var a=r%10,c=Z(r%100/10)===1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th";return r+c}}),t.lang=j("moment.lang is deprecated. Use moment.locale instead.",Ht),t.langData=j("moment.langData is deprecated. Use moment.localeData instead.",Pt);var Mt=Math.abs;function lp(){var r=this._data;return this._milliseconds=Mt(this._milliseconds),this._days=Mt(this._days),this._months=Mt(this._months),r.milliseconds=Mt(r.milliseconds),r.seconds=Mt(r.seconds),r.minutes=Mt(r.minutes),r.hours=Mt(r.hours),r.months=Mt(r.months),r.years=Mt(r.years),this}function Il(r,a,c,d){var p=lt(a,c);return r._milliseconds+=d*p._milliseconds,r._days+=d*p._days,r._months+=d*p._months,r._bubble()}function up(r,a){return Il(this,r,a,1)}function cp(r,a){return Il(this,r,a,-1)}function Dl(r){return r<0?Math.floor(r):Math.ceil(r)}function fp(){var r=this._milliseconds,a=this._days,c=this._months,d=this._data,p,b,A,O,V;return r>=0&&a>=0&&c>=0||r<=0&&a<=0&&c<=0||(r+=Dl(ds(c)+a)*864e5,a=0,c=0),d.milliseconds=r%1e3,p=Ke(r/1e3),d.seconds=p%60,b=Ke(p/60),d.minutes=b%60,A=Ke(b/60),d.hours=A%24,a+=Ke(A/24),V=Ke(Ol(a)),c+=V,a-=Dl(ds(V)),O=Ke(c/12),c%=12,d.days=a,d.months=c,d.years=O,this}function Ol(r){return r*4800/146097}function ds(r){return r*146097/4800}function dp(r){if(!this.isValid())return NaN;var a,c,d=this._milliseconds;if(r=Ie(r),r==="month"||r==="quarter"||r==="year")switch(a=this._days+d/864e5,c=this._months+Ol(a),r){case"month":return c;case"quarter":return c/3;case"year":return c/12}else switch(a=this._days+Math.round(ds(this._months)),r){case"week":return a/7+d/6048e5;case"day":return a+d/864e5;case"hour":return a*24+d/36e5;case"minute":return a*1440+d/6e4;case"second":return a*86400+d/1e3;case"millisecond":return Math.floor(a*864e5)+d;default:throw new Error("Unknown unit "+r)}}function It(r){return function(){return this.as(r)}}var Ll=It("ms"),hp=It("s"),mp=It("m"),pp=It("h"),gp=It("d"),wp=It("w"),yp=It("M"),kp=It("Q"),bp=It("y"),xp=Ll;function vp(){return lt(this)}function Cp(r){return r=Ie(r),this.isValid()?this[r+"s"]():NaN}function an(r){return function(){return this.isValid()?this._data[r]:NaN}}var Ap=an("milliseconds"),Sp=an("seconds"),_p=an("minutes"),Ep=an("hours"),Tp=an("days"),Fp=an("months"),Pp=an("years");function Mp(){return Ke(this.days()/7)}var Dt=Math.round,Pn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ip(r,a,c,d,p){return p.relativeTime(a||1,!!c,r,d)}function Dp(r,a,c,d){var p=lt(r).abs(),b=Dt(p.as("s")),A=Dt(p.as("m")),O=Dt(p.as("h")),V=Dt(p.as("d")),K=Dt(p.as("M")),Le=Dt(p.as("w")),Ot=Dt(p.as("y")),jt=b<=c.ss&&["s",b]||b<c.s&&["ss",b]||A<=1&&["m"]||A<c.m&&["mm",A]||O<=1&&["h"]||O<c.h&&["hh",O]||V<=1&&["d"]||V<c.d&&["dd",V];return c.w!=null&&(jt=jt||Le<=1&&["w"]||Le<c.w&&["ww",Le]),jt=jt||K<=1&&["M"]||K<c.M&&["MM",K]||Ot<=1&&["y"]||["yy",Ot],jt[2]=a,jt[3]=+r>0,jt[4]=d,Ip.apply(null,jt)}function Op(r){return r===void 0?Dt:typeof r=="function"?(Dt=r,!0):!1}function Lp(r,a){return Pn[r]===void 0?!1:a===void 0?Pn[r]:(Pn[r]=a,r==="s"&&(Pn.ss=a-1),!0)}function Rp(r,a){if(!this.isValid())return this.localeData().invalidDate();var c=!1,d=Pn,p,b;return typeof r=="object"&&(a=r,r=!1),typeof r=="boolean"&&(c=r),typeof a=="object"&&(d=Object.assign({},Pn,a),a.s!=null&&a.ss==null&&(d.ss=a.s-1)),p=this.localeData(),b=Dp(this,!c,d,p),c&&(b=p.pastFuture(+this,b)),p.postformat(b)}var hs=Math.abs;function Mn(r){return(r>0)-(r<0)||+r}function ui(){if(!this.isValid())return this.localeData().invalidDate();var r=hs(this._milliseconds)/1e3,a=hs(this._days),c=hs(this._months),d,p,b,A,O=this.asSeconds(),V,K,Le,Ot;return O?(d=Ke(r/60),p=Ke(d/60),r%=60,d%=60,b=Ke(c/12),c%=12,A=r?r.toFixed(3).replace(/\.?0+$/,""):"",V=O<0?"-":"",K=Mn(this._months)!==Mn(O)?"-":"",Le=Mn(this._days)!==Mn(O)?"-":"",Ot=Mn(this._milliseconds)!==Mn(O)?"-":"",V+"P"+(b?K+b+"Y":"")+(c?K+c+"M":"")+(a?Le+a+"D":"")+(p||d||r?"T":"")+(p?Ot+p+"H":"")+(d?Ot+d+"M":"")+(r?Ot+A+"S":"")):"P0D"}var J=ni.prototype;J.isValid=Fh,J.abs=lp,J.add=up,J.subtract=cp,J.as=dp,J.asMilliseconds=Ll,J.asSeconds=hp,J.asMinutes=mp,J.asHours=pp,J.asDays=gp,J.asWeeks=wp,J.asMonths=yp,J.asQuarters=kp,J.asYears=bp,J.valueOf=xp,J._bubble=fp,J.clone=vp,J.get=Cp,J.milliseconds=Ap,J.seconds=Sp,J.minutes=_p,J.hours=Ep,J.days=Tp,J.weeks=Mp,J.months=Fp,J.years=Pp,J.humanize=Rp,J.toISOString=ui,J.toString=ui,J.toJSON=ui,J.locale=xl,J.localeData=Cl,J.toIsoString=j("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ui),J.lang=vl,k("X",0,0,"unix"),k("x",0,0,"valueOf"),L("x",mt),L("X",st),ie("X",function(r,a,c){c._d=new Date(parseFloat(r)*1e3)}),ie("x",function(r,a,c){c._d=new Date(Z(r))});return t.version="2.30.1",n(ae),t.fn=M,t.min=Sh,t.max=_h,t.now=Eh,t.utc=w,t.unix=tp,t.months=rp,t.isDate=h,t.locale=Ht,t.invalid=C,t.duration=lt,t.isMoment=S,t.weekdays=op,t.parseZone=np,t.localeData=Pt,t.isDuration=ri,t.monthsShort=ip,t.weekdaysMin=ap,t.defineLocale=es,t.updateLocale=nh,t.locales=rh,t.weekdaysShort=sp,t.normalizeUnits=Ie,t.relativeTimeRounding=Op,t.relativeTimeThreshold=Lp,t.calendarFormat=Jh,t.prototype=M,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});var D0={};Rl(D0,{default:()=>I0});module.exports=zp(D0);var be=require("obsidian");(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();function gt(){}async function ct(){}function yr(e){return async(...t)=>{await e(...t)}}var bt=require("obsidian");var Up=require("obsidian"),Yl=require("obsidian"),Wl=require("obsidian"),N0=require("obsidian"),Y0=require("obsidian");var Lt={AudioRecorder:"audio-recorder",Backlink:"backlink",Bookmarks:"bookmarks",Browser:"browser",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},R0={AllProperties:"all-properties",Audio:"audio",Backlink:Lt.Backlink,Bookmarks:Lt.Bookmarks,Browser:"browser",BrowserHistory:"browser-history",Canvas:Lt.Canvas,Empty:"empty",FileExplorer:Lt.FileExplorer,FileProperties:"file-properties",Graph:Lt.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:Lt.OutgoingLink,Outline:Lt.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Tag:"tag",Video:"video"};function Hp(){return Yl.TFile}function $p(){return Wl.TFolder}function ft(e){return e.replace(/\/?[^\/]*$/,"")||"/"}function fi(e,t){let n=e.vault.getFolderByPath(t);return n||(n=new($p())(e.vault,t),n.parent=fi(e,ft(t)),n.deleted=!0,n)}function Bl(e,t){let n=e.vault.getFileByPath(t);return n||(n=new(Hp())(e.vault,t),n.parent=fi(e,ft(t)),n.deleted=!0,n)}function Gt(e){return!!e.position}function wt(e){return!!e.key}var ys=Qe(Ul(),1);(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();function ms(e,t){let n=0;for(let i=0;i<e.length;i++){if(!(i in e))continue;let o=e[i];t(o,i,e)&&(e[n++]=o)}e.length=n}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Dn=class{eventRefsMap=new Map;off(t,n){let i=this.eventRefsMap.get(t);i&&(ms(i,o=>o.callback!==n),i.length===0&&this.eventRefsMap.delete(t))}offref(t){let n=this.eventRefsMap.get(t.name);n&&(ms(n,i=>i!==t),n.length===0&&this.eventRefsMap.delete(t.name))}on(t,n,i){let o=this.eventRefsMap.get(t);o||(o=[],this.eventRefsMap.set(t,o));let s={asyncEvents:this,callback:n,name:t,thisArg:i};return o.push(s),s}once(t,n,i){let o=this.on(t,n,i),s=this.on(t,()=>{this.offref(o),this.offref(s)});return o}trigger(t,...n){let i=this.eventRefsMap.get(t)??[];for(let o of i.slice())this.tryTrigger(o,n)}async triggerAsync(t,...n){let i=this.eventRefsMap.get(t)??[];for(let o of i.slice())await this.tryTriggerAsync(o,n)}tryTrigger(t,n){try{t.callback.apply(t.thisArg,n)}catch(i){setTimeout(()=>{throw i},0)}}async tryTriggerAsync(t,n){try{await t.callback.call(t.thisArg,...n)}catch(i){setTimeout(()=>{throw i},0)}}};(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var ps="asyncError",hi="An unhandled error occurred executing async operation",di=new Dn;di.on(ps,Gp);function mi(e){di.trigger(ps,e)}function Hl(e){return gs(e).map(t=>"  ".repeat(t.level)+t.message).join(`
`)}function ln(e=0){return(new Error().stack??"").split(`
`).slice(e+2).join(`
`)}function kr(e,t){t??=globalThis.console;let n=gs(e);for(let i of n)i.shouldClearAnsiSequence?t.error(`\x1B[0m${i.message}\x1B[0m`):t.error(i.message)}function $l(e){let t=di.on(ps,e);return()=>{di.offref(t)}}function un(e){throw e}function Gp(e){kr(e)}function gs(e,t=0,n=[]){if(e===void 0)return n;if(!(e instanceof Error)){let o;return e===null?o="(null)":typeof e=="string"?o=e:o=JSON.stringify(e)??"undefined",n.push({level:t,message:o}),n}let i=`${e.name}: ${e.message}`;if(n.push({level:t,message:i,shouldClearAnsiSequence:!0}),e.stack){let o=e.stack.startsWith(i)?e.stack.slice(i.length+1):e.stack;n.push({level:t,message:`Error stack:
${o}`})}return e.cause!==void 0&&(n.push({level:t,message:"Caused by:"}),gs(e.cause,t+1,n)),n}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();function ws(e){return e.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}function jl(e){try{return new RegExp(e),!0}catch{return!1}}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();async function On(e,...t){return qp(e)?await e(...t):e}function qp(e){return typeof e=="function"}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Zp={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"},Kp={};for(let[e,t]of Object.entries(Zp))Kp[t]=e;function Gl(e,t,n,i){return i??=n,e.slice(0,n)+t+e.slice(i)}function br(e){return Ve(e,/\u00A0|\u202F/g," ").normalize("NFC")}function Ve(e,t,n){return typeof n>"u"?e:(t instanceof RegExp&&!t.global&&(t=new RegExp(t.source,`${t.flags}g`)),typeof n=="string"?e.replaceAll(t,n):e.replaceAll(t,(i,...o)=>{let l=typeof o.at(-1)=="object",u=l?o.length-2:o.length-1,f={groups:l?o.at(-1):void 0,offset:o.at(u-1),source:o.at(u),substring:i},h=o.slice(0,u-1);return n(f,...h)??f.substring}))}function ql(e,t,n){if(e.endsWith(t))return e.slice(0,-t.length);if(n)throw new Error(`String ${e} does not end with suffix ${t}`);return e}function Rt(e,t,n){if(e.startsWith(t))return e.slice(t.length);if(n)throw new Error(`String ${e} does not start with prefix ${t}`);return e}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Qp=/[a-zA-Z]:\/[^:]*$/,kt=ys.default.posix,ek=kt.delimiter,tk=ys.default.posix.sep,Re=kt.basename,se=kt.dirname,Je=kt.extname,nk=kt.format;var ye=kt.join,rk=kt.normalize,ik=kt.parse,Ln=kt.relative;function Zl(e,t){return t?`${e}.${t}`:e}function Kl(...e){let t=kt.resolve(...e);return t=Jp(t),Qp.exec(t)?.[0]??t}function Jp(e){return Ve(e,"\\","/")}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var pi="md",Xp="canvas";function Jl(e,t,n){if(Xe(t))return t.extension===n;if(typeof t=="string"){let i=ce(e,t);return i?i.extension===n:Je(t).slice(1)===n}return!1}function xr(e,t,n){if(t===null)return null;if(tu(t))return t;let i=Ql(e,t,n);if(i)return i;let o=ru(t);return o===t?null:Ql(e,o,n)}function Fe(e,t,n,i){let o=ce(e,t,i);if(!o)if(n)o=Bl(e,t);else throw new Error(`File not found: ${t}`);return o}function ce(e,t,n){let i=xr(e,t,n);return Xe(i)?i:null}function Rn(e,t,n,i){let o=dt(e,t,i);if(!o)if(n)o=fi(e,t);else throw new Error(`Folder not found: ${t}`);return o}function dt(e,t,n){let i=xr(e,t,n);return vr(i)?i:null}function Xl(e,t,n){let i=Rn(e,t),o=[];return n?bt.Vault.recurseChildren(i,s=>{ke(e,s)&&o.push(s)}):o=i.children.filter(s=>ke(e,s)),o=o.sort((s,l)=>s.path.localeCompare(l.path)),o}async function eu(e,t){let n=ce(e,t);if(n)return n;let i=ft(t);return await eg(e,i),await e.vault.create(t,"")}async function eg(e,t){let n=dt(e,t);return n||await e.vault.createFolder(t)}function he(e,t){if(tu(t))return t.path;let n=xr(e,t);return n?n.path:ru(t)}function tu(e){return e instanceof bt.TAbstractFile}function cn(e,t){return Jl(e,t,Xp)}function Xe(e){return e instanceof bt.TFile}function vr(e){return e instanceof bt.TFolder}function ke(e,t){return Jl(e,t,pi)}function Nt(e,t){return ke(e,t)||cn(e,t)}function nu(e,t){return ke(e,t)?ql(t.path,`.${pi}`):t.path}function Ql(e,t,n){return n?e.vault.getAbstractFileByPathInsensitive(t):e.vault.getAbstractFileByPath(t)}function ru(e){return(0,bt.normalizePath)(Kl("/",e))}var _s=Qe(pu(),1);(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Cs="24.1.1",bi="obsidian-dev-utils",gu=`.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AACE;EACE;;AAGF;AAAA;AAAA;AAAA;EAIE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC5DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;AChDF;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACFJ;EACE%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var As=class{constructor(t){this.value=t}};function wu(){try{return globalThis.require("obsidian/app")}catch{return globalThis.app??un(new Error("Obsidian app not found"))}}function Zt(e,t,n){let i=e;return i.obsidianDevUtilsState??={},i.obsidianDevUtilsState[t]??=new As(n)}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Ss="__no-plugin-id-initialized__",yu=Ss;function pe(){return yu}function ku(e){e&&(yu=e)}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var bu=",",xi="-";function xu(){return{disable:Cg,enable:Ag,get:Ci,set:Cr}}function vi(e,t=0){let n=Bn()(e);return n.log=(i,...o)=>{Sg(e,t,i,...o)},n.printStackTrace=(i,o)=>{Au(e,i,o)},n}function ze(e){let t=pe(),n=t===Ss?"":`${t}:`;return vi(`${n}${bi}:${e}`)}function vu(e){let t=Bn().enabled(e),n=t?"enabled":"disabled",i=t?"disable":"enable",o=Ci();Cr(e),vi(e)(`Debug messages for plugin ${e} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/?tab=readme-ov-file#debugging how to ${i} them.`),Cr(o)}function Cg(e){let t=new Set(Ci());for(let n of Ar(e)){if(n.startsWith(xi))continue;let i=xi+n;t.has(n)&&t.delete(n),t.add(i)}Cr(Array.from(t))}function Ag(e){let t=new Set(Ci());for(let n of Ar(e)){if(!n.startsWith(xi)){let i=xi+n;t.has(i)&&t.delete(i)}t.add(n)}Cr(Array.from(t))}function Ci(){return Ar(Bn().load()??"")}function Bn(){if(typeof window>"u")return _s.default;let e=wu();return Zt(e,"debug",_s.default).value}function Cu(){return typeof window<"u"}function Sg(e,t,n,...i){if(!Bn().enabled(e))return;let l=(new Error().stack?.split(`
`)??[])[4+t]??"";console.debug(n,...i),Cu()&&Au(e,l,"Debug message caller")}function Au(e,t,n){let i=Bn()(e);if(!i.enabled)return;t||(t="(unavailable)"),(n??"")||(n="Caller stack trace"),i(n);let o=Cu()?`StackTraceFakeError
`:"";console.debug(`${o}${t}`)}function Cr(e){Bn().enable(Ar(e).join(bu))}function Ar(e){return typeof e=="string"?e.split(bu).filter(Boolean):e.flatMap(Ar)}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();async function dn(e){let t=e.items,n=0,i=new Notice("",0),s=sleep(e.noticeMinTimeoutInMilliseconds??2e3),l=createEl("progress");if(l.max=t.length,e.shouldShowProgressBar){let u=createFragment();e.progressBarTitle&&u.appendText(e.progressBarTitle),u.appendChild(l),i.setMessage(u)}for(let u of t){if(e.abortSignal?.aborted){i.hide();return}n++;let f=`# ${n.toString()} / ${t.length.toString()}`,h=e.buildNoticeMessage(u,f);e.shouldShowProgressBar||i.setMessage(h),ze("Loop")(h);let m=new Error(hi);try{await e.processItem(u)}catch(g){if(console.error("Error processing item",u),!e.shouldContinueOnError)throw i.hide(),g;m.cause=g,mi(m)}l.value++}await s,i.hide()}var Eu=require("obsidian");(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Y=(e=>(e.AlertModal="alert-modal",e.CancelButton="cancel-button",e.CheckboxComponent="checkbox-component",e.ConfirmModal="confirm-modal",e.DateComponent="date-component",e.DateTimeComponent="datetime-component",e.EmailComponent="email-component",e.FileComponent="file-component",e.LibraryName="obsidian-dev-utils",e.MonthComponent="month-component",e.MultipleDropdownComponent="multiple-dropdown-component",e.MultipleEmailComponent="multiple-email-component",e.MultipleFileComponent="multiple-file-component",e.MultipleTextComponent="multiple-text-component",e.NumberComponent="number-component",e.OkButton="ok-button",e.PluginSettingsTab="plugin-settings-tab",e.PromptModal="prompt-modal",e.SelectItemModal="select-item-modal",e.TextBox="text-box",e.TimeComponent="time-component",e.TriStateCheckboxComponent="tri-state-checkbox-component",e.TypedDropdownComponent="typed-dropdown-component",e.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",e.UrlComponent="url-component",e.WeekComponent="week-component",e))(Y||{});var Su=require("obsidian");(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Ai=class extends Su.Modal{constructor(t,n,i){super(t.app),this.resolve=n,this.containerEl.addClass(Y.LibraryName,pe(),i),t.cssClass&&this.containerEl.addClass(t.cssClass)}};async function _u(e){return await new Promise(t=>{e(t).open()})}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Es=class extends Ai{options;constructor(t,n){super(t,n,Y.AlertModal);let i={app:t.app,cssClass:"",message:t.message,okButtonText:"OK",title:""};this.options={...i,...t}}onClose(){super.onClose(),this.resolve()}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let t=new Eu.ButtonComponent(this.contentEl);t.setButtonText(this.options.okButtonText),t.setCta(),t.onClick(this.close.bind(this)),t.setClass(Y.OkButton)}};async function Si(e){await _u(t=>new Es(e,t))}var Ti=require("obsidian");(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();async function Ts(e){let t=new Error(hi);try{await e()}catch(n){t.cause=n,mi(t)}}function Sr(e){return(...t)=>{hn(()=>e(...t))}}function hn(e){Ts(e)}function Tu(e,t=0){setTimeout(Sr(async()=>await e()),t)}async function _r(e,t,n){let i=ze("Async:retryWithTimeout");n??=ln(1);let s={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...t};await Fs(s.timeoutInMilliseconds,async()=>{let l=0;for(;;){s.abortSignal?.throwIfAborted(),l++;let u;try{u=await e()}catch(f){if(!s.shouldRetryOnError||f.__terminateRetry)throw f;kr(f),u=!1}if(u){l>1&&(i(`Retry completed successfully after ${l.toString()} attempts`),i.printStackTrace(n));return}i(`Retry attempt ${l.toString()} completed unsuccessfully. Trying again in ${s.retryDelayInMilliseconds.toString()} milliseconds`,{fn:e}),i.printStackTrace(n),await Fu(s.retryDelayInMilliseconds)}})}async function Fs(e,t){let n=!0,i=null,o=performance.now();if(await Promise.race([s(),l()]),n)throw new Error("Timed out");return i;async function s(){i=await t(),n=!1;let u=performance.now()-o;ze("Async:runWithTimeout")(`Execution time: ${u.toString()} milliseconds`,{fn:t})}async function l(){if(!n||(await Fu(e),!n))return;let u=performance.now()-o;console.warn(`Timed out in ${u.toString()} milliseconds`,{fn:t});let f=ze("Async:runWithTimeout:timeout");f.enabled&&(f(`The execution is not terminated because debugger ${f.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/?tab=readme-ov-file#debugging for more information`),await l())}}async function Fu(e){await new Promise(t=>{setTimeout(t,e)})}var Du=Qe(Mu(),1);(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Iu=`${bi}-styles`;function Ou(e,t){ku(t),vu(t);let n=Zt(e,"lastLibraryVersion","0.0.0");if((0,Du.compareVersions)(Cs,n.value)<=0)return;n.value=Cs;let i=_g();i.DEBUG=xu(),document.head.querySelector(`#${Iu}`)?.remove(),document.head.createEl("style",{attr:{id:Iu},text:gu})}function _g(){return window}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Ei=class extends Ti.Plugin{events=new Dn;get abortSignal(){return this._abortSignal}get settings(){return this.settingsManager.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(t,...n){vi(this.manifest.id,1)(t,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Tu(this.afterLoad.bind(this))}async onLoadSettings(t,n){await ct()}async onSaveSettings(t,n,i){await ct()}onunload(){super.onunload(),hn(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerAsyncEvent(t){this.register(()=>{t.asyncEvents.offref(t)})}async waitForLifecycleEvent(t){this.lifecycleEventNames.has(t)||await new Promise(n=>{this.events.once(t,()=>{n()})})}createPluginSettingsTab(){return null}createSettingsManager(){return null}async onLayoutReady(){await ct()}async onloadImpl(){Ou(this.app,this.manifest.id),this.register($l(()=>{this.showNotice("An unhandled error occurred. Please check the console for more information.")})),this._settingsManager=this.createSettingsManager(),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createPluginSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let t=new AbortController;this._abortSignal=t.signal,this.register(()=>{t.abort()})}async onunloadImpl(){await ct()}showNotice(t){this.notice&&this.notice.hide(),this.notice=new Ti.Notice(`${this.manifest.name}
${t}`)}async afterLoad(){await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(Sr(this.onLayoutReadyBase.bind(this)))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(t){this.lifecycleEventNames.add(t),await this.events.triggerAsync(t)}};(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();async function Lu(e,t,n){let i=ze("Logger:invokeAsyncAndLog"),o=performance.now();n??=ln(1),i(`${e}:start`,{fn:t,timestampStart:o}),i.printStackTrace(n);try{await t();let s=performance.now();i(`${e}:end`,{duration:s-o,fn:t,timestampEnd:s,timestampStart:o}),i.printStackTrace(n)}catch(s){let l=performance.now();throw i(`${e}:error`,{duration:l-o,error:s,fn:t,timestampEnd:l,timestampStart:o}),i.printStackTrace(n),s}}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();function tt(e,t,n,i){i??=ln(1),hn(()=>Eg(e,t,n,i))}async function Eg(e,t,n,i){n??=6e4,i??=ln(1);let s=Ru(e).value;s.items.push({fn:t,stackTrace:i,timeoutInMilliseconds:n}),s.promise=s.promise.then(()=>Nu(e)),await s.promise}function Ru(e){return Zt(e,"queue",{items:[],promise:Promise.resolve()})}async function Nu(e){let t=Ru(e).value,n=t.items[0];n&&(await Ts(()=>Fs(n.timeoutInMilliseconds,()=>Lu(Nu.name,n.fn,n.stackTrace))),t.items.shift())}var Lf=require("obsidian");(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Yu=".";function Ms(e,t){if(e===t)return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return!1;let n=Vn(e),i=Vn(t);if(n.length!==i.length)return!1;let o=e,s=t;for(let l of n)if(!i.includes(l)||!Ms(o[l],s[l]))return!1;return!0}function Vn(e){let t=[],n=e;for(;n;){let i=Object.getOwnPropertyDescriptors(n);for(let[o,s]of Object.entries(i)){if(o==="__proto__"||typeof s.value=="function")continue;let l=typeof s.get=="function",u=typeof s.set=="function";if(l||u){l&&u&&t.push(o);continue}s.enumerable&&s.writable&&t.push(o)}n=Object.getPrototypeOf(n)}return t.sort()}function Fi(e,t){let n=e,i=t.split(Yu);for(let o of i){if(n===void 0)return;n=n[o]}return n}function Wu(e,t,n){let i=new Error(`Property path ${t} not found`),o=e,s=t.split(Yu);for(let u of s.slice(0,-1)){if(o===void 0)throw i;o=o[u]}let l=s.at(-1);if(o===void 0||l===void 0)throw i;o[l]=n}function Pi(e,t={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:Ps("CircularReference"),maxDepthLimitReached:Ps("MaxDepthLimitReached"),toJSONFailed:Ps("ToJSONFailed")}},i={...n,...t,tokenSubstitutions:{...n.tokenSubstitutions,...t.tokenSubstitutions}};i.maxDepth===-1&&(i.maxDepth=1/0);let o=[],l=Mi(e,"",0,!0,i,o,new WeakSet),u=JSON.stringify(l,null,i.space)??"";return u=Ve(u,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(f,h,m)=>Tg({functionTexts:o,index:m?parseInt(m,10):0,key:h,substitutions:i.tokenSubstitutions})),u}function Tg(e){switch(e.key){case"CircularReference":return e.substitutions.circularReference;case"Function":return e.functionTexts[e.index]??un(new Error(`Function with index ${e.index.toString()} not found`));case"MaxDepthLimitReached":return e.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${e.index.toString()})`;case"ToJSONFailed":return e.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}function Fg(e,t,n,i,o,s){return t>i.maxDepth?zn("MaxDepthLimitReachedArray",e.length):e.map((l,u)=>Mi(l,u.toString(),t+1,n,i,o,s))}function Pg(e,t,n){if(n.shouldHandleCircularReferences)return zn("CircularReference");let i=e.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${i}'
--- property '${t}' closes the circle`)}function Mg(e,t,n){if(n.functionHandlingMode==="exclude")return;let i=t.length,o=n.functionHandlingMode==="full"?e.toString():`function ${e.name||"anonymous"}() { /* ... */ }`;return t.push(o),zn("Function",i)}function Ig(e,t,n,i,o,s,l){if(l.has(e))return Pg(e,t,o);if(l.add(e),i){let u=Og(e,t,n,o,s,l);if(u!==void 0)return u}return Array.isArray(e)?Fg(e,n,i,o,s,l):n>o.maxDepth?zn("MaxDepthLimitReached"):e instanceof Error&&o.shouldHandleErrors?Hl(e):Dg(e,n,i,o,s,l)}function Dg(e,t,n,i,o,s){let l=Object.entries(e);return i.shouldSortKeys&&l.sort(([u],[f])=>u.localeCompare(f)),Object.fromEntries(l.map(([u,f])=>[u,Mi(f,u,t+1,n,i,o,s)]))}function Ps(e){return`{ "[[${e}]]": null }`}function zn(e,t){return`[[${e}${t?.toString()??""}]]`}function Mi(e,t,n,i,o,s,l){return e===void 0?n===0||o.shouldHandleUndefined?zn("Undefined"):void 0:typeof e=="function"?Mg(e,s,o):typeof e!="object"||e===null?e:Ig(e,t,n,i,o,s,l)}function Og(e,t,n,i,o,s){let l=e.toJSON;if(typeof l=="function")try{let u=l.call(e,t);return Mi(u,t,n,!1,i,o,s)}catch(u){if(i.shouldCatchToJSONErrors)return zn("ToJSONFailed");throw u}}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();async function Is(e,t,n){let i=he(e,t),o=he(e,n),s=Fe(e,o,!0),l=Je(i),u=Re(i,l),f=e.vault.getAvailablePathForAttachments;return f.isExtended?f(u,l.slice(1),s,!0):await Lg(e,u,l.slice(1),s,!0)}async function Un(e,t){return ft(await Is(e,"DUMMY_FILE.pdf",t))}async function Lg(e,t,n,i,o){let s=e.vault.getConfig("attachmentFolderPath"),l=s==="."||s==="./",u=null;s.startsWith("./")&&(u=Rt(s,"./")),l?s=i?i.parent?.path??"":"":u&&(s=(i?i.parent?.getParentPrefix()??"":"")+u),s=br(Bu(s)),t=br(Bu(t));let f=dt(e,s,!0);!f&&u&&(o?f=Rn(e,s,!0):f=await e.vault.createFolder(s));let h=f?.getParentPrefix()??"";return e.vault.getAvailablePath(h+t,n)}async function Ds(e,t){let n=await Un(e,t),i=await Un(e,ye(se(t),"DUMMY_FILE.md"));return n!==i}function Bu(e){return e=Ve(e,/(?:[\\/])+/g,"/"),e=Ve(e,/^\/+|\/+$/g,""),e||"/"}var oo=require("obsidian");var Rg={};function mn(e,t){let n=t||Rg,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return zu(e,i,o)}function zu(e,t,n){if(Ng(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Vu(e.children,t,n)}return Array.isArray(e)?Vu(e,t,n):""}function Vu(e,t,n){let i=[],o=-1;for(;++o<e.length;)i[o]=zu(e[o],t,n);return i.join("")}function Ng(e){return!!(e&&typeof e=="object")}var Uu=document.createElement("i");function Hn(e){let t="&"+e+";";Uu.innerHTML=t;let n=Uu.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ae(e,t,n,i){let o=e.length,s=0,l;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,i.length<1e4)l=Array.from(i),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);s<i.length;)l=i.slice(s,s+1e4),l.unshift(t,0),e.splice(...l),s+=1e4,t+=1e4}function Ne(e,t){return e.length>0?(Ae(e,e.length,0,t),e):t}var Hu={}.hasOwnProperty;function $u(e){let t={},n=-1;for(;++n<e.length;)Yg(t,e[n]);return t}function Yg(e,t){let n;for(n in t){let o=(Hu.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n],l;if(s)for(l in s){Hu.call(o,l)||(o[l]=[]);let u=s[l];Wg(o[l],Array.isArray(u)?u:u?[u]:[])}}}function Wg(e,t){let n=-1,i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);Ae(e,0,0,i)}function Ii(e,t){let n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}function Yt(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var je=Kt(/[A-Za-z]/),Ye=Kt(/[\dA-Za-z]/),ju=Kt(/[#-'*+\--9=?A-Z^-~]/);function Er(e){return e!==null&&(e<32||e===127)}var Tr=Kt(/\d/),Gu=Kt(/[\dA-Fa-f]/),qu=Kt(/[!-/:-@[-`{-~]/);function R(e){return e!==null&&e<-2}function me(e){return e!==null&&(e<0||e===32)}function H(e){return e===-2||e===-1||e===32}var Zu=Kt(/\p{P}|\p{S}/u),Ku=Kt(/\s/);function Kt(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function $(e,t,n,i){let o=i?i-1:Number.POSITIVE_INFINITY,s=0;return l;function l(f){return H(f)?(e.enter(n),u(f)):t(f)}function u(f){return H(f)&&s++<o?(e.consume(f),u):(e.exit(n),t(f))}}var Qu={tokenize:Bg};function Bg(e){let t=e.attempt(this.parser.constructs.contentInitial,i,o),n;return t;function i(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),$(e,t,"linePrefix")}function o(u){return e.enter("paragraph"),s(u)}function s(u){let f=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return R(u)?(e.consume(u),e.exit("chunkText"),s):(e.consume(u),l)}}var Xu={tokenize:Vg},Ju={tokenize:zg};function Vg(e){let t=this,n=[],i=0,o,s,l;return u;function u(P){if(i<n.length){let W=n[i];return t.containerState=W[1],e.attempt(W[0].continuation,f,h)(P)}return h(P)}function f(P){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&T();let W=t.events.length,z=W,S;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){S=t.events[z][1].end;break}C(i);let Q=W;for(;Q<t.events.length;)t.events[Q][1].end={...S},Q++;return Ae(t.events,z+1,0,t.events.slice(W)),t.events.length=Q,h(P)}return u(P)}function h(P){if(i===n.length){if(!o)return w(P);if(o.currentConstruct&&o.currentConstruct.concrete)return v(P);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Ju,m,g)(P)}function m(P){return o&&T(),C(i),w(P)}function g(P){return t.parser.lazy[t.now().line]=i!==n.length,l=t.now().offset,v(P)}function w(P){return t.containerState={},e.attempt(Ju,y,v)(P)}function y(P){return i++,n.push([t.currentConstruct,t.containerState]),w(P)}function v(P){if(P===null){o&&T(),C(0),e.consume(P);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:s}),F(P)}function F(P){if(P===null){E(e.exit("chunkFlow"),!0),C(0),e.consume(P);return}return R(P)?(e.consume(P),E(e.exit("chunkFlow")),i=0,t.interrupt=void 0,u):(e.consume(P),F)}function E(P,W){let z=t.sliceStream(P);if(W&&z.push(null),P.previous=s,s&&(s.next=P),s=P,o.defineSkip(P.start),o.write(z),t.parser.lazy[P.start.line]){let S=o.events.length;for(;S--;)if(o.events[S][1].start.offset<l&&(!o.events[S][1].end||o.events[S][1].end.offset>l))return;let Q=t.events.length,j=Q,G,ne;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){if(G){ne=t.events[j][1].end;break}G=!0}for(C(i),S=Q;S<t.events.length;)t.events[S][1].end={...ne},S++;Ae(t.events,j+1,0,t.events.slice(Q)),t.events.length=S}}function C(P){let W=n.length;for(;W-- >P;){let z=n[W];t.containerState=z[1],z[0].exit.call(t,e)}n.length=P}function T(){o.write([null]),s=void 0,o=void 0,t.containerState._closeFlow=void 0}}function zg(e,t,n){return $(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function $n(e){if(e===null||me(e)||Ku(e))return 1;if(Zu(e))return 2}function jn(e,t,n){let i=[],o=-1;for(;++o<e.length;){let s=e[o].resolveAll;s&&!i.includes(s)&&(t=s(t,n),i.push(s))}return t}var Fr={name:"attention",resolveAll:Ug,tokenize:Hg};function Ug(e,t){let n=-1,i,o,s,l,u,f,h,m;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;f=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;let g={...e[i][1].end},w={...e[n][1].start};ec(g,-f),ec(w,f),l={type:f>1?"strongSequence":"emphasisSequence",start:g,end:{...e[i][1].end}},u={type:f>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:w},s={type:f>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},o={type:f>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[i][1].end={...l.start},e[n][1].start={...u.end},h=[],e[i][1].end.offset-e[i][1].start.offset&&(h=Ne(h,[["enter",e[i][1],t],["exit",e[i][1],t]])),h=Ne(h,[["enter",o,t],["enter",l,t],["exit",l,t],["enter",s,t]]),h=Ne(h,jn(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),h=Ne(h,[["exit",s,t],["enter",u,t],["exit",u,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(m=2,h=Ne(h,[["enter",e[n][1],t],["exit",e[n][1],t]])):m=0,Ae(e,i-1,n-i+3,h),n=i+h.length-m-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Hg(e,t){let n=this.parser.constructs.attentionMarkers.null,i=this.previous,o=$n(i),s;return l;function l(f){return s=f,e.enter("attentionSequence"),u(f)}function u(f){if(f===s)return e.consume(f),u;let h=e.exit("attentionSequence"),m=$n(f),g=!m||m===2&&o||n.includes(f),w=!o||o===2&&m||n.includes(i);return h._open=!!(s===42?g:g&&(o||!w)),h._close=!!(s===42?w:w&&(m||!g)),t(f)}}function ec(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}var Os={name:"autolink",tokenize:$g};function $g(e,t,n){let i=0;return o;function o(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(y){return je(y)?(e.consume(y),l):y===64?n(y):h(y)}function l(y){return y===43||y===45||y===46||Ye(y)?(i=1,u(y)):h(y)}function u(y){return y===58?(e.consume(y),i=0,f):(y===43||y===45||y===46||Ye(y))&&i++<32?(e.consume(y),u):(i=0,h(y))}function f(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||Er(y)?n(y):(e.consume(y),f)}function h(y){return y===64?(e.consume(y),m):ju(y)?(e.consume(y),h):n(y)}function m(y){return Ye(y)?g(y):n(y)}function g(y){return y===46?(e.consume(y),i=0,m):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):w(y)}function w(y){if((y===45||Ye(y))&&i++<63){let v=y===45?w:g;return e.consume(y),v}return n(y)}}var Qt={partial:!0,tokenize:jg};function jg(e,t,n){return i;function i(s){return H(s)?$(e,o,"linePrefix")(s):o(s)}function o(s){return s===null||R(s)?t(s):n(s)}}var Di={continuation:{tokenize:qg},exit:Zg,name:"blockQuote",tokenize:Gg};function Gg(e,t,n){let i=this;return o;function o(l){if(l===62){let u=i.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),s}return n(l)}function s(l){return H(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function qg(e,t,n){let i=this;return o;function o(l){return H(l)?$(e,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):s(l)}function s(l){return e.attempt(Di,t,n)(l)}}function Zg(e){e.exit("blockQuote")}var Oi={name:"characterEscape",tokenize:Kg};function Kg(e,t,n){return i;function i(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),o}function o(s){return qu(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}var Li={name:"characterReference",tokenize:Qg};function Qg(e,t,n){let i=this,o=0,s,l;return u;function u(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),f}function f(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),h):(e.enter("characterReferenceValue"),s=31,l=Ye,m(g))}function h(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,l=Gu,m):(e.enter("characterReferenceValue"),s=7,l=Tr,m(g))}function m(g){if(g===59&&o){let w=e.exit("characterReferenceValue");return l===Ye&&!Hn(i.sliceSerialize(w))?n(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(g)&&o++<s?(e.consume(g),m):n(g)}}var tc={partial:!0,tokenize:Xg},Ri={concrete:!0,name:"codeFenced",tokenize:Jg};function Jg(e,t,n){let i=this,o={partial:!0,tokenize:z},s=0,l=0,u;return f;function f(S){return h(S)}function h(S){let Q=i.events[i.events.length-1];return s=Q&&Q[1].type==="linePrefix"?Q[2].sliceSerialize(Q[1],!0).length:0,u=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),m(S)}function m(S){return S===u?(l++,e.consume(S),m):l<3?n(S):(e.exit("codeFencedFenceSequence"),H(S)?$(e,g,"whitespace")(S):g(S))}function g(S){return S===null||R(S)?(e.exit("codeFencedFence"),i.interrupt?t(S):e.check(tc,F,W)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),w(S))}function w(S){return S===null||R(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(S)):H(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),$(e,y,"whitespace")(S)):S===96&&S===u?n(S):(e.consume(S),w)}function y(S){return S===null||R(S)?g(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(S))}function v(S){return S===null||R(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(S)):S===96&&S===u?n(S):(e.consume(S),v)}function F(S){return e.attempt(o,W,E)(S)}function E(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),C}function C(S){return s>0&&H(S)?$(e,T,"linePrefix",s+1)(S):T(S)}function T(S){return S===null||R(S)?e.check(tc,F,W)(S):(e.enter("codeFlowValue"),P(S))}function P(S){return S===null||R(S)?(e.exit("codeFlowValue"),T(S)):(e.consume(S),P)}function W(S){return e.exit("codeFenced"),t(S)}function z(S,Q,j){let G=0;return ne;function ne(B){return S.enter("lineEnding"),S.consume(B),S.exit("lineEnding"),oe}function oe(B){return S.enter("codeFencedFence"),H(B)?$(S,X,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):X(B)}function X(B){return B===u?(S.enter("codeFencedFenceSequence"),N(B)):j(B)}function N(B){return B===u?(G++,S.consume(B),N):G>=l?(S.exit("codeFencedFenceSequence"),H(B)?$(S,U,"whitespace")(B):U(B)):j(B)}function U(B){return B===null||R(B)?(S.exit("codeFencedFence"),Q(B)):j(B)}}}function Xg(e,t,n){let i=this;return o;function o(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s)}function s(l){return i.parser.lazy[i.now().line]?n(l):t(l)}}var Pr={name:"codeIndented",tokenize:tw},ew={partial:!0,tokenize:nw};function tw(e,t,n){let i=this;return o;function o(h){return e.enter("codeIndented"),$(e,s,"linePrefix",5)(h)}function s(h){let m=i.events[i.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?l(h):n(h)}function l(h){return h===null?f(h):R(h)?e.attempt(ew,l,f)(h):(e.enter("codeFlowValue"),u(h))}function u(h){return h===null||R(h)?(e.exit("codeFlowValue"),l(h)):(e.consume(h),u)}function f(h){return e.exit("codeIndented"),t(h)}}function nw(e,t,n){let i=this;return o;function o(l){return i.parser.lazy[i.now().line]?n(l):R(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):$(e,s,"linePrefix",5)(l)}function s(l){let u=i.events[i.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):R(l)?o(l):n(l)}}var Ls={name:"codeText",previous:iw,resolve:rw,tokenize:ow};function rw(e){let t=e.length-4,n=3,i,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)o===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(o=i):(i===t||e[i][1].type==="lineEnding")&&(e[o][1].type="codeTextData",i!==o+2&&(e[o][1].end=e[i-1][1].end,e.splice(o+2,i-o-2),t-=i-o-2,i=o+2),o=void 0);return e}function iw(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ow(e,t,n){let i=this,o=0,s,l;return u;function u(w){return e.enter("codeText"),e.enter("codeTextSequence"),f(w)}function f(w){return w===96?(e.consume(w),o++,f):(e.exit("codeTextSequence"),h(w))}function h(w){return w===null?n(w):w===32?(e.enter("space"),e.consume(w),e.exit("space"),h):w===96?(l=e.enter("codeTextSequence"),s=0,g(w)):R(w)?(e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),h):(e.enter("codeTextData"),m(w))}function m(w){return w===null||w===32||w===96||R(w)?(e.exit("codeTextData"),h(w)):(e.consume(w),m)}function g(w){return w===96?(e.consume(w),s++,g):s===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(w)):(l.type="codeTextData",m(w))}}var Ni=class{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){let i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){let o=n||0;this.setCursor(Math.trunc(t));let s=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return i&&Mr(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Mr(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Mr(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){let n=this.left.splice(t,Number.POSITIVE_INFINITY);Mr(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Mr(this.left,n.reverse())}}};function Mr(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Yi(e){let t={},n=-1,i,o,s,l,u,f,h,m=new Ni(e);for(;++n<m.length;){for(;n in t;)n=t[n];if(i=m.get(n),n&&i[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(f=i[1]._tokenizer.events,s=0,s<f.length&&f[s][1].type==="lineEndingBlank"&&(s+=2),s<f.length&&f[s][1].type==="content"))for(;++s<f.length&&f[s][1].type!=="content";)f[s][1].type==="chunkText"&&(f[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,sw(m,n)),n=t[n],h=!0);else if(i[1]._container){for(s=n,o=void 0;s--&&(l=m.get(s),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank");)l[0]==="enter"&&(o&&(m.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=s);o&&(i[1].end={...m.get(o)[1].start},u=m.slice(o,n),u.unshift(i),m.splice(o,n-o+1,u))}}return Ae(e,0,Number.POSITIVE_INFINITY,m.slice(0)),!h}function sw(e,t){let n=e.get(t)[1],i=e.get(t)[2],o=t-1,s=[],l=n._tokenizer||i.parser[n.contentType](n.start),u=l.events,f=[],h={},m,g,w=-1,y=n,v=0,F=0,E=[F];for(;y;){for(;e.get(++o)[1]!==y;);s.push(o),y._tokenizer||(m=i.sliceStream(y),y.next||m.push(null),g&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(m),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=y,y=y.next}for(y=n;++w<u.length;)u[w][0]==="exit"&&u[w-1][0]==="enter"&&u[w][1].type===u[w-1][1].type&&u[w][1].start.line!==u[w][1].end.line&&(F=w+1,E.push(F),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):E.pop(),w=E.length;w--;){let C=u.slice(E[w],E[w+1]),T=s.pop();f.push([T,T+C.length-1]),e.splice(T,2,C)}for(f.reverse(),w=-1;++w<f.length;)h[v+f[w][0]]=v+f[w][1],v+=f[w][1]-f[w][0]-1;return h}var Rs={resolve:lw,tokenize:uw},aw={partial:!0,tokenize:cw};function lw(e){return Yi(e),e}function uw(e,t){let n;return i;function i(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(u)}function o(u){return u===null?s(u):R(u)?e.check(aw,l,s)(u):(e.consume(u),o)}function s(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function cw(e,t,n){let i=this;return o;function o(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),$(e,s,"linePrefix")}function s(l){if(l===null||R(l))return n(l);let u=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(i.parser.constructs.flow,n,t)(l)}}function Wi(e,t,n,i,o,s,l,u,f){let h=f||Number.POSITIVE_INFINITY,m=0;return g;function g(C){return C===60?(e.enter(i),e.enter(o),e.enter(s),e.consume(C),e.exit(s),w):C===null||C===32||C===41||Er(C)?n(C):(e.enter(i),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),F(C))}function w(C){return C===62?(e.enter(s),e.consume(C),e.exit(s),e.exit(o),e.exit(i),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),y(C))}function y(C){return C===62?(e.exit("chunkString"),e.exit(u),w(C)):C===null||C===60||R(C)?n(C):(e.consume(C),C===92?v:y)}function v(C){return C===60||C===62||C===92?(e.consume(C),y):y(C)}function F(C){return!m&&(C===null||C===41||me(C))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(i),t(C)):m<h&&C===40?(e.consume(C),m++,F):C===41?(e.consume(C),m--,F):C===null||C===32||C===40||Er(C)?n(C):(e.consume(C),C===92?E:F)}function E(C){return C===40||C===41||C===92?(e.consume(C),F):F(C)}}function Bi(e,t,n,i,o,s){let l=this,u=0,f;return h;function h(y){return e.enter(i),e.enter(o),e.consume(y),e.exit(o),e.enter(s),m}function m(y){return u>999||y===null||y===91||y===93&&!f||y===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(y):y===93?(e.exit(s),e.enter(o),e.consume(y),e.exit(o),e.exit(i),t):R(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),m):(e.enter("chunkString",{contentType:"string"}),g(y))}function g(y){return y===null||y===91||y===93||R(y)||u++>999?(e.exit("chunkString"),m(y)):(e.consume(y),f||(f=!H(y)),y===92?w:g)}function w(y){return y===91||y===92||y===93?(e.consume(y),u++,g):g(y)}}function Vi(e,t,n,i,o,s){let l;return u;function u(w){return w===34||w===39||w===40?(e.enter(i),e.enter(o),e.consume(w),e.exit(o),l=w===40?41:w,f):n(w)}function f(w){return w===l?(e.enter(o),e.consume(w),e.exit(o),e.exit(i),t):(e.enter(s),h(w))}function h(w){return w===l?(e.exit(s),f(l)):w===null?n(w):R(w)?(e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),$(e,h,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===l||w===null||R(w)?(e.exit("chunkString"),h(w)):(e.consume(w),w===92?g:m)}function g(w){return w===l||w===92?(e.consume(w),m):m(w)}}function pn(e,t){let n;return i;function i(o){return R(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,i):H(o)?$(e,i,n?"linePrefix":"lineSuffix")(o):t(o)}}var Ns={name:"definition",tokenize:dw},fw={partial:!0,tokenize:hw};function dw(e,t,n){let i=this,o;return s;function s(y){return e.enter("definition"),l(y)}function l(y){return Bi.call(i,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function u(y){return o=Yt(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),f):n(y)}function f(y){return me(y)?pn(e,h)(y):h(y)}function h(y){return Wi(e,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function m(y){return e.attempt(fw,g,g)(y)}function g(y){return H(y)?$(e,w,"whitespace")(y):w(y)}function w(y){return y===null||R(y)?(e.exit("definition"),i.parser.defined.push(o),t(y)):n(y)}}function hw(e,t,n){return i;function i(u){return me(u)?pn(e,o)(u):n(u)}function o(u){return Vi(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return H(u)?$(e,l,"whitespace")(u):l(u)}function l(u){return u===null||R(u)?t(u):n(u)}}var Ys={name:"hardBreakEscape",tokenize:mw};function mw(e,t,n){return i;function i(s){return e.enter("hardBreakEscape"),e.consume(s),o}function o(s){return R(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}var Ws={name:"headingAtx",resolve:pw,tokenize:gw};function pw(e,t){let n=e.length-2,i=3,o,s;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(o={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},s={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},Ae(e,i,n-i+1,[["enter",o,t],["enter",s,t],["exit",s,t],["exit",o,t]])),e}function gw(e,t,n){let i=0;return o;function o(m){return e.enter("atxHeading"),s(m)}function s(m){return e.enter("atxHeadingSequence"),l(m)}function l(m){return m===35&&i++<6?(e.consume(m),l):m===null||me(m)?(e.exit("atxHeadingSequence"),u(m)):n(m)}function u(m){return m===35?(e.enter("atxHeadingSequence"),f(m)):m===null||R(m)?(e.exit("atxHeading"),t(m)):H(m)?$(e,u,"whitespace")(m):(e.enter("atxHeadingText"),h(m))}function f(m){return m===35?(e.consume(m),f):(e.exit("atxHeadingSequence"),u(m))}function h(m){return m===null||m===35||me(m)?(e.exit("atxHeadingText"),u(m)):(e.consume(m),h)}}var nc=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Bs=["pre","script","style","textarea"];var Vs={concrete:!0,name:"htmlFlow",resolveTo:kw,tokenize:bw},ww={partial:!0,tokenize:vw},yw={partial:!0,tokenize:xw};function kw(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function bw(e,t,n){let i=this,o,s,l,u,f;return h;function h(k){return m(k)}function m(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),g}function g(k){return k===33?(e.consume(k),w):k===47?(e.consume(k),s=!0,F):k===63?(e.consume(k),o=3,i.interrupt?t:x):je(k)?(e.consume(k),l=String.fromCharCode(k),E):n(k)}function w(k){return k===45?(e.consume(k),o=2,y):k===91?(e.consume(k),o=5,u=0,v):je(k)?(e.consume(k),o=4,i.interrupt?t:x):n(k)}function y(k){return k===45?(e.consume(k),i.interrupt?t:x):n(k)}function v(k){let Me="CDATA[";return k===Me.charCodeAt(u++)?(e.consume(k),u===Me.length?i.interrupt?t:X:v):n(k)}function F(k){return je(k)?(e.consume(k),l=String.fromCharCode(k),E):n(k)}function E(k){if(k===null||k===47||k===62||me(k)){let Me=k===47,At=l.toLowerCase();return!Me&&!s&&Bs.includes(At)?(o=1,i.interrupt?t(k):X(k)):nc.includes(l.toLowerCase())?(o=6,Me?(e.consume(k),C):i.interrupt?t(k):X(k)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(k):s?T(k):P(k))}return k===45||Ye(k)?(e.consume(k),l+=String.fromCharCode(k),E):n(k)}function C(k){return k===62?(e.consume(k),i.interrupt?t:X):n(k)}function T(k){return H(k)?(e.consume(k),T):ne(k)}function P(k){return k===47?(e.consume(k),ne):k===58||k===95||je(k)?(e.consume(k),W):H(k)?(e.consume(k),P):ne(k)}function W(k){return k===45||k===46||k===58||k===95||Ye(k)?(e.consume(k),W):z(k)}function z(k){return k===61?(e.consume(k),S):H(k)?(e.consume(k),z):P(k)}function S(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),f=k,Q):H(k)?(e.consume(k),S):j(k)}function Q(k){return k===f?(e.consume(k),f=null,G):k===null||R(k)?n(k):(e.consume(k),Q)}function j(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||me(k)?z(k):(e.consume(k),j)}function G(k){return k===47||k===62||H(k)?P(k):n(k)}function ne(k){return k===62?(e.consume(k),oe):n(k)}function oe(k){return k===null||R(k)?X(k):H(k)?(e.consume(k),oe):n(k)}function X(k){return k===45&&o===2?(e.consume(k),ee):k===60&&o===1?(e.consume(k),ue):k===62&&o===4?(e.consume(k),Se):k===63&&o===3?(e.consume(k),x):k===93&&o===5?(e.consume(k),We):R(k)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(ww,_e,N)(k)):k===null||R(k)?(e.exit("htmlFlowData"),N(k)):(e.consume(k),X)}function N(k){return e.check(yw,U,_e)(k)}function U(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),B}function B(k){return k===null||R(k)?N(k):(e.enter("htmlFlowData"),X(k))}function ee(k){return k===45?(e.consume(k),x):X(k)}function ue(k){return k===47?(e.consume(k),l="",fe):X(k)}function fe(k){if(k===62){let Me=l.toLowerCase();return Bs.includes(Me)?(e.consume(k),Se):X(k)}return je(k)&&l.length<8?(e.consume(k),l+=String.fromCharCode(k),fe):X(k)}function We(k){return k===93?(e.consume(k),x):X(k)}function x(k){return k===62?(e.consume(k),Se):k===45&&o===2?(e.consume(k),x):X(k)}function Se(k){return k===null||R(k)?(e.exit("htmlFlowData"),_e(k)):(e.consume(k),Se)}function _e(k){return e.exit("htmlFlow"),t(k)}}function xw(e,t,n){let i=this;return o;function o(l){return R(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):n(l)}function s(l){return i.parser.lazy[i.now().line]?n(l):t(l)}}function vw(e,t,n){return i;function i(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Qt,t,n)}}var zs={name:"htmlText",tokenize:Cw};function Cw(e,t,n){let i=this,o,s,l;return u;function u(x){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(x),f}function f(x){return x===33?(e.consume(x),h):x===47?(e.consume(x),z):x===63?(e.consume(x),P):je(x)?(e.consume(x),j):n(x)}function h(x){return x===45?(e.consume(x),m):x===91?(e.consume(x),s=0,v):je(x)?(e.consume(x),T):n(x)}function m(x){return x===45?(e.consume(x),y):n(x)}function g(x){return x===null?n(x):x===45?(e.consume(x),w):R(x)?(l=g,ue(x)):(e.consume(x),g)}function w(x){return x===45?(e.consume(x),y):g(x)}function y(x){return x===62?ee(x):x===45?w(x):g(x)}function v(x){let Se="CDATA[";return x===Se.charCodeAt(s++)?(e.consume(x),s===Se.length?F:v):n(x)}function F(x){return x===null?n(x):x===93?(e.consume(x),E):R(x)?(l=F,ue(x)):(e.consume(x),F)}function E(x){return x===93?(e.consume(x),C):F(x)}function C(x){return x===62?ee(x):x===93?(e.consume(x),C):F(x)}function T(x){return x===null||x===62?ee(x):R(x)?(l=T,ue(x)):(e.consume(x),T)}function P(x){return x===null?n(x):x===63?(e.consume(x),W):R(x)?(l=P,ue(x)):(e.consume(x),P)}function W(x){return x===62?ee(x):P(x)}function z(x){return je(x)?(e.consume(x),S):n(x)}function S(x){return x===45||Ye(x)?(e.consume(x),S):Q(x)}function Q(x){return R(x)?(l=Q,ue(x)):H(x)?(e.consume(x),Q):ee(x)}function j(x){return x===45||Ye(x)?(e.consume(x),j):x===47||x===62||me(x)?G(x):n(x)}function G(x){return x===47?(e.consume(x),ee):x===58||x===95||je(x)?(e.consume(x),ne):R(x)?(l=G,ue(x)):H(x)?(e.consume(x),G):ee(x)}function ne(x){return x===45||x===46||x===58||x===95||Ye(x)?(e.consume(x),ne):oe(x)}function oe(x){return x===61?(e.consume(x),X):R(x)?(l=oe,ue(x)):H(x)?(e.consume(x),oe):G(x)}function X(x){return x===null||x===60||x===61||x===62||x===96?n(x):x===34||x===39?(e.consume(x),o=x,N):R(x)?(l=X,ue(x)):H(x)?(e.consume(x),X):(e.consume(x),U)}function N(x){return x===o?(e.consume(x),o=void 0,B):x===null?n(x):R(x)?(l=N,ue(x)):(e.consume(x),N)}function U(x){return x===null||x===34||x===39||x===60||x===61||x===96?n(x):x===47||x===62||me(x)?G(x):(e.consume(x),U)}function B(x){return x===47||x===62||me(x)?G(x):n(x)}function ee(x){return x===62?(e.consume(x),e.exit("htmlTextData"),e.exit("htmlText"),t):n(x)}function ue(x){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),fe}function fe(x){return H(x)?$(e,We,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x):We(x)}function We(x){return e.enter("htmlTextData"),l(x)}}var gn={name:"labelEnd",resolveAll:Ew,resolveTo:Tw,tokenize:Fw},Aw={tokenize:Pw},Sw={tokenize:Mw},_w={tokenize:Iw};function Ew(e){let t=-1,n=[];for(;++t<e.length;){let i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){let o=i.type==="labelImage"?4:2;i.type="data",t+=o}}return e.length!==n.length&&Ae(e,0,e.length,n),e}function Tw(e,t){let n=e.length,i=0,o,s,l,u;for(;n--;)if(o=e[n][1],s){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(s=n,o.type!=="labelLink")){i=2;break}}else o.type==="labelEnd"&&(l=n);let f={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},h={type:"label",start:{...e[s][1].start},end:{...e[l][1].end}},m={type:"labelText",start:{...e[s+i+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",f,t],["enter",h,t]],u=Ne(u,e.slice(s+1,s+i+3)),u=Ne(u,[["enter",m,t]]),u=Ne(u,jn(t.parser.constructs.insideSpan.null,e.slice(s+i+4,l-3),t)),u=Ne(u,[["exit",m,t],e[l-2],e[l-1],["exit",h,t]]),u=Ne(u,e.slice(l+1)),u=Ne(u,[["exit",f,t]]),Ae(e,s,e.length,u),e}function Fw(e,t,n){let i=this,o=i.events.length,s,l;for(;o--;)if((i.events[o][1].type==="labelImage"||i.events[o][1].type==="labelLink")&&!i.events[o][1]._balanced){s=i.events[o][1];break}return u;function u(w){return s?s._inactive?g(w):(l=i.parser.defined.includes(Yt(i.sliceSerialize({start:s.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(w),e.exit("labelMarker"),e.exit("labelEnd"),f):n(w)}function f(w){return w===40?e.attempt(Aw,m,l?m:g)(w):w===91?e.attempt(Sw,m,l?h:g)(w):l?m(w):g(w)}function h(w){return e.attempt(_w,m,g)(w)}function m(w){return t(w)}function g(w){return s._balanced=!0,n(w)}}function Pw(e,t,n){return i;function i(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),o}function o(g){return me(g)?pn(e,s)(g):s(g)}function s(g){return g===41?m(g):Wi(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return me(g)?pn(e,f)(g):m(g)}function u(g){return n(g)}function f(g){return g===34||g===39||g===40?Vi(e,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):m(g)}function h(g){return me(g)?pn(e,m)(g):m(g)}function m(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),t):n(g)}}function Mw(e,t,n){let i=this;return o;function o(u){return Bi.call(i,e,s,l,"reference","referenceMarker","referenceString")(u)}function s(u){return i.parser.defined.includes(Yt(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function Iw(e,t,n){return i;function i(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),o}function o(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}var Us={name:"labelStartImage",resolveAll:gn.resolveAll,tokenize:Dw};function Dw(e,t,n){let i=this;return o;function o(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),s}function s(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):t(u)}}var Hs={name:"labelStartLink",resolveAll:gn.resolveAll,tokenize:Ow};function Ow(e,t,n){let i=this;return o;function o(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),s}function s(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(l):t(l)}}var Ir={name:"lineEnding",tokenize:Lw};function Lw(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),$(e,t,"linePrefix")}}var wn={name:"thematicBreak",tokenize:Rw};function Rw(e,t,n){let i=0,o;return s;function s(h){return e.enter("thematicBreak"),l(h)}function l(h){return o=h,u(h)}function u(h){return h===o?(e.enter("thematicBreakSequence"),f(h)):i>=3&&(h===null||R(h))?(e.exit("thematicBreak"),t(h)):n(h)}function f(h){return h===o?(e.consume(h),i++,f):(e.exit("thematicBreakSequence"),H(h)?$(e,u,"whitespace")(h):u(h))}}var Pe={continuation:{tokenize:Bw},exit:zw,name:"list",tokenize:Ww},Nw={partial:!0,tokenize:Uw},Yw={partial:!0,tokenize:Vw};function Ww(e,t,n){let i=this,o=i.events[i.events.length-1],s=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return u;function u(y){let v=i.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!i.containerState.marker||y===i.containerState.marker:Tr(y)){if(i.containerState.type||(i.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(wn,n,h)(y):h(y);if(!i.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),f(y)}return n(y)}function f(y){return Tr(y)&&++l<10?(e.consume(y),f):(!i.interrupt||l<2)&&(i.containerState.marker?y===i.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),h(y)):n(y)}function h(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||y,e.check(Qt,i.interrupt?n:m,e.attempt(Nw,w,g))}function m(y){return i.containerState.initialBlankLine=!0,s++,w(y)}function g(y){return H(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),w):n(y)}function w(y){return i.containerState.size=s+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function Bw(e,t,n){let i=this;return i.containerState._closeFlow=void 0,e.check(Qt,o,s);function o(u){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,$(e,t,"listItemIndent",i.containerState.size+1)(u)}function s(u){return i.containerState.furtherBlankLines||!H(u)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(u)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(Yw,t,l)(u))}function l(u){return i.containerState._closeFlow=!0,i.interrupt=void 0,$(e,e.attempt(Pe,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function Vw(e,t,n){let i=this;return $(e,o,"listItemIndent",i.containerState.size+1);function o(s){let l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?t(s):n(s)}}function zw(e){e.exit(this.containerState.type)}function Uw(e,t,n){let i=this;return $(e,o,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(s){let l=i.events[i.events.length-1];return!H(s)&&l&&l[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}var zi={name:"setextUnderline",resolveTo:Hw,tokenize:$w};function Hw(e,t){let n=e.length,i,o,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);let l={type:"setextHeading",start:{...e[o][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",s?(e.splice(o,0,["enter",l,t]),e.splice(s+1,0,["exit",e[i][1],t]),e[i][1].end={...e[s][1].end}):e[i][1]=l,e.push(["exit",l,t]),e}function $w(e,t,n){let i=this,o;return s;function s(h){let m=i.events.length,g;for(;m--;)if(i.events[m][1].type!=="lineEnding"&&i.events[m][1].type!=="linePrefix"&&i.events[m][1].type!=="content"){g=i.events[m][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||g)?(e.enter("setextHeadingLine"),o=h,l(h)):n(h)}function l(h){return e.enter("setextHeadingLineSequence"),u(h)}function u(h){return h===o?(e.consume(h),u):(e.exit("setextHeadingLineSequence"),H(h)?$(e,f,"lineSuffix")(h):f(h))}function f(h){return h===null||R(h)?(e.exit("setextHeadingLine"),t(h)):n(h)}}var rc={tokenize:jw};function jw(e){let t=this,n=e.attempt(Qt,i,e.attempt(this.parser.constructs.flowInitial,o,$(e,e.attempt(this.parser.constructs.flow,o,e.attempt(Rs,o)),"linePrefix")));return n;function i(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}var ic={resolveAll:lc()},oc=ac("string"),sc=ac("text");function ac(e){return{resolveAll:lc(e==="text"?Gw:void 0),tokenize:t};function t(n){let i=this,o=this.parser.constructs[e],s=n.attempt(o,l,u);return l;function l(m){return h(m)?s(m):u(m)}function u(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),f}function f(m){return h(m)?(n.exit("data"),s(m)):(n.consume(m),f)}function h(m){if(m===null)return!0;let g=o[m],w=-1;if(g)for(;++w<g.length;){let y=g[w];if(!y.previous||y.previous.call(i,i.previous))return!0}return!1}}}function lc(e){return t;function t(n,i){let o=-1,s;for(;++o<=n.length;)s===void 0?n[o]&&n[o][1].type==="data"&&(s=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==s+2&&(n[s][1].end=n[o-1][1].end,n.splice(s+2,o-s-2),o=s+2),s=void 0);return e?e(n,i):n}}function Gw(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){let i=e[n-1][1],o=t.sliceStream(i),s=o.length,l=-1,u=0,f;for(;s--;){let h=o[s];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(h===-2)f=!0,u++;else if(h!==-1){s++;break}}if(u){let h={type:n===e.length||f||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?l:i.start._bufferIndex+l,_index:i.start._index+s,line:i.end.line,column:i.end.column-u,offset:i.end.offset-u},end:{...i.end}};i.end={...h.start},i.start.offset===i.end.offset?Object.assign(i,h):(e.splice(n,0,["enter",h,t],["exit",h,t]),n+=2)}n++}return e}var $s={};Rl($s,{attentionMarkers:()=>ty,contentInitial:()=>Zw,disable:()=>ny,document:()=>qw,flow:()=>Qw,flowInitial:()=>Kw,insideSpan:()=>ey,string:()=>Jw,text:()=>Xw});var qw={42:Pe,43:Pe,45:Pe,48:Pe,49:Pe,50:Pe,51:Pe,52:Pe,53:Pe,54:Pe,55:Pe,56:Pe,57:Pe,62:Di},Zw={91:Ns},Kw={[-2]:Pr,[-1]:Pr,32:Pr},Qw={35:Ws,42:wn,45:[zi,wn],60:Vs,61:zi,95:wn,96:Ri,126:Ri},Jw={38:Li,92:Oi},Xw={[-5]:Ir,[-4]:Ir,[-3]:Ir,33:Us,38:Li,42:Fr,60:[Os,zs],91:Hs,92:[Ys,Oi],93:gn,95:Fr,96:Ls},ey={null:[Fr,ic]},ty={null:[42,95]},ny={null:[]};function uc(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},o={},s=[],l=[],u=[],f=!0,h={attempt:G(Q),check:G(j),consume:W,enter:z,exit:S,interrupt:G(j,{interrupt:!0})},m={code:null,containerState:{},defineSkip:C,events:[],now:E,parser:e,previous:null,sliceSerialize:v,sliceStream:F,write:y},g=t.tokenize.call(m,h),w;return t.resolveAll&&s.push(t),m;function y(N){return l=Ne(l,N),T(),l[l.length-1]!==null?[]:(ne(t,0),m.events=jn(s,m.events,m),m.events)}function v(N,U){return iy(F(N),U)}function F(N){return ry(l,N)}function E(){let{_bufferIndex:N,_index:U,line:B,column:ee,offset:ue}=i;return{_bufferIndex:N,_index:U,line:B,column:ee,offset:ue}}function C(N){o[N.line]=N.column,X()}function T(){let N;for(;i._index<l.length;){let U=l[i._index];if(typeof U=="string")for(N=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===N&&i._bufferIndex<U.length;)P(U.charCodeAt(i._bufferIndex));else P(U)}}function P(N){f=void 0,w=N,g=g(N)}function W(N){R(N)?(i.line++,i.column=1,i.offset+=N===-3?2:1,X()):N!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),m.previous=N,f=!0}function z(N,U){let B=U||{};return B.type=N,B.start=E(),m.events.push(["enter",B,m]),u.push(B),B}function S(N){let U=u.pop();return U.end=E(),m.events.push(["exit",U,m]),U}function Q(N,U){ne(N,U.from)}function j(N,U){U.restore()}function G(N,U){return B;function B(ee,ue,fe){let We,x,Se,_e;return Array.isArray(ee)?Me(ee):"tokenize"in ee?Me([ee]):k(ee);function k(ge){return rn;function rn(rt){let St=rt!==null&&ge[rt],Ut=rt!==null&&ge.null,lr=[...Array.isArray(St)?St:St?[St]:[],...Array.isArray(Ut)?Ut:Ut?[Ut]:[]];return Me(lr)(rt)}}function Me(ge){return We=ge,x=0,ge.length===0?fe:At(ge[x])}function At(ge){return rn;function rn(rt){return _e=oe(),Se=ge,ge.partial||(m.currentConstruct=ge),ge.name&&m.parser.constructs.disable.null.includes(ge.name)?nn(rt):ge.tokenize.call(U?Object.assign(Object.create(m),U):m,h,zt,nn)(rt)}}function zt(ge){return f=!0,N(Se,_e),ue}function nn(ge){return f=!0,_e.restore(),++x<We.length?At(We[x]):fe}}}function ne(N,U){N.resolveAll&&!s.includes(N)&&s.push(N),N.resolve&&Ae(m.events,U,m.events.length-U,N.resolve(m.events.slice(U),m)),N.resolveTo&&(m.events=N.resolveTo(m.events,m))}function oe(){let N=E(),U=m.previous,B=m.currentConstruct,ee=m.events.length,ue=Array.from(u);return{from:ee,restore:fe};function fe(){i=N,m.previous=U,m.currentConstruct=B,m.events.length=ee,u=ue,X()}}function X(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}function ry(e,t){let n=t.start._index,i=t.start._bufferIndex,o=t.end._index,s=t.end._bufferIndex,l;if(n===o)l=[e[n].slice(i,s)];else{if(l=e.slice(n,o),i>-1){let u=l[0];typeof u=="string"?l[0]=u.slice(i):l.shift()}s>0&&l.push(e[o].slice(0,s))}return l}function iy(e,t){let n=-1,i=[],o;for(;++n<e.length;){let s=e[n],l;if(typeof s=="string")l=s;else switch(s){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&o)continue;l=" ";break}default:l=String.fromCharCode(s)}o=s===-2,i.push(l)}return i.join("")}function js(e){let i={constructs:$u([$s,...(e||{}).extensions||[]]),content:o(Qu),defined:[],document:o(Xu),flow:o(rc),lazy:{},string:o(oc),text:o(sc)};return i;function o(s){return l;function l(u){return uc(i,s,u)}}}function Gs(e){for(;!Yi(e););return e}var cc=/[\0\t\n\r]/g;function qs(){let e=1,t="",n=!0,i;return o;function o(s,l,u){let f=[],h,m,g,w,y;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),g=0,t="",n&&(s.charCodeAt(0)===65279&&g++,n=void 0);g<s.length;){if(cc.lastIndex=g,h=cc.exec(s),w=h&&h.index!==void 0?h.index:s.length,y=s.charCodeAt(w),!h){t=s.slice(g);break}if(y===10&&g===w&&i)f.push(-3),i=void 0;else switch(i&&(f.push(-5),i=void 0),g<w&&(f.push(s.slice(g,w)),e+=w-g),y){case 0:{f.push(65533),e++;break}case 9:{for(m=Math.ceil(e/4)*4,f.push(-2);e++<m;)f.push(-1);break}case 10:{f.push(-4),e=1;break}default:i=!0,e=1}g=w+1}return u&&(i&&f.push(-5),t&&f.push(t),f.push(null)),f}}var oy=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ui(e){return e.replace(oy,sy)}function sy(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){let o=n.charCodeAt(1),s=o===120||o===88;return Ii(n.slice(s?2:1),s?16:10)}return Hn(n)||e}function Jt(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?fc(e.position):"start"in e||"end"in e?fc(e):"line"in e||"column"in e?Zs(e):""}function Zs(e){return dc(e&&e.line)+":"+dc(e&&e.column)}function fc(e){return Zs(e&&e.start)+"-"+Zs(e&&e.end)}function dc(e){return e&&typeof e=="number"?e:1}var mc={}.hasOwnProperty;function Ks(e,t,n){return typeof t!="string"&&(n=t,t=void 0),ay(n)(Gs(js(n).document().write(qs()(e,t,!0))))}function ay(e){let t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Ie),autolinkProtocol:G,autolinkEmail:G,atxHeading:s($r),blockQuote:s(rt),characterEscape:G,characterReference:G,codeFenced:s(St),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(St,l),codeText:s(Ut,l),codeTextData:G,data:G,codeFlowValue:G,definition:s(lr),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s($o),hardBreakEscape:s(jr),hardBreakTrailing:s(jr),htmlFlow:s(Gr,l),htmlFlowData:G,htmlText:s(Gr,l),htmlTextData:G,image:s(qr),label:l,link:s(Ie),listItem:s(jo),listItemValue:w,listOrdered:s(An,g),listUnordered:s(An),paragraph:s(Go),reference:k,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s($r),strong:s(Zr),thematicBreak:s(Kr)},exit:{atxHeading:f(),atxHeadingSequence:z,autolink:f(),autolinkEmail:rn,autolinkProtocol:ge,blockQuote:f(),characterEscapeValue:ne,characterReferenceMarkerHexadecimal:At,characterReferenceMarkerNumeric:At,characterReferenceValue:zt,characterReference:nn,codeFenced:f(E),codeFencedFence:F,codeFencedFenceInfo:y,codeFencedFenceMeta:v,codeFlowValue:ne,codeIndented:f(C),codeText:f(B),codeTextData:ne,data:ne,definition:f(),definitionDestinationString:W,definitionLabelString:T,definitionTitleString:P,emphasis:f(),hardBreakEscape:f(X),hardBreakTrailing:f(X),htmlFlow:f(N),htmlFlowData:ne,htmlText:f(U),htmlTextData:ne,image:f(ue),label:We,labelText:fe,lineEnding:oe,link:f(ee),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:Me,resourceDestinationString:x,resourceTitleString:Se,resource:_e,setextHeading:f(j),setextHeadingLineSequence:Q,setextHeadingText:S,strong:f(),thematicBreak:f()}};pc(t,(e||{}).mdastExtensions||[]);let n={};return i;function i(_){let I={type:"root",children:[]},D={stack:[I],tokenStack:[],config:t,enter:u,exit:h,buffer:l,resume:m,data:n},q=[],re=-1;for(;++re<_.length;)if(_[re][1].type==="listOrdered"||_[re][1].type==="listUnordered")if(_[re][0]==="enter")q.push(re);else{let Ee=q.pop();re=o(_,Ee,re)}for(re=-1;++re<_.length;){let Ee=t[_[re][0]];mc.call(Ee,_[re][1].type)&&Ee[_[re][1].type].call(Object.assign({sliceSerialize:_[re][2].sliceSerialize},D),_[re][1])}if(D.tokenStack.length>0){let Ee=D.tokenStack[D.tokenStack.length-1];(Ee[1]||hc).call(D,void 0,Ee[0])}for(I.position={start:Xt(_.length>0?_[0][1].start:{line:1,column:1,offset:0}),end:Xt(_.length>0?_[_.length-2][1].end:{line:1,column:1,offset:0})},re=-1;++re<t.transforms.length;)I=t.transforms[re](I)||I;return I}function o(_,I,D){let q=I-1,re=-1,Ee=!1,it,Be,Ze,mt;for(;++q<=D;){let Oe=_[q];switch(Oe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Oe[0]==="enter"?re++:re--,mt=void 0;break}case"lineEndingBlank":{Oe[0]==="enter"&&(it&&!mt&&!re&&!Ze&&(Ze=q),mt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:mt=void 0}if(!re&&Oe[0]==="enter"&&Oe[1].type==="listItemPrefix"||re===-1&&Oe[0]==="exit"&&(Oe[1].type==="listUnordered"||Oe[1].type==="listOrdered")){if(it){let ot=q;for(Be=void 0;ot--;){let st=_[ot];if(st[1].type==="lineEnding"||st[1].type==="lineEndingBlank"){if(st[0]==="exit")continue;Be&&(_[Be][1].type="lineEndingBlank",Ee=!0),st[1].type="lineEnding",Be=ot}else if(!(st[1].type==="linePrefix"||st[1].type==="blockQuotePrefix"||st[1].type==="blockQuotePrefixWhitespace"||st[1].type==="blockQuoteMarker"||st[1].type==="listItemIndent"))break}Ze&&(!Be||Ze<Be)&&(it._spread=!0),it.end=Object.assign({},Be?_[Be][1].start:Oe[1].end),_.splice(Be||q,0,["exit",it,Oe[2]]),q++,D++}if(Oe[1].type==="listItemPrefix"){let ot={type:"listItem",_spread:!1,start:Object.assign({},Oe[1].start),end:void 0};it=ot,_.splice(q,0,["enter",ot,Oe[2]]),q++,D++,Ze=void 0,mt=!0}}}return _[I][1]._spread=Ee,D}function s(_,I){return D;function D(q){u.call(this,_(q),q),I&&I.call(this,q)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(_,I,D){this.stack[this.stack.length-1].children.push(_),this.stack.push(_),this.tokenStack.push([I,D||void 0]),_.position={start:Xt(I.start),end:void 0}}function f(_){return I;function I(D){_&&_.call(this,D),h.call(this,D)}}function h(_,I){let D=this.stack.pop(),q=this.tokenStack.pop();if(q)q[0].type!==_.type&&(I?I.call(this,_,q[0]):(q[1]||hc).call(this,_,q[0]));else throw new Error("Cannot close `"+_.type+"` ("+Jt({start:_.start,end:_.end})+"): it\u2019s not open");D.position.end=Xt(_.end)}function m(){return mn(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function w(_){if(this.data.expectingFirstListItemValue){let I=this.stack[this.stack.length-2];I.start=Number.parseInt(this.sliceSerialize(_),10),this.data.expectingFirstListItemValue=void 0}}function y(){let _=this.resume(),I=this.stack[this.stack.length-1];I.lang=_}function v(){let _=this.resume(),I=this.stack[this.stack.length-1];I.meta=_}function F(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){let _=this.resume(),I=this.stack[this.stack.length-1];I.value=_.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){let _=this.resume(),I=this.stack[this.stack.length-1];I.value=_.replace(/(\r?\n|\r)$/g,"")}function T(_){let I=this.resume(),D=this.stack[this.stack.length-1];D.label=I,D.identifier=Yt(this.sliceSerialize(_)).toLowerCase()}function P(){let _=this.resume(),I=this.stack[this.stack.length-1];I.title=_}function W(){let _=this.resume(),I=this.stack[this.stack.length-1];I.url=_}function z(_){let I=this.stack[this.stack.length-1];if(!I.depth){let D=this.sliceSerialize(_).length;I.depth=D}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function Q(_){let I=this.stack[this.stack.length-1];I.depth=this.sliceSerialize(_).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function G(_){let D=this.stack[this.stack.length-1].children,q=D[D.length-1];(!q||q.type!=="text")&&(q=De(),q.position={start:Xt(_.start),end:void 0},D.push(q)),this.stack.push(q)}function ne(_){let I=this.stack.pop();I.value+=this.sliceSerialize(_),I.position.end=Xt(_.end)}function oe(_){let I=this.stack[this.stack.length-1];if(this.data.atHardBreak){let D=I.children[I.children.length-1];D.position.end=Xt(_.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(I.type)&&(G.call(this,_),ne.call(this,_))}function X(){this.data.atHardBreak=!0}function N(){let _=this.resume(),I=this.stack[this.stack.length-1];I.value=_}function U(){let _=this.resume(),I=this.stack[this.stack.length-1];I.value=_}function B(){let _=this.resume(),I=this.stack[this.stack.length-1];I.value=_}function ee(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let I=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=I,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function ue(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let I=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=I,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function fe(_){let I=this.sliceSerialize(_),D=this.stack[this.stack.length-2];D.label=Ui(I),D.identifier=Yt(I).toLowerCase()}function We(){let _=this.stack[this.stack.length-1],I=this.resume(),D=this.stack[this.stack.length-1];if(this.data.inReference=!0,D.type==="link"){let q=_.children;D.children=q}else D.alt=I}function x(){let _=this.resume(),I=this.stack[this.stack.length-1];I.url=_}function Se(){let _=this.resume(),I=this.stack[this.stack.length-1];I.title=_}function _e(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function Me(_){let I=this.resume(),D=this.stack[this.stack.length-1];D.label=I,D.identifier=Yt(this.sliceSerialize(_)).toLowerCase(),this.data.referenceType="full"}function At(_){this.data.characterReferenceType=_.type}function zt(_){let I=this.sliceSerialize(_),D=this.data.characterReferenceType,q;D?(q=Ii(I,D==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):q=Hn(I);let re=this.stack[this.stack.length-1];re.value+=q}function nn(_){let I=this.stack.pop();I.position.end=Xt(_.end)}function ge(_){ne.call(this,_);let I=this.stack[this.stack.length-1];I.url=this.sliceSerialize(_)}function rn(_){ne.call(this,_);let I=this.stack[this.stack.length-1];I.url="mailto:"+this.sliceSerialize(_)}function rt(){return{type:"blockquote",children:[]}}function St(){return{type:"code",lang:null,meta:null,value:""}}function Ut(){return{type:"inlineCode",value:""}}function lr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $o(){return{type:"emphasis",children:[]}}function $r(){return{type:"heading",depth:0,children:[]}}function jr(){return{type:"break"}}function Gr(){return{type:"html",value:""}}function qr(){return{type:"image",title:null,url:"",alt:null}}function Ie(){return{type:"link",title:null,url:"",children:[]}}function An(_){return{type:"list",ordered:_.type==="listOrdered",start:null,spread:_._spread,children:[]}}function jo(_){return{type:"listItem",spread:_._spread,checked:null,children:[]}}function Go(){return{type:"paragraph",children:[]}}function Zr(){return{type:"strong",children:[]}}function De(){return{type:"text",value:""}}function Kr(){return{type:"thematicBreak"}}}function Xt(e){return{line:e.line,column:e.column,offset:e.offset}}function pc(e,t){let n=-1;for(;++n<t.length;){let i=t[n];Array.isArray(i)?pc(e,i):ly(e,i)}}function ly(e,t){let n;for(n in t)if(mc.call(t,n))switch(n){case"canContainEols":{let i=t[n];i&&e[n].push(...i);break}case"transforms":{let i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{let i=t[n];i&&Object.assign(e[n],i);break}}}function hc(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Jt({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Jt({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Jt({start:t.start,end:t.end})+") is still open")}function Gn(e){let t=this;t.parser=n;function n(i){return Ks(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}var gc={}.hasOwnProperty;function wc(e,t){let n=t||{};function i(o,...s){let l=i.invalid,u=i.handlers;if(o&&gc.call(o,e)){let f=String(o[e]);l=gc.call(u,f)?u[f]:i.unknown}if(l)return l.call(this,o,...s)}return i.handlers=n.handlers||{},i.invalid=n.invalid,i.unknown=n.unknown,i}var uy={}.hasOwnProperty;function Qs(e,t){let n=-1,i;if(t.extensions)for(;++n<t.extensions.length;)Qs(e,t.extensions[n]);for(i in t)if(uy.call(t,i))switch(i){case"extensions":break;case"unsafe":{yc(e[i],t[i]);break}case"join":{yc(e[i],t[i]);break}case"handlers":{cy(e[i],t[i]);break}default:e.options[i]=t[i]}return e}function yc(e,t){t&&e.push(...t)}function cy(e,t){t&&Object.assign(e,t)}function kc(e,t,n,i){let o=n.enter("blockquote"),s=n.createTracker(i);s.move("> "),s.shift(2);let l=n.indentLines(n.containerFlow(e,s.current()),fy);return o(),l}function fy(e,t,n){return">"+(n?"":" ")+e}function Hi(e,t){return bc(e,t.inConstruct,!0)&&!bc(e,t.notInConstruct,!1)}function bc(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let i=-1;for(;++i<t.length;)if(e.includes(t[i]))return!0;return!1}function Js(e,t,n,i){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&Hi(n.stack,n.unsafe[o]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function xc(e,t){let n=String(e),i=n.indexOf(t),o=i,s=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===o?++s>l&&(l=s):s=1,o=i+t.length,i=n.indexOf(t,o);return l}function Dr(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function vc(e){let t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Cc(e,t,n,i){let o=vc(n),s=e.value||"",l=o==="`"?"GraveAccent":"Tilde";if(Dr(e,n)){let g=n.enter("codeIndented"),w=n.indentLines(s,dy);return g(),w}let u=n.createTracker(i),f=o.repeat(Math.max(xc(s,o)+1,3)),h=n.enter("codeFenced"),m=u.move(f);if(e.lang){let g=n.enter(`codeFencedLang${l}`);m+=u.move(n.safe(e.lang,{before:m,after:" ",encode:["`"],...u.current()})),g()}if(e.lang&&e.meta){let g=n.enter(`codeFencedMeta${l}`);m+=u.move(" "),m+=u.move(n.safe(e.meta,{before:m,after:`
`,encode:["`"],...u.current()})),g()}return m+=u.move(`
`),s&&(m+=u.move(s+`
`)),m+=u.move(f),h(),m}function dy(e,t,n){return(n?"":"    ")+e}function qn(e){let t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Ac(e,t,n,i){let o=qn(n),s=o==='"'?"Quote":"Apostrophe",l=n.enter("definition"),u=n.enter("label"),f=n.createTracker(i),h=f.move("[");return h+=f.move(n.safe(n.associationId(e),{before:h,after:"]",...f.current()})),h+=f.move("]: "),u(),!e.url||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),h+=f.move("<"),h+=f.move(n.safe(e.url,{before:h,after:">",...f.current()})),h+=f.move(">")):(u=n.enter("destinationRaw"),h+=f.move(n.safe(e.url,{before:h,after:e.title?" ":`
`,...f.current()}))),u(),e.title&&(u=n.enter(`title${s}`),h+=f.move(" "+o),h+=f.move(n.safe(e.title,{before:h,after:o,...f.current()})),h+=f.move(o),u()),l(),h}function Sc(e){let t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ge(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Zn(e,t,n){let i=$n(e),o=$n(t);return i===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Xs.peek=hy;function Xs(e,t,n,i){let o=Sc(n),s=n.enter("emphasis"),l=n.createTracker(i),u=l.move(o),f=l.move(n.containerPhrasing(e,{after:o,before:u,...l.current()})),h=f.charCodeAt(0),m=Zn(i.before.charCodeAt(i.before.length-1),h,o);m.inside&&(f=Ge(h)+f.slice(1));let g=f.charCodeAt(f.length-1),w=Zn(i.after.charCodeAt(0),g,o);w.inside&&(f=f.slice(0,-1)+Ge(g));let y=l.move(o);return s(),n.attentionEncodeSurroundingInfo={after:w.outside,before:m.outside},u+f+y}function hy(e,t,n){return n.options.emphasis||"*"}var Kn=function(e){if(e==null)return wy;if(typeof e=="function")return $i(e);if(typeof e=="object")return Array.isArray(e)?my(e):py(e);if(typeof e=="string")return gy(e);throw new Error("Expected function, string, or object as test")};function my(e){let t=[],n=-1;for(;++n<e.length;)t[n]=Kn(e[n]);return $i(i);function i(...o){let s=-1;for(;++s<t.length;)if(t[s].apply(this,o))return!0;return!1}}function py(e){let t=e;return $i(n);function n(i){let o=i,s;for(s in e)if(o[s]!==t[s])return!1;return!0}}function gy(e){return $i(t);function t(n){return n&&n.type===e}}function $i(e){return t;function t(n,i,o){return!!(yy(n)&&e.call(this,n,typeof i=="number"?i:void 0,o||void 0))}}function wy(){return!0}function yy(e){return e!==null&&typeof e=="object"&&"type"in e}function _c(e){return"\x1B[33m"+e+"\x1B[39m"}var Ec=[],ji=!0,yn=!1,Gi="skip";function ea(e,t,n,i){let o;typeof t=="function"&&typeof n!="function"?(i=n,n=t):o=t;let s=Kn(o),l=i?-1:1;u(e,void 0,[])();function u(f,h,m){let g=f&&typeof f=="object"?f:{};if(typeof g.type=="string"){let y=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(w,"name",{value:"node ("+_c(f.type+(y?"<"+y+">":""))+")"})}return w;function w(){let y=Ec,v,F,E;if((!t||s(f,h,m[m.length-1]||void 0))&&(y=ky(n(f,m)),y[0]===yn))return y;if("children"in f&&f.children){let C=f;if(C.children&&y[0]!==Gi)for(F=(i?C.children.length:-1)+l,E=m.concat(C);F>-1&&F<C.children.length;){let T=C.children[F];if(v=u(T,F,E)(),v[0]===yn)return v;F=typeof v[1]=="number"?v[1]:F+l}}return y}}}function ky(e){return Array.isArray(e)?e:typeof e=="number"?[ji,e]:e==null?Ec:[e]}function ta(e,t,n,i){let o,s,l;typeof t=="function"&&typeof n!="function"?(s=void 0,l=t,o=n):(s=t,l=n,o=i),ea(e,s,u,o);function u(f,h){let m=h[h.length-1],g=m?m.children.indexOf(f):void 0;return l(f,g,m)}}function qi(e,t){let n=!1;return ta(e,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,yn}),!!((!e.depth||e.depth<3)&&mn(e)&&(t.options.setext||n))}function Tc(e,t,n,i){let o=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(i);if(qi(e,n)){let m=n.enter("headingSetext"),g=n.enter("phrasing"),w=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return g(),m(),w+`
`+(o===1?"=":"-").repeat(w.length-(Math.max(w.lastIndexOf("\r"),w.lastIndexOf(`
`))+1))}let l="#".repeat(o),u=n.enter("headingAtx"),f=n.enter("phrasing");s.move(l+" ");let h=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(h)&&(h=Ge(h.charCodeAt(0))+h.slice(1)),h=h?l+" "+h:l,n.options.closeAtx&&(h+=" "+l),f(),u(),h}na.peek=by;function na(e){return e.value||""}function by(){return"<"}ra.peek=xy;function ra(e,t,n,i){let o=qn(n),s=o==='"'?"Quote":"Apostrophe",l=n.enter("image"),u=n.enter("label"),f=n.createTracker(i),h=f.move("![");return h+=f.move(n.safe(e.alt,{before:h,after:"]",...f.current()})),h+=f.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),h+=f.move("<"),h+=f.move(n.safe(e.url,{before:h,after:">",...f.current()})),h+=f.move(">")):(u=n.enter("destinationRaw"),h+=f.move(n.safe(e.url,{before:h,after:e.title?" ":")",...f.current()}))),u(),e.title&&(u=n.enter(`title${s}`),h+=f.move(" "+o),h+=f.move(n.safe(e.title,{before:h,after:o,...f.current()})),h+=f.move(o),u()),h+=f.move(")"),l(),h}function xy(){return"!"}ia.peek=vy;function ia(e,t,n,i){let o=e.referenceType,s=n.enter("imageReference"),l=n.enter("label"),u=n.createTracker(i),f=u.move("!["),h=n.safe(e.alt,{before:f,after:"]",...u.current()});f+=u.move(h+"]["),l();let m=n.stack;n.stack=[],l=n.enter("reference");let g=n.safe(n.associationId(e),{before:f,after:"]",...u.current()});return l(),n.stack=m,s(),o==="full"||!h||h!==g?f+=u.move(g+"]"):o==="shortcut"?f=f.slice(0,-1):f+=u.move("]"),f}function vy(){return"!"}oa.peek=Cy;function oa(e,t,n){let i=e.value||"",o="`",s=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(i);)o+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++s<n.unsafe.length;){let l=n.unsafe[s],u=n.compilePattern(l),f;if(l.atBreak)for(;f=u.exec(i);){let h=f.index;i.charCodeAt(h)===10&&i.charCodeAt(h-1)===13&&h--,i=i.slice(0,h)+" "+i.slice(f.index+1)}}return o+i+o}function Cy(){return"`"}function sa(e,t){let n=mn(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}aa.peek=Ay;function aa(e,t,n,i){let o=qn(n),s=o==='"'?"Quote":"Apostrophe",l=n.createTracker(i),u,f;if(sa(e,n)){let m=n.stack;n.stack=[],u=n.enter("autolink");let g=l.move("<");return g+=l.move(n.containerPhrasing(e,{before:g,after:">",...l.current()})),g+=l.move(">"),u(),n.stack=m,g}u=n.enter("link"),f=n.enter("label");let h=l.move("[");return h+=l.move(n.containerPhrasing(e,{before:h,after:"](",...l.current()})),h+=l.move("]("),f(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),h+=l.move("<"),h+=l.move(n.safe(e.url,{before:h,after:">",...l.current()})),h+=l.move(">")):(f=n.enter("destinationRaw"),h+=l.move(n.safe(e.url,{before:h,after:e.title?" ":")",...l.current()}))),f(),e.title&&(f=n.enter(`title${s}`),h+=l.move(" "+o),h+=l.move(n.safe(e.title,{before:h,after:o,...l.current()})),h+=l.move(o),f()),h+=l.move(")"),u(),h}function Ay(e,t,n){return sa(e,n)?"<":"["}la.peek=Sy;function la(e,t,n,i){let o=e.referenceType,s=n.enter("linkReference"),l=n.enter("label"),u=n.createTracker(i),f=u.move("["),h=n.containerPhrasing(e,{before:f,after:"]",...u.current()});f+=u.move(h+"]["),l();let m=n.stack;n.stack=[],l=n.enter("reference");let g=n.safe(n.associationId(e),{before:f,after:"]",...u.current()});return l(),n.stack=m,s(),o==="full"||!h||h!==g?f+=u.move(g+"]"):o==="shortcut"?f=f.slice(0,-1):f+=u.move("]"),f}function Sy(){return"["}function Qn(e){let t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Fc(e){let t=Qn(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Pc(e){let t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Zi(e){let t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Mc(e,t,n,i){let o=n.enter("list"),s=n.bulletCurrent,l=e.ordered?Pc(n):Qn(n),u=e.ordered?l==="."?")":".":Fc(n),f=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){let m=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&m&&(!m.children||!m.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(f=!0),Zi(n)===l&&m){let g=-1;for(;++g<e.children.length;){let w=e.children[g];if(w&&w.type==="listItem"&&w.children&&w.children[0]&&w.children[0].type==="thematicBreak"){f=!0;break}}}}f&&(l=u),n.bulletCurrent=l;let h=n.containerFlow(e,i);return n.bulletLastUsed=l,n.bulletCurrent=s,o(),h}function Ic(e){let t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Dc(e,t,n,i){let o=Ic(n),s=n.bulletCurrent||Qn(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let l=s.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);let u=n.createTracker(i);u.move(s+" ".repeat(l-s.length)),u.shift(l);let f=n.enter("listItem"),h=n.indentLines(n.containerFlow(e,u.current()),m);return f(),h;function m(g,w,y){return w?(y?"":" ".repeat(l))+g:(y?s:s+" ".repeat(l-s.length))+g}}function Oc(e,t,n,i){let o=n.enter("paragraph"),s=n.enter("phrasing"),l=n.containerPhrasing(e,i);return s(),o(),l}var ua=Kn(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Lc(e,t,n,i){return(e.children.some(function(l){return ua(l)})?n.containerPhrasing:n.containerFlow).call(n,e,i)}function Rc(e){let t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}ca.peek=_y;function ca(e,t,n,i){let o=Rc(n),s=n.enter("strong"),l=n.createTracker(i),u=l.move(o+o),f=l.move(n.containerPhrasing(e,{after:o,before:u,...l.current()})),h=f.charCodeAt(0),m=Zn(i.before.charCodeAt(i.before.length-1),h,o);m.inside&&(f=Ge(h)+f.slice(1));let g=f.charCodeAt(f.length-1),w=Zn(i.after.charCodeAt(0),g,o);w.inside&&(f=f.slice(0,-1)+Ge(g));let y=l.move(o+o);return s(),n.attentionEncodeSurroundingInfo={after:w.outside,before:m.outside},u+f+y}function _y(e,t,n){return n.options.strong||"*"}function Nc(e,t,n,i){return n.safe(e.value,i)}function Yc(e){let t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Wc(e,t,n){let i=(Zi(n)+(n.options.ruleSpaces?" ":"")).repeat(Yc(n));return n.options.ruleSpaces?i.slice(0,-1):i}var Bc={blockquote:kc,break:Js,code:Cc,definition:Ac,emphasis:Xs,hardBreak:Js,heading:Tc,html:na,image:ra,imageReference:ia,inlineCode:oa,link:aa,linkReference:la,list:Mc,listItem:Dc,paragraph:Oc,root:Lc,strong:ca,text:Nc,thematicBreak:Wc};var Vc=[Ey];function Ey(e,t,n,i){if(t.type==="code"&&Dr(t,i)&&(e.type==="list"||e.type===t.type&&Dr(e,i)))return!1;if("spread"in n&&typeof n.spread=="boolean")return e.type==="paragraph"&&(e.type===t.type||t.type==="definition"||t.type==="heading"&&qi(t,i))?void 0:n.spread?1:0}var kn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],zc=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:kn},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:kn},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:kn},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:kn},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:kn},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:kn},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:kn},{atBreak:!0,character:"~"}];function Uc(e){return e.label||!e.identifier?e.label||"":Ui(e.identifier)}function Hc(e){if(!e._compiled){let t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function $c(e,t,n){let i=t.indexStack,o=e.children||[],s=[],l=-1,u=n.before,f;i.push(-1);let h=t.createTracker(n);for(;++l<o.length;){let m=o[l],g;if(i[i.length-1]=l,l+1<o.length){let v=t.handle.handlers[o[l+1].type];v&&v.peek&&(v=v.peek),g=v?v(o[l+1],e,t,{before:"",after:"",...h.current()}).charAt(0):""}else g=n.after;s.length>0&&(u==="\r"||u===`
`)&&m.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),u=" ",h=t.createTracker(n),h.move(s.join("")));let w=t.handle(m,e,t,{...h.current(),after:g,before:u});f&&f===w.slice(0,1)&&(w=Ge(f.charCodeAt(0))+w.slice(1));let y=t.attentionEncodeSurroundingInfo;t.attentionEncodeSurroundingInfo=void 0,f=void 0,y&&(s.length>0&&y.before&&u===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+Ge(u.charCodeAt(0))),y.after&&(f=g)),h.move(w),s.push(w),u=w.slice(-1)}return i.pop(),s.join("")}function jc(e,t,n){let i=t.indexStack,o=e.children||[],s=t.createTracker(n),l=[],u=-1;for(i.push(-1);++u<o.length;){let f=o[u];i[i.length-1]=u,l.push(s.move(t.handle(f,e,t,{before:`
`,after:`
`,...s.current()}))),f.type!=="list"&&(t.bulletLastUsed=void 0),u<o.length-1&&l.push(s.move(Ty(f,o[u+1],e,t)))}return i.pop(),l.join("")}function Ty(e,t,n,i){let o=i.join.length;for(;o--;){let s=i.join[o](e,t,n,i);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}var Fy=/\r?\n|\r/g;function Gc(e,t){let n=[],i=0,o=0,s;for(;s=Fy.exec(e);)l(e.slice(i,s.index)),n.push(s[0]),i=s.index+s[0].length,o++;return l(e.slice(i)),n.join("");function l(u){n.push(t(u,o,!u))}}function Zc(e,t,n){let i=(n.before||"")+(t||"")+(n.after||""),o=[],s=[],l={},u=-1;for(;++u<e.unsafe.length;){let m=e.unsafe[u];if(!Hi(e.stack,m))continue;let g=e.compilePattern(m),w;for(;w=g.exec(i);){let y="before"in m||!!m.atBreak,v="after"in m,F=w.index+(y?w[1].length:0);o.includes(F)?(l[F].before&&!y&&(l[F].before=!1),l[F].after&&!v&&(l[F].after=!1)):(o.push(F),l[F]={before:y,after:v})}}o.sort(Py);let f=n.before?n.before.length:0,h=i.length-(n.after?n.after.length:0);for(u=-1;++u<o.length;){let m=o[u];m<f||m>=h||m+1<h&&o[u+1]===m+1&&l[m].after&&!l[m+1].before&&!l[m+1].after||o[u-1]===m-1&&l[m].before&&!l[m-1].before&&!l[m-1].after||(f!==m&&s.push(qc(i.slice(f,m),"\\")),f=m,/[!-/:-@[-`{-~]/.test(i.charAt(m))&&(!n.encode||!n.encode.includes(i.charAt(m)))?s.push("\\"):(s.push(Ge(i.charCodeAt(m))),f++))}return s.push(qc(i.slice(f,h),n.after)),s.join("")}function Py(e,t){return e-t}function qc(e,t){let n=/\\(?=[!-/:-@[-`{-~])/g,i=[],o=[],s=e+t,l=-1,u=0,f;for(;f=n.exec(s);)i.push(f.index);for(;++l<i.length;)u!==i[l]&&o.push(e.slice(u,i[l])),o.push("\\"),u=i[l];return o.push(e.slice(u)),o.join("")}function Kc(e){let t=e||{},n=t.now||{},i=t.lineShift||0,o=n.line||1,s=n.column||1;return{move:f,current:l,shift:u};function l(){return{now:{line:o,column:s},lineShift:i}}function u(h){i+=h}function f(h){let m=h||"",g=m.split(/\r?\n|\r/g),w=g[g.length-1];return o+=g.length-1,s=g.length===1?s+w.length:1+w.length+i,m}}function fa(e,t){let n=t||{},i={associationId:Uc,containerPhrasing:Oy,containerFlow:Ly,createTracker:Kc,compilePattern:Hc,enter:s,handlers:{...Bc},handle:void 0,indentLines:Gc,indexStack:[],join:[...Vc],options:{},safe:Ry,stack:[],unsafe:[...zc]};Qs(i,n),i.options.tightDefinitions&&i.join.push(Dy),i.handle=wc("type",{invalid:My,unknown:Iy,handlers:i.handlers});let o=i.handle(e,void 0,i,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return o&&o.charCodeAt(o.length-1)!==10&&o.charCodeAt(o.length-1)!==13&&(o+=`
`),o;function s(l){return i.stack.push(l),u;function u(){i.stack.pop()}}}function My(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function Iy(e){let t=e;throw new Error("Cannot handle unknown node `"+t.type+"`")}function Dy(e,t){if(e.type==="definition"&&e.type===t.type)return 0}function Oy(e,t){return $c(e,this,t)}function Ly(e,t){return jc(e,this,t)}function Ry(e,t){return Zc(this,e,t)}function Ki(e){let t=this;t.compiler=n;function n(i){return fa(i,{...t.data("settings"),...e,extensions:t.data("toMarkdownExtensions")||[]})}}function da(e){if(e)throw e}var eo=Qe(sf(),1);function Or(e){if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ha(){let e=[],t={run:n,use:i};return t;function n(...o){let s=-1,l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...o);function u(f,...h){let m=e[++s],g=-1;if(f){l(f);return}for(;++g<o.length;)(h[g]===null||h[g]===void 0)&&(h[g]=o[g]);o=h,m?af(m,u)(...h):l(null,...h)}}function i(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function af(e,t){let n;return i;function i(...l){let u=e.length>l.length,f;u&&l.push(o);try{f=e.apply(this,l)}catch(h){let m=h;if(u&&n)throw m;return o(m)}u||(f&&f.then&&typeof f.then=="function"?f.then(s,o):f instanceof Error?o(f):s(f))}function o(l,...u){n||(n=!0,t(l,...u))}function s(l){o(null,l)}}var Ce=class extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let o="",s={},l=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?o=t:!s.cause&&t&&(l=!0,o=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof i=="string"){let f=i.indexOf(":");f===-1?s.ruleId=i:(s.source=i.slice(0,f),s.ruleId=i.slice(f+1))}if(!s.place&&s.ancestors&&s.ancestors){let f=s.ancestors[s.ancestors.length-1];f&&(s.place=f.position)}let u=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=u?u.line:void 0,this.name=Jt(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=l&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}};Ce.prototype.file="";Ce.prototype.name="";Ce.prototype.reason="";Ce.prototype.message="";Ce.prototype.stack="";Ce.prototype.column=void 0;Ce.prototype.line=void 0;Ce.prototype.ancestors=void 0;Ce.prototype.cause=void 0;Ce.prototype.fatal=void 0;Ce.prototype.place=void 0;Ce.prototype.ruleId=void 0;Ce.prototype.source=void 0;var nt=Qe(require("node:path"),1);var ma=Qe(require("node:process"),1);var pa=require("node:url");function Ji(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}var ga=["history","path","basename","stem","extname","dirname"],Lr=class{constructor(t){let n;t?Ji(t)?n={path:t}:typeof t=="string"||Ny(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":ma.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<ga.length;){let s=ga[i];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let o;for(o in n)ga.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?nt.default.basename(this.path):void 0}set basename(t){ya(t,"basename"),wa(t,"basename"),this.path=nt.default.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?nt.default.dirname(this.path):void 0}set dirname(t){lf(this.basename,"dirname"),this.path=nt.default.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?nt.default.extname(this.path):void 0}set extname(t){if(wa(t,"extname"),lf(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=nt.default.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Ji(t)&&(t=(0,pa.fileURLToPath)(t)),ya(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?nt.default.basename(this.path,this.extname):void 0}set stem(t){ya(t,"stem"),wa(t,"stem"),this.path=nt.default.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){let o=this.message(t,n,i);throw o.fatal=!0,o}info(t,n,i){let o=this.message(t,n,i);return o.fatal=void 0,o}message(t,n,i){let o=new Ce(t,n,i);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}};function wa(e,t){if(e&&e.includes(nt.default.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+nt.default.sep+"`")}function ya(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function lf(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Ny(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}var uf=function(e){let i=this.constructor.prototype,o=i[e],s=function(){return o.apply(s,arguments)};return Object.setPrototypeOf(s,i),s};var Yy={}.hasOwnProperty,va=class e extends uf{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ha()}copy(){let t=new e,n=-1;for(;++n<this.attachers.length;){let i=this.attachers[n];t.use(...i)}return t.data((0,eo.default)(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(xa("data",this.frozen),this.namespace[t]=n,this):Yy.call(this.namespace,t)&&this.namespace[t]||void 0:t?(xa("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;let t=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);let o=n.call(t,...i);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();let n=Xi(t),i=this.parser||this.Parser;return ka("parse",i),i(String(n),n)}process(t,n){let i=this;return this.freeze(),ka("process",this.parser||this.Parser),ba("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(s,l){let u=Xi(t),f=i.parse(u);i.run(f,u,function(m,g,w){if(m||!g||!w)return h(m);let y=g,v=i.stringify(y,w);By(v)?w.value=v:w.result=v,h(m,w)});function h(m,g){m||!g?l(m):s?s(g):n(void 0,g)}}}processSync(t){let n=!1,i;return this.freeze(),ka("processSync",this.parser||this.Parser),ba("processSync",this.compiler||this.Compiler),this.process(t,o),ff("processSync","process",n),i;function o(s,l){n=!0,da(s),i=l}}run(t,n,i){cf(t),this.freeze();let o=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?s(void 0,i):new Promise(s);function s(l,u){let f=Xi(n);o.run(t,f,h);function h(m,g,w){let y=g||t;m?u(m):l?l(y):i(void 0,y,w)}}}runSync(t,n){let i=!1,o;return this.run(t,n,s),ff("runSync","run",i),o;function s(l,u){da(l),o=u,i=!0}}stringify(t,n){this.freeze();let i=Xi(n),o=this.compiler||this.Compiler;return ba("stringify",o),cf(t),o(t,i)}use(t,...n){let i=this.attachers,o=this.namespace;if(xa("use",this.frozen),t!=null)if(typeof t=="function")f(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(h){if(typeof h=="function")f(h,[]);else if(typeof h=="object")if(Array.isArray(h)){let[m,...g]=h;f(m,g)}else l(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function l(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(h.plugins),h.settings&&(o.settings=(0,eo.default)(!0,o.settings,h.settings))}function u(h){let m=-1;if(h!=null)if(Array.isArray(h))for(;++m<h.length;){let g=h[m];s(g)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function f(h,m){let g=-1,w=-1;for(;++g<i.length;)if(i[g][0]===h){w=g;break}if(w===-1)i.push([h,...m]);else if(m.length>0){let[y,...v]=m,F=i[w][1];Or(F)&&Or(y)&&(y=(0,eo.default)(!0,F,y)),i[w]=[h,y,...v]}}}},Ca=new va().freeze();function ka(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ba(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function xa(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function cf(e){if(!Or(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function ff(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Xi(e){return Wy(e)?e:new Lr(e)}function Wy(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function By(e){return typeof e=="string"||Vy(e)}function Vy(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}var df=Ca().use(Gn).use(Ki).freeze();var Sa={d:(e,t)=>{for(var n in t)Sa.o(t,n)&&!Sa.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},_a={};Sa.d(_a,{Z:()=>$y,$:()=>gf});var Jn={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function hf(e){return e<Jn.nul||e===Jn.space}function Aa(e){return e<Jn.horizontalTab}var zy={553:e=>{e.exports=function(t){var n,i;return t._compiled||(n=t.before?"(?:"+t.before+")":"",i=t.after?"(?:"+t.after+")":"",t.atBreak&&(n="[\\r\\n][\\t ]*"+n),t._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(i||""),"g")),t._compiled}},112:e=>{function t(n,i,o){var s;if(!i)return o;for(typeof i=="string"&&(i=[i]),s=-1;++s<i.length;)if(n.indexOf(i[s])!==-1)return!0;return!1}e.exports=function(n,i){return t(n,i.inConstruct,!0)&&!t(n,i.notInConstruct)}},113:(e,t,n)=>{e.exports=function(u,f,h){for(var m,g,w,y,v,F,E,C,T=(h.before||"")+(f||"")+(h.after||""),P=[],W=[],z={},S=-1;++S<u.unsafe.length;)if(y=u.unsafe[S],o(u.stack,y))for(v=i(y);F=v.exec(T);)m="before"in y||y.atBreak,g="after"in y,w=F.index+(m?F[1].length:0),P.indexOf(w)===-1?(P.push(w),z[w]={before:m,after:g}):(z[w].before&&!m&&(z[w].before=!1),z[w].after&&!g&&(z[w].after=!1));for(P.sort(s),E=h.before?h.before.length:0,C=T.length-(h.after?h.after.length:0),S=-1;++S<P.length;)(w=P[S])<E||w>=C||w+1<C&&P[S+1]===w+1&&z[w].after&&!z[w+1].before&&!z[w+1].after||(E!==w&&W.push(l(T.slice(E,w),"\\")),E=w,!/[!-/:-@[-`{-~]/.test(T.charAt(w))||h.encode&&h.encode.indexOf(T.charAt(w))!==-1?(W.push("&#x"+T.charCodeAt(w).toString(16).toUpperCase()+";"),E++):W.push("\\"));return W.push(l(T.slice(E,C),h.after)),W.join("")};var i=n(553),o=n(112);function s(u,f){return u-f}function l(u,f){for(var h,m=/\\(?=[!-/:-@[-`{-~])/g,g=[],w=[],y=-1,v=0,F=u+f;h=m.exec(F);)g.push(h.index);for(;++y<g.length;)v!==g[y]&&w.push(u.slice(v,g[y])),w.push("\\"),v=g[y];return w.push(u.slice(v)),w.join("")}}},mf={};function xt(e){var t=mf[e];if(t!==void 0)return t.exports;var n=mf[e]={exports:{}};return zy[e](n,n.exports,xt),n.exports}xt.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return xt.d(t,{a:t}),t},xt.d=(e,t)=>{for(var n in t)xt.o(t,n)&&!xt.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},xt.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Ea={};(()=>{function e(o={}){let s=o.permalinks||[],l=o.pageResolver||(w=>[w.replace(/ /g,"_").toLowerCase()]),u=o.newClassName||"new",f=o.wikiLinkClassName||"internal",h=o.hrefTemplate||(w=>`#/page/${w}`),m;function g(w){return w[w.length-1]}return{enter:{wikiLink:function(w){m={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(m,w)}},exit:{wikiLinkTarget:function(w){let y=this.sliceSerialize(w);g(this.stack).value=y},wikiLinkAlias:function(w){let y=this.sliceSerialize(w);g(this.stack).data.alias=y},wikiLink:function(w){this.exit(w);let y=m,v=l(y.value),F=v.find(W=>s.indexOf(W)!==-1),E=F!==void 0,C;C=E?F:v[0]||"";let T=y.value;y.data.alias&&(T=y.data.alias);let P=f;E||(P+=" "+u),y.data.alias=T,y.data.permalink=C,y.data.exists=E,y.data.hName="a",y.data.hProperties={className:P,href:h(C)},y.data.hChildren=[{type:"text",value:T}]}}}}xt.d(Ea,{V:()=>e,x:()=>i});var t=xt(113),n=xt.n(t);function i(o={}){let s=o.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:function(l,u,f){let h=f.enter("wikiLink"),m=n()(f,l.value,{before:"[",after:"]"}),g=n()(f,l.data.alias,{before:"[",after:"]"}),w;return w=g!==m?`[[${m}${s}${g}]]`:`[[${m}]]`,h(),w}}}}})();var Uy=Ea.V,Hy=Ea.x,pf=!1;function gf(e={}){let t=this.data();function n(i,o){t[i]?t[i].push(o):t[i]=[o]}!pf&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(pf=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",function(){var i=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",o="]]";return{text:{91:{tokenize:function(s,l,u){var f,h,m=0,g=0,w=0;return function(T){return T!=="[[".charCodeAt(g)?u(T):(s.enter("wikiLink"),s.enter("wikiLinkMarker"),y(T))};function y(T){return g===2?(s.exit("wikiLinkMarker"),function(P){return Aa(P)||P===Jn.eof?u(P):(s.enter("wikiLinkData"),s.enter("wikiLinkTarget"),v(P))}(T)):T!=="[[".charCodeAt(g)?u(T):(s.consume(T),g++,y)}function v(T){return T===i.charCodeAt(m)?f?(s.exit("wikiLinkTarget"),s.enter("wikiLinkAliasMarker"),F(T)):u(T):T===o.charCodeAt(w)?f?(s.exit("wikiLinkTarget"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),C(T)):u(T):Aa(T)||T===Jn.eof?u(T):(hf(T)||(f=!0),s.consume(T),v)}function F(T){return m===i.length?(s.exit("wikiLinkAliasMarker"),s.enter("wikiLinkAlias"),E(T)):T!==i.charCodeAt(m)?u(T):(s.consume(T),m++,F)}function E(T){return T===o.charCodeAt(w)?h?(s.exit("wikiLinkAlias"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),C(T)):u(T):Aa(T)||T===Jn.eof?u(T):(hf(T)||(h=!0),s.consume(T),E)}function C(T){return w===2?(s.exit("wikiLinkMarker"),s.exit("wikiLink"),l(T)):T!==o.charCodeAt(w)?u(T):(s.consume(T),w++,C)}}}}}}(e)),n("fromMarkdownExtensions",Uy(e)),n("toMarkdownExtensions",Hy(e))}var $y=gf,$S=_a.Z,wf=_a.$;(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();function Ta(e){try{return!e.includes("://")||e.trim()!==e?!1:(new URL(e),!0)}catch{return!1}}var bn=require("obsidian");(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();function to(e){let t=(0,bn.getFrontMatterInfo)(e);return(0,bn.parseYaml)(t.frontmatter)??{}}function yf(e,t){let n=(0,bn.getFrontMatterInfo)(e);if(Object.keys(t).length===0)return e.slice(n.contentStart);let i=(0,bn.stringifyYaml)(t);return n.exists?Gl(e,i,n.from,n.to):`---
${i}---
${e}`}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();function Fa(e){return kf(e)&&e.type==="file"}function kf(e){return wt(e)&&!!e.isCanvas}function jy(e){return kf(e)&&e.type==="text"}function Xn(e,t){if(Gt(e))return{endIndex:e.position.end.offset,newContent:t,oldContent:e.original,startIndex:e.position.start.offset};if(Fa(e))return{isCanvas:!0,newContent:t,nodeIndex:e.nodeIndex,oldContent:e.original,type:"file"};if(jy(e))return{isCanvas:!0,newContent:t,nodeIndex:e.nodeIndex,oldContent:e.original,originalReference:e.originalReference,type:"text"};if(wt(e))return{frontmatterKey:e.key,newContent:t,oldContent:e.original};throw new Error("Unknown link type")}function bf(e){return e.sort((t,n)=>wt(t)&&wt(n)?t.key.localeCompare(n.key):Gt(t)&&Gt(n)?t.position.start.offset-n.position.start.offset:wt(t)?1:-1)}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();async function xf(e,t,n){let i=Fe(e,t),o=ft(n);await er(e,o);let s=no(e,n);try{await e.vault.copy(i,s)}catch(l){if(!await e.vault.exists(s))throw l}return s}async function er(e,t){if(await e.vault.adapter.exists(t))return!1;try{return await e.vault.createFolder(t),!0}catch(n){if(!await e.vault.exists(t))throw n;return!0}}function no(e,t){let n=Je(t);return e.vault.getAvailablePath(ye(se(t),Re(t,n)),n.slice(1))}function tr(e){return e.vault.getMarkdownFiles().sort((t,n)=>t.path.localeCompare(n.path))}function Pa(e,t,n){let i=he(e,t);if(e.vault.adapter.insensitive){let o=se(n),s=Re(n),l;for(;l=dt(e,o,!0),!l;)s=ye(Re(o),s),o=se(o);n=ye(l.getParentPrefix(),s)}return i.toLowerCase()===n.toLowerCase()?n:no(e,n)}async function Ma(e,t){let n=await nr(e,he(e,t));return n.files.length===0&&n.folders.length===0}async function nr(e,t){let n=he(e,t),i={files:[],folders:[]};if((await e.vault.adapter.stat(n))?.type!=="folder")return i;try{return await e.vault.adapter.list(n)}catch(o){if(await e.vault.exists(n))throw o;return i}}async function vf(e,t,n,i={}){let s={...{shouldFailOnMissingFile:!0},...i};await _r(async()=>{let l=await Ia(e,t);if(l===null)return m();let u=await On(n,l);if(u===null)return!1;let f=!0;if(!await Cf(e,t,async g=>{await e.vault.process(g,w=>w!==l?(console.warn("Content has changed since it was read. Retrying...",{actualContent:w,expectedContent:l,path:g.path}),f=!1,w):u)}))return m();return f;function m(){if(s.shouldFailOnMissingFile){let g=he(e,t);throw new Error(`File '${g}' not found`)}return!0}},s)}async function Ia(e,t){let n=null;return await Cf(e,t,async i=>{n=await e.vault.read(i)}),n}async function ro(e,t,n){let i=Fe(e,t,!1,!0),o=Pa(e,t,n);if(i.path.toLowerCase()===o.toLowerCase())return i.path!==n&&await e.vault.rename(i,o),o;let s=ft(o);await er(e,s);try{await e.vault.rename(i,o)}catch(l){if(!await e.vault.exists(o)||await e.vault.exists(i.path))throw l}return o}async function Cf(e,t,n){let i=he(e,t),o=ce(e,i);if(!o||o.deleted)return!1;try{return await n(o),!0}catch(s){if(o=ce(e,i),!o||o.deleted)return!1;throw s}}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();async function Da(e,t,n){let i=await On(n),o=to(e);for(let f of i)if(Wt(f)){let h=e.slice(f.startIndex,f.endIndex);if(h!==f.oldContent)return console.warn("Content mismatch",{actualContent:h,endIndex:f.endIndex,expectedContent:f.oldContent,path:t,startIndex:f.startIndex}),null}else if(io(f)){let h=Fi(o,f.frontmatterKey);if(h!==f.oldContent)return console.warn("Content mismatch",{actualContent:h,expectedContent:f.oldContent,frontmatterKey:f.frontmatterKey,path:t}),null}i.sort((f,h)=>Wt(f)&&Wt(h)?f.startIndex-h.startIndex:io(f)&&io(h)?f.frontmatterKey.localeCompare(h.frontmatterKey):Wt(f)?-1:1),i=i.filter((f,h)=>f.oldContent===f.newContent?!1:h===0?!0:!Ms(f,i[h-1]));for(let f=1;f<i.length;f++){let h=i[f];if(!h)continue;let m=i[f-1];if(m&&Wt(m)&&Wt(h)&&m.endIndex&&h.startIndex&&m.endIndex>h.startIndex)return console.warn("Overlapping changes",{change:h,previousChange:m}),null}let s="",l=0,u=!1;for(let f of i)Wt(f)?(s+=e.slice(l,f.startIndex),s+=f.newContent,l=f.endIndex):io(f)&&(Wu(o,f.frontmatterKey,f.newContent),u=!0);return s+=e.slice(l),u&&(s=yf(s,o)),s}async function Rr(e,t,n,i={}){await vf(e,t,async o=>cn(e,t)?Zy(o,he(e,t),n):await Da(o,he(e,t),n),i)}function Nr(e){return!!e.isCanvas}function Gy(e){return Nr(e)&&e.type==="file"}function qy(e){return Nr(e)&&e.type==="text"}function Wt(e){return e.startIndex!==void 0}function io(e){return e.frontmatterKey!==void 0}async function Zy(e,t,n){let i=await On(n),o=Ky(e),s=new Map;for(let l of i){if(!Nr(l))return console.warn("Only canvas changes are supported for canvas files",{change:l,path:t}),null;let u=o.nodes[l.nodeIndex];if(!u)return console.warn("Node not found",{nodeIndex:l.nodeIndex,path:t}),null;if(Gy(l)){if(u.file!==l.oldContent)return console.warn("Content mismatch",{actualContent:u.file,expectedContent:l.oldContent,nodeIndex:l.nodeIndex,path:t,type:"file"}),null;u.file=l.newContent}else if(qy(l)){let f=s.get(l.nodeIndex);f||(f=[],s.set(l.nodeIndex,f)),f.push(l)}}for(let[l,u]of s.entries()){let f=o.nodes[l];if(!f)return console.warn("Node not found",{nodeIndex:l,path:t}),null;if(typeof f.text!="string")return console.warn("Node text is not a string",{nodeIndex:l,path:t}),null;let h=u.map(m=>Xn(m.originalReference,m.newContent));f.text=await Da(f.text,`${t}.node${l.toString()}.VIRTUAL_FILE.md`,h)}return JSON.stringify(o,null,"	")}function Ky(e){let t;try{t=JSON.parse(e)}catch{t=null}return(t===null||typeof t!="object")&&(t={}),t}var Af=require("obsidian");(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();async function Qy(e){for(let[t,n]of Object.entries(e.metadataCache.fileCache))n.hash&&(e.metadataCache.metadataCache[n.hash]||await ht(e,t))}function vt(e){let t=[];return e.links&&t.push(...e.links),e.embeds&&t.push(...e.embeds),e.frontmatterLinks&&t.push(...e.frontmatterLinks),bf(t),t=t.filter((n,i)=>{if(i===0)return!0;let o=t[i-1];return o?Gt(n)&&Gt(o)?n.position.start.offset!==o.position.start.offset:wt(n)&&wt(o)?n.key!==o.key:!0:!0}),t}function Oa(e,t){let n=Fe(e,t,!0);return Yr(e,n,()=>e.metadataCache.getBacklinksForFile(n))}async function Bt(e,t,n={}){let i=e.metadataCache.getBacklinksForFile.safe;if(i)return i(t);let o=null;return await _r(async()=>{let s=Fe(e,t);await Qy(e),o=Oa(e,s);for(let l of o.keys()){let u=ce(e,l);if(!u)return!1;await Sf(e,u);let f=await Ia(e,u);if(!f)return!1;let h=to(f),m=o.get(l);if(!m)return!1;for(let g of m){let w;if(Gt(g))w=f.slice(g.position.start.offset,g.position.end.offset);else if(wt(g)){let y=Fi(h,g.key);if(typeof y!="string")return!1;w=y}else return!0;if(w!==g.original)return!1}}return!0},n),o}async function ht(e,t,n={}){let i=ze("MetadataCache:getCacheSafe"),o=null;return await _r(async()=>{let s=ce(e,t);if(!s||s.deleted)return o=null,!0;await Sf(e,s);let l=e.metadataCache.getFileInfo(s.path),u=await e.vault.adapter.stat(s.path);return l?u?s.stat.mtime<u.mtime?(e.vault.onChange("modified",s.path,void 0,u),i(`Cached timestamp for ${s.path} is from ${new Date(s.stat.mtime).toString()} which is older than the file system modification timestamp ${new Date(u.mtime).toString()}`),!1):l.mtime<u.mtime?(i(`File cache info for ${s.path} is from ${new Date(l.mtime).toString()} which is older than the file modification timestamp ${new Date(u.mtime).toString()}`),!1):(o=e.metadataCache.getFileCache(s),o?!0:(i(`File cache for ${s.path} is missing`),!1)):(i(`File stat for ${s.path} is missing`),!1):(i(`File cache info for ${s.path} is missing`),!1)},n),o}function Jy(e,t){if(!t.deleted)return gt;let n=[],i=t;for(;i.deleted;)n.push(i.path),e.vault.fileMap[i.path]=i,i=i.parent??Rn(e,ft(i.path),!0);return Xe(t)&&e.metadataCache.uniqueFileLookup.add(t.name.toLowerCase(),t),()=>{for(let o of n)delete e.vault.fileMap[o];Xe(t)&&e.metadataCache.uniqueFileLookup.remove(t.name.toLowerCase(),t)}}function Yr(e,t,n){let i=Jy(e,t);try{return n()}finally{i()}}async function Sf(e,t){if(!ke(e,t))return;let n=he(e,t);for(let i of e.workspace.getLeavesOfType("markdown"))i.view instanceof Af.MarkdownView&&i.view.file?.path===n&&await i.view.save()}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();function _f(e){return e.vault.getConfig("newLinkFormat")==="relative"}function Ef(e){return!e.vault.getConfig("useMarkdownLinks")}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Xy="\\|",e0=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,t0=/[\\[\]<>_*~=`$]/g,Ff=/(?<!\\)\|/g,Pf="|";function n0(e){let t=Vt(e.app,e.link,e.oldSourcePathOrFile??e.newSourcePathOrFile);return t?Ra({app:e.app,link:e.link,newSourcePathOrFile:e.newSourcePathOrFile,newTargetPathOrFile:t,oldSourcePathOrFile:e.oldSourcePathOrFile,shouldForceMarkdownLinks:e.shouldForceMarkdownLinks,shouldUpdateFilenameAlias:e.shouldUpdateFilenameAlias}):e.link.original}async function La(e,t,n,i={}){await Rr(e,t,async()=>{let o=await ht(e,t);return await c0(o,cn(e,t),n)},i)}function Vt(e,t,n){let{linkPath:i}=en(t.link);return e.metadataCache.getFirstLinkpathDest(i,he(e,n))}function so(e){let{app:t}=e,i=(t.fileManager.generateMarkdownLink.defaultOptionsFn??(()=>({})))();e={...{isEmptyEmbedAliasAllowed:!0},...i,...e};let s=Fe(t,e.targetPathOrFile,e.isNonExistingFileAllowed);return Yr(t,s,()=>a0(e))}function Wr(e){let t=h0(e);if(t)return t;let n="!",i=e.startsWith(n);i&&(e=Rt(e,n));let s=df().use(Gn).use(wf,{aliasDivider:Pf}).parse(e);if(s.children.length!==1)return null;let l=s.children[0];if(l?.type!=="paragraph"||l.children.length!==1)return null;let u=l.children[0];if(u?.position?.start.offset!==0||u.position.end.offset!==e.length)return null;switch(u.type){case"link":return d0(u,e,i);case"wikiLink":return m0(u,e,i);default:return null}}function r0(e){let{app:t,displayText:n,isWikilink:i,newSourcePathOrFile:o,oldSourcePathOrFile:s,oldTargetPath:l,targetPathOrFile:u}=e;if(i===!1)return!1;if(!n)return!0;let f=Fe(t,u,!0),h=he(t,o),m=he(t,s??o),g=se(h),w=se(m),y=new Set;for(let F of[f.path,l]){if(!F)continue;let E=he(t,F);y.add(E),y.add(Re(E)),y.add(Ln(g,E)),y.add(Ln(w,E))}for(let F of[m,h])y.add(t.metadataCache.fileToLinktext(f,F,!1));let v=Ve((0,oo.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let F of y){if(F.toLowerCase()===v)return!0;let E=se(F),C=Re(F,Je(F));if(ye(E,C).toLowerCase()===v)return!0}return!1}function en(e){let t=(0,oo.parseLinktext)(br(e));return{linkPath:t.path,subpath:t.subpath}}function i0(e){return Wr(e)?.hasAngleBrackets??!1}function ao(e){return Wr(e)?.isEmbed??!1}function o0(e){return Wr(e)?.url.startsWith("./")??!1}function rr(e){return Wr(e)?.isWikilink??!1}function Ra(e){let{app:t,link:n,newSourcePathOrFile:i,newTargetPathOrFile:o,oldSourcePathOrFile:s,oldTargetPathOrFile:l,shouldForceMarkdownLinks:u,shouldUpdateFilenameAlias:f}=e;if(!o)return n.original;let h=Fe(t,o,!0),m=he(t,l??o),g=rr(n.original)&&u!==!0,{subpath:w}=en(n.link),y=!f;if(cn(t,i)&&Fa(n))return h.path+w;let v;if(g){let E=Wr(n.original);E?.alias&&(v=E.alias,y=!0)}return v??=r0({app:t,displayText:n.displayText,isWikilink:g,newSourcePathOrFile:i,oldSourcePathOrFile:s,oldTargetPath:m,targetPathOrFile:h})?void 0:n.displayText,y||(v===Re(m,Je(m))?v=h.basename:v===Re(m)&&(v=h.name)),so({alias:v,app:t,isWikilink:u?!1:void 0,originalLink:n.original,sourcePathOrFile:i,subpath:w,targetPathOrFile:h})}async function lo(e){let{app:t,newSourcePathOrFile:n,oldSourcePathOrFile:i,shouldForceMarkdownLinks:o,shouldUpdateEmbedOnlyLinks:s,shouldUpdateFilenameAlias:l}=e;cn(t,n)&&!t.internalPlugins.getEnabledPluginById(Lt.Canvas)||await La(t,n,u=>{let f=ao(u.original);if(!(s!==void 0&&s!==f))return n0({app:t,link:u,newSourcePathOrFile:n,oldSourcePathOrFile:i,shouldForceMarkdownLinks:o,shouldUpdateFilenameAlias:l})},e)}function s0(e,t,n,i,o){let s;return t.path===n&&i?s=i:o.shouldForceRelativePath?s=Ln(se(n),o.isWikilink?nu(e,t):t.path)+i:s=e.metadataCache.fileToLinktext(t,n,o.isWikilink)+i,o.shouldForceRelativePath&&o.shouldUseLeadingDot&&!s.startsWith(".")&&!s.startsWith("#")&&(s=`./${s}`),s}function a0(e){let{app:t}=e,n=Fe(t,e.targetPathOrFile,e.isNonExistingFileAllowed),i=he(t,e.sourcePathOrFile),o=e.subpath??"",s=f0(e,n),l=s0(t,n,i,o,s);return s.isWikilink?u0(l,e.alias,s.isEmbed):l0(l,n,e,s)}function l0(e,t,n,i){let{app:o}=n,s=i.isEmbed?"!":"",l=i.shouldUseAngleBrackets?`<${e}>`:Ve(e,e0,({substring:h})=>encodeURIComponent(h)),u=n.alias??"";!u&&(!i.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(u=!n.shouldIncludeAttachmentExtensionToEmbedAlias||ke(o,t)?t.basename:t.name);let f=Ve(u,t0,"\\$&");return`${s}[${f}](${l})`}function u0(e,t,n){let i=n?"!":"",o=t??"";if(o&&o.toLowerCase()===e.toLowerCase())return`${i}[[${o}]]`;let s=o?`|${o}`:"";return`${i}[[${e}${s}]]`}async function c0(e,t,n){if(!e)return[];let i=[],o=(e.sections??[]).filter(s=>s.type==="table").map(s=>({end:s.position.end.offset,start:s.position.start.offset}));for(let s of vt(e)){let l=await n(s);if(l===void 0)continue;let u=Xn(s,l);t?Nr(u)?i.push(u):console.warn("Unsupported file change",u):(p0(u,o)&&(u.newContent=u.newContent.replaceAll(Ff,Xy)),i.push(u))}return i}function f0(e,t){let{app:n}=e;return{isEmbed:e.isEmbed??(e.originalLink?ao(e.originalLink):void 0)??!ke(n,t),isWikilink:e.isWikilink??(e.originalLink?rr(e.originalLink):void 0)??Ef(n),shouldForceRelativePath:e.shouldForceRelativePath??_f(n),shouldUseAngleBrackets:e.shouldUseAngleBrackets??(e.originalLink?i0(e.originalLink):void 0)??!1,shouldUseLeadingDot:e.shouldUseLeadingDot??(e.originalLink?o0(e.originalLink):void 0)??!1}}function d0(e,t,n){let i="<",o="](",s=")",l=e.children[0],u=t.slice((l?.position?.end.offset??1)+o.length,(e.position?.end.offset??0)-s.length),f=t.startsWith(i)||u.startsWith(i),h=Ta(e.url),m=e.url;if(!h&&!f)try{m=decodeURIComponent(m)}catch(g){console.error(`Failed to decode URL ${m}`,g)}return{alias:l?.value,hasAngleBrackets:f,isEmbed:n,isExternal:h,isWikilink:!1,title:e.title??void 0,url:m}}function h0(e){return Ta(e)?{isEmbed:!1,isExternal:!0,isWikilink:!1,url:e}:null}function m0(e,t,n){return{alias:t.includes(Pf)?e.data.alias:void 0,isEmbed:n,isExternal:!1,isWikilink:!0,url:e.value}}function p0(e,t){return!Wt(e)||!Ff.test(e.newContent)?!1:t.some(n=>n.start<=e.startIndex&&e.endIndex<=n.end)}function Mf(e,t){let n=Object.keys(t).map(i=>g0(e,i,t[i]));return n.length===1?n[0]:function(){n.forEach(i=>i())}}function g0(e,t,n){let i=e[t],o=e.hasOwnProperty(t),s=o?i:function(){return Object.getPrototypeOf(e)[t].apply(this,arguments)},l=n(s);return i&&Object.setPrototypeOf(l,i),Object.setPrototypeOf(u,l),e[t]=u,f;function u(...h){return l===s&&e[t]===u&&f(),l.apply(this,h)}function f(){e[t]===u&&(o?e[t]=s:delete e[t]),l!==s&&(l=s,Object.setPrototypeOf(u,i||Function))}}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();function w0(e,t){return Mf(e,t)}async function If(e,t,n){let i=w0(e,t);try{return await n()}finally{i()}}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();async function uo(e,t){let n=dt(e,t);for(;n;){if(!await Ma(e,n))return;let i=n.parent;await Br(e,n.path),n=i}}async function Br(e,t,n,i,o){let s=xr(e,t);if(!s)return!1;let l=Xe(s)||(o??!0);if(Xe(s)){let u=await Bt(e,s);n&&u.clear(n),u.count()!==0&&(i&&new Notice(`Attachment ${s.path} is still used by other notes. It will not be deleted.`),l=!1)}else if(vr(s)){let u=await nr(e,s);for(let f of[...u.files,...u.folders])l&&=await Br(e,f,n,i);l&&=await Ma(e,s)}if(l)try{await e.fileManager.trashFile(s)}catch(u){await e.vault.exists(s.path)&&(kr(new Error(`Failed to delete ${s.path}`,{cause:u})),l=!1)}return l}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Na=new Map,Vr=new Set,co=new Map;function Rf(e,t){let n=fo(e.app),i=e.manifest.id;n.set(i,t),Of(e.app),e.register(()=>{n.delete(i),Of(e.app)});let o=e.app;e.registerEvent(o.vault.on("delete",s=>{v0(e,s)})),e.registerEvent(o.vault.on("rename",(s,l)=>{_0(e,s,l)})),e.registerEvent(o.metadataCache.on("deleted",(s,l)=>{A0(e,s,l)}))}async function y0(e,t,n,i,o){let s=co.get(t);if(s){co.delete(t);for(let l of s)await Ya(e,l.oldPath,n,i,o,l.combinedBacklinksMap)}}async function k0(e,t,n,i,o){if(i.set(t,n),!Nt(e,t))return;let s=zr(e),l=await Un(e,t),u=s.shouldRenameAttachmentFolder?await Un(e,n):l,f=dt(e,l);if(!f||l===u&&!s.shouldRenameAttachmentFiles)return;let h=[];if(await Ds(e,t))Lf.Vault.recurseChildren(f,w=>{Xe(w)&&h.push(w)});else for(let w of o){let y=Vt(e,w,t);y&&y.path.startsWith(l)&&(await Bt(e,y)).keys().length===1&&h.push(y)}let m=Re(t,Je(t)),g=Re(n,Je(n));for(let w of h){if(Nt(e,w))continue;let y=Ln(l,w.path),v=ye(u,se(y)),F=s.shouldRenameAttachmentFiles?Ve(w.basename,m,g):w.basename,E=ye(v,Zl(F,w.extension));if(w.path!==E){if(s.shouldDeleteConflictingAttachments){let C=ce(e,E);C&&await e.fileManager.trashFile(C)}else E=e.vault.getAvailablePath(ye(v,F),w.extension);i.set(w.path,E)}}}function fo(e){return Zt(e,"renameDeleteHandlersMap",new Map).value}function zr(e){let t=fo(e),n=Array.from(t.values()).reverse(),i={};for(let o of n){let s=o();i.shouldDeleteConflictingAttachments||=s.shouldDeleteConflictingAttachments??!1,i.shouldDeleteEmptyFolders||=s.shouldDeleteEmptyFolders??!1,i.shouldHandleDeletions||=s.shouldHandleDeletions??!1,i.shouldHandleRenames||=s.shouldHandleRenames??!1,i.shouldRenameAttachmentFiles||=s.shouldRenameAttachmentFiles??!1,i.shouldRenameAttachmentFolder||=s.shouldRenameAttachmentFolder??!1,i.shouldUpdateFilenameAliases||=s.shouldUpdateFilenameAliases??!1;let l=i.isPathIgnored;i.isPathIgnored=u=>l?.(u)??s.isPathIgnored?.(u)??!1}return i}async function b0(e,t,n,i,o){if(!e.vault.adapter.insensitive||t.toLowerCase()!==n.toLowerCase())return!1;let s=ye(se(n),`__temp__${Re(n)}`);return await Yf(e,n,s),await Ya(e,t,s,i,o),await e.vault.rename(Fe(e,s),n),!0}async function x0(e,t){if(ze("RenameDeleteHandler:handleDelete")(`Handle Delete ${t}`),!Nt(e,t))return;let n=zr(e);if(!n.shouldHandleDeletions||n.isPathIgnored?.(t))return;let i=Na.get(t);if(Na.delete(t),i){let l=vt(i);for(let u of l){let f=Vt(e,u,t);f&&(Nt(e,f)||await Br(e,f,t,n.shouldDeleteEmptyFolders))}}let o=await Un(e,t),s=dt(e,o);s&&await Ds(e,t)&&await Br(e,s,t,!1,n.shouldDeleteEmptyFolders)}function v0(e,t){let n=e.app;if(!Wa(e))return;let i=t.path;tt(n,()=>x0(n,i))}function C0(e,t,n){let i=zr(e);i.isPathIgnored?.(t.path)||i.shouldHandleDeletions&&ke(e,t)&&n&&Na.set(t.path,n)}function A0(e,t,n){Wa(e)&&C0(e.app,t,n)}function S0(e,t,n){let i=Nf(t,n);if(ze("RenameDeleteHandler:handleRename")(`Handle Rename ${i}`),Vr.has(i)){Vr.delete(i);return}let o=zr(e);if(!o.shouldHandleRenames||o.isPathIgnored?.(t)||o.isPathIgnored?.(n))return;let s=e.metadataCache.getCache(t)??e.metadataCache.getCache(n),l=s?vt(s):[],u=Oa(e,t).data;tt(e,()=>Ya(e,t,n,u,l))}async function Ya(e,t,n,i,o,s){await y0(e,t,n,i,o),await E0(e,t,n,i,o),!await b0(e,t,n,i,o)&&await If(e.fileManager,{updateAllLinks:()=>ct},async()=>{try{let l=new Map;await k0(e,t,n,l,o);let u=new Map;Df(i,l,u,t);for(let m of l.keys()){if(m===t)continue;let g=(await Bt(e,m)).data;Df(g,l,u,m)}let f=new Set;for(let[m,g]of l.entries()){if(m===t)continue;let w=await Yf(e,m,g);l.set(m,w),f.add(se(m))}let h=zr(e);if(h.shouldDeleteEmptyFolders)for(let m of f)await uo(e,m);for(let[m,g]of Array.from(u.entries()).concat(Array.from(s?.entries()??[])))await La(e,m,w=>{let y=g.get(Pi(w));if(!y)return;let v=l.get(y);if(v)return Ra({app:e,link:w,newSourcePathOrFile:m,newTargetPathOrFile:v,oldTargetPathOrFile:y,shouldUpdateFilenameAlias:h.shouldUpdateFilenameAliases})},{shouldFailOnMissingFile:!1});if(Nt(e,n)&&await lo({app:e,newSourcePathOrFile:n,oldSourcePathOrFile:t,shouldFailOnMissingFile:!1,shouldUpdateFilenameAlias:h.shouldUpdateFilenameAliases}),!ce(e,n)){let m=co.get(n);m||(m=[],co.set(n,m)),m.push({combinedBacklinksMap:u,oldPath:t})}}finally{let l=Array.from(Vr);tt(e,()=>{for(let u of l)Vr.delete(u)})}})}function _0(e,t,n){if(!Wa(e)||!Xe(t))return;let i=t.path;S0(e.app,n,i)}function Df(e,t,n,i){for(let[o,s]of e.entries()){let l=t.get(o)??o,u=n.get(l)??new Map;n.set(l,u);for(let f of s)u.set(Pi(f),i)}}function Of(e){let t=fo(e);ze("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(t.keys()))}`)}function Nf(e,t){return`${e} -> ${t}`}async function E0(e,t,n,i,o){let s=e.metadataCache.getCache(t)??e.metadataCache.getCache(n),l=s?vt(s):[],u=Fe(e,t,!0),f=new Map;await Yr(e,u,async()=>{f=(await Bt(e,u)).data});for(let h of l)o.includes(h)||o.push(h);for(let[h,m]of f.entries()){let g=i.get(h);g||(g=[],i.set(h,g));for(let w of m)g.includes(w)||g.push(w)}}async function Yf(e,t,n){if(n=Pa(e,t,n),t===n)return n;let i=Nf(t,n);return Vr.add(i),n=await ro(e,t,n),n}function Wa(e){let t=e.app,n=e.manifest.id,i=fo(t);return Array.from(i.keys())[0]===n}var k1=require("obsidian");var Wf=require("obsidian");var xn=class extends Map{constructor(n){super();this.title=n}add(n,i){this.has(n)||this.set(n,[]);let o=this.get(n);o&&o.push(i)}toString(n,i){if(this.size>0){let o=`# ${this.title} (${this.size.toString()} files)
`;for(let s of this.keys()){let l=ce(n,s);if(!l)continue;let u=so({app:n,sourcePathOrFile:i,targetPathOrFile:l});o+=`${u}:
`;for(let f of this.get(s)??[])o+=`- (line ${(f.position.start.line+1).toString()}): \`${f.link}\`
`;o+=`

`}return o}return`# ${this.title}
No problems found

`}},Ur=class{constructor(t){this.plugin=t;}async checkConsistency(t,n,i,o,s){if(this.plugin.settings.isPathIgnored(t.path))return;let l=await ht(this.plugin.app,t.path);if(!l)return;let u=l.links??[],f=l.embeds??[];for(let h of u)await this.isValidLink(h,t.path)||n.add(t.path,h),rr(h.original)&&o.add(t.path,h);for(let h of f)await this.isValidLink(h,t.path)||i.add(t.path,h),rr(h.original)&&s.add(t.path,h)}async convertAllNoteEmbedsPathsToRelative(t){return await this.convertAllNoteRefPathsToRelative(t,!0)}async convertAllNoteLinksPathsToRelative(t){return await this.convertAllNoteRefPathsToRelative(t,!1)}async getCachedNotesThatHaveLinkToFile(t){let n=ce(this.plugin.app,t);return n?(await Bt(this.plugin.app,n)).keys():[]}getFullPathForLink(t,n){({linkPath:t}=en(t));let i=se(n);return ye(i,t)}async replaceAllNoteWikilinksWithMarkdownLinks(t,n){if(this.plugin.settings.isPathIgnored(t))return 0;let i=ce(this.plugin.app,t);if(!i)return console.warn(`can't update wikilinks in note, file not found: ${t}`),0;let o=await ht(this.plugin.app,i);if(!o)return 0;let l=((n?o.embeds:o.links)??[]).filter(u=>rr(u.original)).length;return await lo({app:this.plugin.app,newSourcePathOrFile:i,shouldForceMarkdownLinks:!0,shouldUpdateEmbedOnlyLinks:n}),l}async updateChangedPathsInNote(t,n){if(this.plugin.settings.isPathIgnored(t))return;let i=ce(this.plugin.app,t);if(!i){console.warn(`can't update links in note, file not found: ${t}`);return}let o=new Map;for(let s of n)o.set(s.oldPath,s.newPath);await this.updateLinks(i,i.path,o)}async convertAllNoteRefPathsToRelative(t,n){if(this.plugin.settings.isPathIgnored(t))return[];let i=ce(this.plugin.app,t);if(!i)return[];let o=[];return await Rr(this.plugin.app,i,async()=>{let s=await ht(this.plugin.app,i);if(!s)return[];let l=(n?s.embeds:s.links)??[],u=[];for(let f of l){let h={endIndex:f.position.end.offset,newContent:this.convertLink({forceRelativePath:!0,link:f,note:i,oldNotePath:t}),oldContent:f.original,startIndex:f.position.start.offset};u.push(h),o.push({newLink:h.newContent,old:f})}return u}),o}convertLink({forceRelativePath:t,link:n,note:i,oldNotePath:o,pathChangeMap:s}){let{linkPath:l,subpath:u}=en(n.link),f=Vt(this.plugin.app,n,o)?.path??ye(se(o),l),h=s?s.get(f):Vt(this.plugin.app,n,i.path)?.path??ye(se(i.path),l);if(!h)return n.original;let m=ce(this.plugin.app,h)??ce(this.plugin.app,f);if(!m)return n.original;let g=n.displayText&&ye(i.parent?.path??"",n.displayText)===f?void 0:n.displayText;return so({alias:g,app:this.plugin.app,originalLink:n.original,shouldForceRelativePath:t,sourcePathOrFile:i.path,subpath:u,targetPathOrFile:m})}async isValidLink(t,n){let{linkPath:i,subpath:o}=en(t.link),s;i?i.startsWith("/")?s=(0,Wf.normalizePath)(i):s=ye(se(n),i):s=n;let l=ce(this.plugin.app,s);if(!l)return!1;if(!o)return!0;let u=l.extension.toLocaleLowerCase();if(u==="pdf")return o.startsWith("#page=");if(u!==pi)return!1;let f=await ht(this.plugin.app,l);if(!f)return!1;let h="#^";if(o.startsWith(h))return Object.keys(f.blocks??{}).includes(Rt(o,h));let m="#";return(f.headings??[]).map(g=>g.heading.replaceAll(m," ")).includes(Rt(o,m))}async updateLinks(t,n,i){await Rr(this.plugin.app,t,async()=>{let o=await ht(this.plugin.app,t);return o?vt(o).map(l=>Xn(l,this.convertLink({link:l,note:t,oldNotePath:n,pathChangeMap:i}))):[]})}};var Hr=class{constructor(t,n){this.plugin=t;this.lh=n;}async collectAttachmentsForCachedNote(t,n,i){if(this.plugin.settings.isPathIgnored(t))return{movedAttachments:[]};let o={movedAttachments:[]},s=await ht(this.plugin.app,t);if(!s)return o;for(let l of vt(s)){let{linkPath:u}=en(l.link);if(!u)continue;let f=this.lh.getFullPathForLink(u,t);if(o.movedAttachments.findIndex(w=>w.oldPath===f)!==-1)continue;let h=Vt(this.plugin.app,l,t);if(!h){let w=ao(l.original)?"embed":"link";console.warn(`${t} has bad ${w} (file does not exist): ${u}`);continue}if(!this.isAttachment(h))continue;let m=await Is(this.plugin.app,h.path,t);if(se(m)===se(h.path))continue;let g=await this.moveAttachment(h,m,[t],n,i);o.movedAttachments=o.movedAttachments.concat(g.movedAttachments)}return o}async deleteEmptyFolders(t){if(this.plugin.settings.isPathIgnored(t))return;t=Rt(t,"./");let n=await nr(this.plugin.app,t);for(let i of n.folders)await this.deleteEmptyFolders(i);if(n=await nr(this.plugin.app,t),n.files.length===0&&n.folders.length===0&&(this.plugin.consoleDebug(`delete empty folder: 
   ${t}`),await this.plugin.app.vault.exists(t)))try{await this.plugin.app.vault.adapter.rmdir(t,!1)}catch(i){if(await this.plugin.app.vault.adapter.exists(t))throw i}}async createFolderForAttachmentFromPath(t){await er(this.plugin.app,se(t))}async deleteFile(t,n){if(await this.plugin.app.fileManager.trashFile(t),n){let i=t.parent;for(;i&&i.children.length===0;)await this.plugin.app.fileManager.trashFile(i),i=i.parent}}isAttachment(t){return!Nt(this.plugin.app,t)}async moveAttachment(t,n,i,o,s){let l=t.path,u={movedAttachments:[]};if(this.plugin.settings.isPathIgnored(l)||!this.isAttachment(t))return u;if(l===n)return console.warn("Can't move file. Source and destination path the same."),u;await this.createFolderForAttachmentFromPath(n);let f=await this.lh.getCachedNotesThatHaveLinkToFile(l);for(let w of i)f.remove(w);if(l!==t.path)return console.warn("File was moved already"),await this.moveAttachment(t,n,i,o,s);let h=t.parent,m=f.length===0,g=ce(this.plugin.app,n);return g&&(o?(this.plugin.consoleDebug(`delete: ${n}`),await this.deleteFile(g,s)):n=no(this.plugin.app,n)),this.plugin.consoleDebug(`${m?"move":"copy"}
  from: ${l}
  to: ${n}`),u.movedAttachments.push({newPath:n,oldPath:l}),m?await ro(this.plugin.app,t,n):await xf(this.plugin.app,t,n),this.plugin.settings.deleteEmptyFolders&&await uo(this.plugin.app,h),u}};(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var tn=class{getTransformer(t){if(t===this.id)return this;throw new Error(`Transformer with id ${t} not found`)}transformObjectRecursively(t){return this.transformValueRecursively(t,"")}getTransformerId(t,n){return this.canTransform(t,n)?this.id:null}transformValueRecursively(t,n){let i=this.getTransformerId(t,n);if(i){let l=this.transformValue(t,n);return l===void 0?void 0:{__transformerId:i,transformedValue:l}}if(t===null)return null;if(typeof t!="object")return t;if(Array.isArray(t))return t.map((l,u)=>this.transformValueRecursively(l,u.toString()));let o=t;if(o.__transformerId)return this.getTransformer(o.__transformerId).restoreValue(o.transformedValue,n);let s={};for(let l of Vn(t)){let u=t[l],f=this.transformValueRecursively(u,l);s[l]=f}return s}};(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var ir=class extends tn{};(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var ho=class extends ir{get id(){return"date"}canTransform(t){return t instanceof Date}restoreValue(t){return new Date(t)}transformValue(t){return t.toISOString()}};var Bf=Qe(vn(),1);(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var mo=class extends ir{get id(){return"duration"}canTransform(t){let n=t??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(t){return(0,Bf.duration)(t)}transformValue(t){return t.toISOString()}};(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var po=class extends tn{constructor(t){super(),this.transformers=t}get id(){return"group"}canTransform(t,n){return this.getFirstTransformerThatCanTransform(t,n)!==null}getTransformer(t){return this.transformers.find(n=>n.id===t)??un(`No transformer with id ${t} found`)}transformValue(t,n){let i=this.getFirstTransformerThatCanTransform(t,n);if(i===null)throw new Error("No transformer can transform the value");return i.transformValue(t,n)}getTransformerId(t,n){let i=this.getFirstTransformerThatCanTransform(t,n);return i===null?null:i.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(t,n){return this.transformers.find(i=>i.canTransform(t,n))??null}};(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var T0="_",go=class extends tn{get id(){return"skip-private-property"}canTransform(t,n){return n.startsWith(T0)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var F0=new po([new go,new ho,new mo]),wo=class{constructor(t){this.properties=t}get(t,n){let i=t;if(typeof n!="string")return i[n];let o=this.properties.get(n);return o?this.getPropertyValue(o):i[n]}},Va=class extends wo{validationPromise=Promise.resolve();set(t,n,i){let o=t;if(o[n]=i,typeof n!="string")return!0;let s=this.properties.get(n);return s&&(s.setValue(i),this.validationPromise=this.validationPromise.then(()=>s.validate())),!0}getPropertyValue(t){return t.currentValue}},za=class extends Map{getTyped(t){let n=super.get(t);if(!n)throw new Error(`Property ${String(t)} not found`);return n}setTyped(t,n){return super.set(t,n)}},Ua=class extends wo{getPropertyValue(t){return t.safeValue}},yo=class{constructor(t){this.plugin=t,this.app=t.app,this.currentSettings=this.createDefaultSettings(),this.registerValidators(),this.properties=new za;let n=this.currentSettings;for(let o of Vn(this.currentSettings)){let s=function(l){n[o]=l};var i=s;this.properties.set(o,new Ha(o,this.currentSettings[o],this.validators.get(o)??gt,s))}this.validators.clear(),this.safeSettings=new Proxy(this.currentSettings,new Ua(this.properties))}app;safeSettings;currentSettings;properties;validators=new Map;async editAndSave(t,n){let i=new Proxy(this.currentSettings,new Va(this.properties));await t(i),await i.validationPromise,await this.saveToFile(n)}getProperty(t){return this.properties.getTyped(t)}async loadFromFile(t){for(let u of this.properties.values())u.reset();let n=await this.plugin.loadData();if(n==null)return;if(typeof n!="object"||Array.isArray(n)){let u=Array.isArray(n)?"Array":typeof n;console.error(`Invalid data type. Expected Object, got: ${u}`);return}let i=n,o=JSON.stringify(i);i=this.getTransformer().transformObjectRecursively(i),await this.onLoadRecord(i);let s=[];for(let[u,f]of Object.entries(i)){let h=this.properties.get(u);if(!h){console.warn(`Unknown property: ${u}`);continue}typeof f!=typeof h.defaultValue&&console.warn("Possible invalid value type read from config file. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:h.defaultValue,propertyName:u,value:f}),h.setValue(f),s.push(h)}for(let u of s)await u.validate(),u.save();JSON.stringify(await this.prepareRecordToSave())!==o&&await this.saveToFileImpl(),await this.plugin.onLoadSettings(this.getSavedSettings(),t)}async saveToFile(t){let n=this.getSavedSettings(),i=!1;for(let o of this.properties.values())i||=o.save();i&&(await this.saveToFileImpl(),await this.plugin.onSaveSettings(this.getSavedSettings(),n,t))}getTransformer(){return F0}async onLoadRecord(t){await ct()}async onSavingRecord(t){await ct()}registerValidator(t,n){this.validators.set(t,n)}registerValidators(){}getSavedSettings(){let t={};for(let[i,o]of this.properties.entries())t[i]=o.lastSavedValue;let n=Object.getPrototypeOf(this.currentSettings);return Object.setPrototypeOf(t,n),t}async prepareRecordToSave(){let t={};for(let[n,i]of this.properties.entries())t[n]=i.currentValue;return await this.onSavingRecord(t),this.getTransformer().transformObjectRecursively(t)}async saveToFileImpl(){await this.plugin.saveData(await this.prepareRecordToSave())}},Ha=class{constructor(t,n,i,o){this.propertyName=t,this.defaultValue=n,this.validator=i,this.propertySetter=o,this._lastSavedValue=n,this._currentValue=n}get currentValue(){return this._currentValue}get lastSavedValue(){return this._lastSavedValue}get safeValue(){return this._validationMessage?this.defaultValue:this._currentValue}get validationMessage(){return this._validationMessage}_currentValue;_lastSavedValue;_validationMessage="";reset(){this._currentValue=this.defaultValue,this._validationMessage=""}save(){return this._lastSavedValue===this._currentValue?!1:(this._lastSavedValue=this._currentValue,!0)}setValidationMessage(t){this._validationMessage=t,this.showWarning()}setValue(t){this._currentValue=t,this.propertySetter(t)}async validate(){try{this._validationMessage=await this.validator(this._currentValue)??""}catch(t){console.error("Validation failed",{propertyName:this.propertyName,value:this._currentValue},t),this._validationMessage="Validation failed"}this.showWarning(this._currentValue)}showWarning(t){this._validationMessage&&console.warn(`Could not set plugin setting: ${this.propertyName}. Using default value instead.`,{defaultValue:this.defaultValue,propertyName:this.propertyName,validationMessage:this._validationMessage,value:t})}};var Vf=/(?:)/,zf=/$./,ko=class{autoCollectAttachments=!1;changeNoteBacklinksAlt=!0;consistencyReportFile="consistency-report.md";deleteAttachmentsWithNote=!1;deleteEmptyFolders=!0;deleteExistFilesWhenMoveNote=!1;moveAttachmentsWithNote=!1;showBackupWarning=!0;updateLinks=!0;get excludePaths(){return this._excludePaths}set excludePaths(t){this._excludePaths=t.filter(Boolean),this._excludePathsRegExp=Uf(this._excludePaths,zf)}get hadDangerousSettingsReverted(){return this._hadDangerousSettingsReverted}get includePaths(){return this._includePaths}set includePaths(t){this._includePaths=t.filter(Boolean),this._includePathsRegExp=Uf(this._includePaths,Vf)}_excludePaths=["/consistency-report\\.md$/"];_excludePathsRegExp=zf;_hadDangerousSettingsReverted=!1;_includePaths=[];_includePathsRegExp=Vf;isPathIgnored(t){return!this._includePathsRegExp.test(t)||this._excludePathsRegExp.test(t)}revertDangerousSettings(){this.showBackupWarning&&(this._hadDangerousSettingsReverted=this.deleteAttachmentsWithNote||this.deleteExistFilesWhenMoveNote||this.moveAttachmentsWithNote||this.autoCollectAttachments,this.deleteAttachmentsWithNote=!1,this.deleteExistFilesWhenMoveNote=!1,this.moveAttachmentsWithNote=!1,this.autoCollectAttachments=!1)}};function Uf(e,t){if(e.length===0)return t;let n=e.map(i=>i.startsWith("/")&&i.endsWith("/")?i.slice(1,-1):`^${ws(i)}`).map(i=>`(${i})`).join("|");return new RegExp(n)}var bo=class extends yo{createDefaultSettings(){return new ko}async onLoadRecord(t){await super.onLoadRecord(t);let n=t;if(!(n.ignoreFiles||n.ignoreFolders))return;let i=n.excludePaths??[];for(let o of n.ignoreFiles??[])i.push(`/${o}$/`);for(let o of n.ignoreFolders??[])i.push(o);i.length>0&&(n.excludePaths=i),delete n.ignoreFiles,delete n.ignoreFolders}registerValidators(){super.registerValidators(),this.registerValidator("includePaths",Hf),this.registerValidator("excludePaths",Hf)}};function Hf(e){for(let t of e)if(t.startsWith("/")&&t.endsWith("/")){let n=t.slice(1,-1);if(!jl(n))return`Invalid regular expression ${t}`}}var rd=require("obsidian");(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();function $a(e,t){e.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:t})})}var sr=require("obsidian");var $f=require("obsidian");(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var ja=class{constructor(t){this.abstractTextComponent=t}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(t){return this.abstractTextComponent.setPlaceholder(t),this}};function jf(e){return P0(e)?e:e instanceof $f.AbstractTextComponent?new ja(e):null}function P0(e){let t=e;return typeof t.setPlaceholderValue=="function"&&typeof t.isEmpty=="function"}var Ct=require("obsidian");(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Cn=class{constructor(t){this.validatorEl=t}};function Gf(e){return M0(e)?e:e instanceof Ct.DropdownComponent?new Cn(e.selectEl):e instanceof Ct.SliderComponent?new Cn(e.sliderEl):e instanceof Ct.TextAreaComponent?new Cn(e.inputEl):e instanceof Ct.TextComponent?new Cn(e.inputEl):e instanceof Ct.ToggleComponent?new Cn(e.toggleEl.find("input[type=checkbox]")):null}function M0(e){return!!e.validatorEl}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();function qf(e){return e.validationMessage!==void 0}(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var xo=class extends sr.PluginSettingTab{constructor(t){super(t.app,t),this.plugin=t,this.containerEl.addClass(Y.LibraryName,pe(),Y.PluginSettingsTab),this.saveSettingsDebounced=(0,sr.debounce)(Sr(()=>this.plugin.settingsManager.saveToFile()),this.saveSettingsDebounceTimeoutInMilliseconds)}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;saveSettingsDebounced;bind(t,n,i){let s={...{componentToPluginSettingsValueConverter:g=>g,onChanged:gt,pluginSettingsToComponentValueConverter:g=>g,shouldResetSettingWhenComponentIsEmpty:!0,shouldShowValidationMessage:!0},...i},l=Gf(t)?.validatorEl,u=this.plugin.settingsManager.getProperty(n),f=u.currentValue,h=jf(t);return h?.setPlaceholderValue(s.pluginSettingsToComponentValueConverter(u.defaultValue)),u.currentValue===u.defaultValue&&h&&s.shouldResetSettingWhenComponentIsEmpty?h.empty():t.setValue(s.pluginSettingsToComponentValueConverter(f)),t.onChange(async g=>{let w=u.currentValue,y;if(h?.isEmpty()&&s.shouldResetSettingWhenComponentIsEmpty)u.reset(),y=u.defaultValue;else{let v=s.componentToPluginSettingsValueConverter(g);qf(v)?u.setValidationMessage(v.validationMessage):(u.setValue(v),await u.validate(),y=v)}m(),y!==void 0&&await s.onChanged(y,w),this.saveSettingsDebounced()}),l?.addEventListener("focus",m),l?.addEventListener("blur",m),m(),t;function m(){l&&(u.validationMessage||(l.setCustomValidity(""),l.checkValidity(),u.setValidationMessage(l.validationMessage)),l.setCustomValidity(u.validationMessage),(0,sr.setTooltip)(l,u.validationMessage),l.isActiveElement()&&s.shouldShowValidationMessage&&l.reportValidity())}}display(){this._isOpen=!0}hide(){super.hide(),this._isOpen=!1,this.saveSettingsDebounced.cancel(),hn(()=>this.plugin.settingsManager.saveToFile())}show(){this.app.setting.openTab(this)}};var nd=require("obsidian");var Zf=require("obsidian");(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var vo=class extends Zf.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(t){super(),t.addClass(Y.LibraryName,pe(),Y.CheckboxComponent),this.inputEl=t.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(t){return this.changeCallback=t,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(t){return super.setDisabled(t),this.inputEl.disabled=t,this}setValue(t){return this.inputEl.checked=t,this}};var Ga=Qe(vn(),1);var Co=require("obsidian");(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Ue=class extends Co.ValueComponent{inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(t,n,i){super(),this.textComponent=new Co.TextComponent(t),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,t.addClass(Y.LibraryName,pe(),i)}empty(){this.textComponent.setValue("")}getValue(){return this.valueFromString(this.textComponent.getValue())}isEmpty(){return this.textComponent.getValue()===""}onChange(t){return this.textComponent.onChange(()=>t(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(t){return super.setDisabled(t),this.textComponent.setDisabled(t),this}setPlaceholder(t){return this.textComponent.setPlaceholder(t),this}setPlaceholderValue(t){return this.setPlaceholder(this.valueToString(t)),this}setValue(t){return this.textComponent.setValue(this.valueToString(t)),this}valueToString(t){return String(t)}};(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var He=class extends Ue{setMax(t){return this.inputEl.max=this.valueToString(t),this}setMin(t){return this.inputEl.min=this.valueToString(t),this}setStep(t){return this.inputEl.step=t.toString(),this}};(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Kf="YYYY-MM-DD",Ao=class extends He{constructor(t){super(t,"date",Y.DateComponent)}valueFromString(t){return(0,Ga.default)(t,Kf).toDate()}valueToString(t){return(0,Ga.default)(t).format(Kf)}};var qa=Qe(vn(),1);(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Qf="YYYY-MM-DDTHH:mm",So=class extends He{constructor(t){super(t,"datetime-local",Y.DateTimeComponent)}valueFromString(t){return(0,qa.default)(t,Qf).toDate()}valueToString(t){return(0,qa.default)(t).format(Qf)}};(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var _o=class extends Ue{constructor(t){super(t,"email",Y.EmailComponent)}valueFromString(t){return t}};(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Eo=class extends Ue{constructor(t){super(t,"file",Y.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(t){return t?.name??""}};var Za=Qe(vn(),1);(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Jf="YYYY-MM",To=class extends He{constructor(t){super(t,"month",Y.MonthComponent)}valueFromString(t){let n=(0,Za.default)(t,Jf);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(t){return(0,Za.default)().year(t.year).month(t.month-1).format(Jf)}};var Fo=require("obsidian");(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var ar=class extends Fo.ValueComponent{get validatorEl(){return this.dropdownComponent.selectEl}dropdownComponent;constructor(t){super(),this.dropdownComponent=new Fo.DropdownComponent(t),this.dropdownComponent.selectEl.multiple=!0,t.addClass(Y.LibraryName,pe(),Y.MultipleDropdownComponent)}addOption(t,n){return this.dropdownComponent.addOption(t,n),this}addOptions(t){return this.dropdownComponent.addOptions(t),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(t=>t.value)}onChange(t){return this.dropdownComponent.onChange(()=>t(this.getValue())),this}setDisabled(t){return super.setDisabled(t),this.dropdownComponent.setDisabled(t),this}setValue(t){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=t.includes(n.value);return this}};(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Po=class extends Ue{constructor(t){super(t,"email",Y.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(t){return t.split(",").map(n=>n.trim())}valueToString(t){return t.join(", ")}};(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Mo=class extends Ue{constructor(t){super(t,"file",Y.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(t){return t[0]?.name??""}};var Do=require("obsidian");(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Io=class extends Do.ValueComponent{get validatorEl(){return this.textAreaComponent.inputEl}textAreaComponent;constructor(t){super(),this.textAreaComponent=new Do.TextAreaComponent(t),t.addClass(Y.LibraryName,pe(),Y.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(t){return this.textAreaComponent.onChange(()=>t(this.getValue())),this}setDisabled(t){return super.setDisabled(t),this.textAreaComponent.setDisabled(t),this}setPlaceholder(t){return this.textAreaComponent.setPlaceholder(t),this}setPlaceholderValue(t){return this.setPlaceholder(this.valueToString(t)),this}setValue(t){return this.textAreaComponent.setValue(this.valueToString(t)),this}valueToString(t){return t.join(`
`)}};(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Oo=class extends He{constructor(t){super(t,"number",Y.NumberComponent)}valueFromString(t){return parseInt(t,10)}};var Ro=Qe(vn(),1);(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Lo=class extends He{constructor(t){super(t,"time",Y.TimeComponent)}valueFromString(t){return(0,Ro.duration)(t)}valueToString(t){let n;return t.milliseconds()>0?n="HH:mm:ss.SSS":t.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,Ro.utc)(t.asMilliseconds()).format(n)}};var Xf=require("obsidian");(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var No=class extends Xf.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(t){super(),t.addClass(Y.LibraryName,pe(),Y.TriStateCheckboxComponent),this.inputEl=t.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(t){return this.changeCallback=t,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(t){return super.setDisabled(t),this.inputEl.disabled=t,this}setValue(t){return this.inputEl.indeterminate=t===null,this.inputEl.checked=t??!1,this}};var Wo=require("obsidian");(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Yo=class extends Wo.ValueComponent{get validatorEl(){return this.dropdownComponent.selectEl}dropdownComponent;values=[];constructor(t){super(),this.dropdownComponent=new Wo.DropdownComponent(t),t.addClass(Y.LibraryName,pe(),Y.TypedDropdownComponent)}addOption(t,n){let i=this.values.indexOf(t);return i===-1&&(this.values.push(t),i=this.values.length-1),this.dropdownComponent.addOption(i.toString(),n),this}addOptions(t){for(let[n,i]of t.entries())this.addOption(n,i);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(t){return this.dropdownComponent.onChange(()=>t(this.getValue())),this}setDisabled(t){return super.setDisabled(t),this.dropdownComponent.setDisabled(t),this}setValue(t){let n=t===null?-1:this.values.indexOf(t);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var ed=require("obsidian");(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Bo=class extends ed.ValueComponent{get validatorEl(){return this.multipleDropdownComponent.validatorEl}multipleDropdownComponent;values=[];constructor(t){super(),this.multipleDropdownComponent=new ar(t),t.addClass(Y.LibraryName,pe(),Y.TypedMultipleDropdownComponent)}addOption(t,n){let i=this.values.indexOf(t);return i===-1&&(this.values.push(t),i=this.values.length-1),this.multipleDropdownComponent.addOption(i.toString(),n),this}addOptions(t){for(let[n,i]of t.entries())this.addOption(n,i);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(t){return this.multipleDropdownComponent.onChange(()=>t(this.getValue())),this}setDisabled(t){return super.setDisabled(t),this.multipleDropdownComponent.setDisabled(t),this}setValue(t){let n=t.map(i=>this.values.indexOf(i)).filter(i=>i!==-1);return this.multipleDropdownComponent.setValue(n.map(i=>i.toString())),this}};(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var Vo=class extends Ue{constructor(t){super(t,"url",Y.UrlComponent)}valueFromString(t){return t}};var Ka=Qe(vn(),1);(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var td="YYYY-[W]WW",zo=class extends He{constructor(t){super(t,"week",Y.WeekComponent)}valueFromString(t){let n=(0,Ka.default)(t,td);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(t){return(0,Ka.default)().year(t.year).isoWeek(t.weekNumber).format(td)}};(function(){if(globalThis.process)return;let t={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=t})();var qe=class extends nd.Setting{addCheckbox(t){return this.addComponent(vo,t)}addComponent(t,n){let i=new t(this.controlEl);return this.components.push(i),n(i),this}addDate(t){return this.addComponent(Ao,t)}addDateTime(t){return this.addComponent(So,t)}addEmail(t){return this.addComponent(_o,t)}addFile(t){return this.addComponent(Eo,t)}addMonth(t){return this.addComponent(To,t)}addMultipleDropdown(t){return this.addComponent(ar,t)}addMultipleEmail(t){return this.addComponent(Po,t)}addMultipleFile(t){return this.addComponent(Mo,t)}addMultipleText(t){return this.addComponent(Io,t)}addNumber(t){return this.addComponent(Oo,t)}addTime(t){return this.addComponent(Lo,t)}addTriStateCheckbox(t){return this.addComponent(No,t)}addTypedDropdown(t){return this.addComponent(Yo,t)}addTypedMultipleDropdown(t){return this.addComponent(Bo,t)}addUrl(t){return this.addComponent(Vo,t)}addWeek(t){return this.addComponent(zo,t)}};var Uo=class extends xo{display(){super.display(),this.containerEl.empty();let t="Move Attachments with Note";new qe(this.containerEl).setName(t).setDesc("Automatically move attachments when a note is relocated. This includes attachments located in the same folder or any of its subfolders.").addToggle(s=>this.bind(s,"moveAttachmentsWithNote",{onChanged:async()=>{await this.checkDangerousSetting("moveAttachmentsWithNote",t)}}));let n="Delete Unused Attachments with Note";new qe(this.containerEl).setName(n).setDesc("Automatically remove attachments that are no longer referenced in other notes when the note is deleted.").addToggle(s=>this.bind(s,"deleteAttachmentsWithNote",{onChanged:async()=>{await this.checkDangerousSetting("deleteAttachmentsWithNote",n)}})),new qe(this.containerEl).setName("Update Links").setDesc("Automatically update links to attachments and other notes when moving notes or attachments.").addToggle(s=>this.bind(s,"updateLinks")),new qe(this.containerEl).setName("Delete Empty Folders").setDesc("Automatically remove empty folders after moving notes with attachments.").addToggle(s=>this.bind(s,"deleteEmptyFolders"));let i="Delete Duplicate Attachments on Note Move";new qe(this.containerEl).setName(i).setDesc("Automatically delete attachments when moving a note if a file with the same name exists in the destination folder. If disabled, the file will be renamed and moved.").addToggle(s=>this.bind(s,"deleteExistFilesWhenMoveNote",{onChanged:async()=>{await this.checkDangerousSetting("deleteExistFilesWhenMoveNote",i)}})),new qe(this.containerEl).setName("Update Backlink Text on Note Rename").setDesc("When a note is renamed, its linked references are automatically updated. If this option is enabled, the text of backlinks to this note will also be modified.").addToggle(s=>this.bind(s,"changeNoteBacklinksAlt")),new qe(this.containerEl).setName("Consistency Report Filename").setDesc("Specify the name of the file for the consistency report.").addText(s=>{this.bind(s,"consistencyReportFile")});let o="Auto Collect Attachments";new qe(this.containerEl).setName(o).setDesc("Automatically collect attachments when the note is edited.").addToggle(s=>this.bind(s,"autoCollectAttachments",{onChanged:async()=>{await this.checkDangerousSetting("autoCollectAttachments",o)}})),new qe(this.containerEl).setName("Include paths").setDesc(createFragment(s=>{s.appendText("Include notes from the following paths"),s.createEl("br"),s.appendText("Insert each path on a new line"),s.createEl("br"),s.appendText("You can use path string or "),$a(s,"/regular expression/"),s.createEl("br"),s.appendText("If the setting is empty, all notes are included")})).addMultipleText(s=>{this.bind(s,"includePaths")}),new qe(this.containerEl).setName("Exclude paths").setDesc(createFragment(s=>{s.appendText("Exclude notes from the following paths"),s.createEl("br"),s.appendText("Insert each path on a new line"),s.createEl("br"),s.appendText("You can use path string or "),$a(s,"/regular expression/"),s.createEl("br"),s.appendText("If the setting is empty, no notes are excluded")})).addMultipleText(s=>{this.bind(s,"excludePaths")})}async checkDangerousSetting(t,n){this.plugin.settings[t]&&await Si({app:this.app,message:createFragment(i=>{i.createDiv({cls:"community-modal-readme"},o=>{o.appendText("You enabled "),o.createEl("strong",{cls:"markdown-rendered-code",text:n}),o.appendText(" setting. Without proper configuration it might lead to inconvenient attachment rearrangements or even data loss in your vault."),o.createEl("br"),o.appendText("It is "),o.createEl("strong",{text:"STRONGLY"}),o.appendText(" recommended to backup your vault before using the plugin."),o.createEl("br"),o.createEl("a",{href:"https://github.com/dy-sh/obsidian-consistent-attachments-and-links?tab=readme-ov-file",text:"Read more"}),o.appendText(" about how to use the plugin.")})}),title:createFragment(i=>{(0,rd.setIcon)(i.createSpan(),"triangle-alert"),i.appendText(" Consistent Attachments and Links")})})}};var Ho=class extends Ei{deletedNoteCache=new Map;fh;lh;async onLoadSettings(t,n){await super.onLoadSettings(t,n),t.revertDangerousSettings()}async onSaveSettings(t,n,i){await super.onSaveSettings(t,n,i),this.lh=new Ur(this),this.fh=new Hr(this,this.lh)}createPluginSettingsTab(){return new Uo(this)}createSettingsManager(){return new bo(this)}async onLayoutReady(){await this.showBackupWarning()}async onloadImpl(){await super.onloadImpl(),this.registerEvent(this.app.metadataCache.on("deleted",(t,n)=>{n&&this.handleDeletedMetadata(t,n)})),Rf(this,()=>({isPathIgnored:n=>this.settings.isPathIgnored(n),shouldDeleteConflictingAttachments:this.settings.deleteExistFilesWhenMoveNote,shouldDeleteEmptyFolders:this.settings.deleteEmptyFolders,shouldHandleDeletions:this.settings.deleteAttachmentsWithNote,shouldHandleRenames:this.settings.updateLinks,shouldRenameAttachmentFolder:this.settings.moveAttachmentsWithNote,shouldUpdateFilenameAliases:this.settings.changeNoteBacklinksAlt})),this.addCommand({callback:()=>this.collectAllAttachments(),id:"collect-all-attachments",name:"Collect All Attachments"}),this.addCommand({checkCallback:t=>this.collectAttachmentsCurrentFolder(t),id:"collect-attachments-current-folder",name:"Collect Attachments in Current Folder"}),this.addCommand({checkCallback:this.collectAttachmentsCurrentNote.bind(this),id:"collect-attachments-current-note",name:"Collect Attachments in Current Note"}),this.addCommand({callback:()=>this.deleteEmptyFolders(),id:"delete-empty-folders",name:"Delete Empty Folders"}),this.addCommand({callback:()=>this.convertAllLinkPathsToRelative(),id:"convert-all-link-paths-to-relative",name:"Convert All Link Paths to Relative"}),this.addCommand({checkCallback:this.convertAllLinkPathsToRelativeCurrentNote.bind(this),id:"convert-all-link-paths-to-relative-current-note",name:"Convert All Link Paths to Relative in Current Note"}),this.addCommand({callback:()=>this.convertAllEmbedsPathsToRelative(),id:"convert-all-embed-paths-to-relative",name:"Convert All Embed Paths to Relative"}),this.addCommand({checkCallback:this.convertAllEmbedsPathsToRelativeCurrentNote.bind(this),id:"convert-all-embed-paths-to-relative-current-note",name:"Convert All Embed Paths to Relative in Current Note"}),this.addCommand({callback:()=>this.replaceAllWikilinksWithMarkdownLinks(),id:"replace-all-wikilinks-with-markdown-links",name:"Replace All Wiki Links with Markdown Links"}),this.addCommand({checkCallback:this.replaceAllWikilinksWithMarkdownLinksCurrentNote.bind(this),id:"replace-all-wikilinks-with-markdown-links-current-note",name:"Replace All Wiki Links with Markdown Links in Current Note"}),this.addCommand({callback:()=>this.replaceAllWikiEmbedsWithMarkdownEmbeds(),id:"replace-all-wiki-embeds-with-markdown-embeds",name:"Replace All Wiki Embeds with Markdown Embeds"}),this.addCommand({checkCallback:this.replaceAllWikiEmbedsWithMarkdownEmbedsCurrentNote.bind(this),id:"replace-all-wiki-embeds-with-markdown-embeds-current-note",name:"Replace All Wiki Embeds with Markdown Embeds in Current Note"}),this.addCommand({callback:()=>this.reorganizeVault(),id:"reorganize-vault",name:"Reorganize Vault"}),this.addCommand({callback:()=>this.checkConsistency(),id:"check-consistency",name:"Check Vault consistency"}),this.registerEvent(this.app.metadataCache.on("changed",t=>{tt(this.app,()=>this.handleMetadataCacheChanged(t))})),this.registerEvent(this.app.workspace.on("file-menu",(t,n)=>{this.handleFileMenu(t,n)})),this.lh=new Ur(this),this.fh=new Hr(this,this.lh)}async checkConsistency(){await this.saveAllOpenNotes();let t=new xn("Bad links"),n=new xn("Bad embeds"),i=new xn("Wiki links"),o=new xn("Wiki embeds");await dn({abortSignal:this.abortSignal,buildNoticeMessage:(h,m)=>`Checking note ${m} - ${h.path}`,items:tr(this.app),processItem:async h=>{await this.lh.checkConsistency(h,t,n,i,o)},progressBarTitle:"Consistent Attachments and Links: Checking vault consistency...",shouldContinueOnError:!0,shouldShowProgressBar:!0});let s=this.settings.consistencyReportFile,l=t.toString(this.app,s)+n.toString(this.app,s)+i.toString(this.app,s)+o.toString(this.app,s);await er(this.app,se(s));let u=await eu(this.app,s);await this.app.vault.modify(u,l);let f=!1;this.app.workspace.iterateAllLeaves(h=>{h.getDisplayText()!==""&&s.startsWith(h.getDisplayText())&&(f=!0)}),f||await this.app.workspace.openLinkText(s,"/",!1)}async collectAllAttachments(){await this.collectAttachmentsInFolder("/")}async collectAttachments(t,n=!0){if(this.settings.isPathIgnored(t.path)){new be.Notice("Note path is ignored");return}await this.saveAllOpenNotes();let i=await this.fh.collectAttachmentsForCachedNote(t.path,this.settings.deleteExistFilesWhenMoveNote,this.settings.deleteEmptyFolders);i.movedAttachments.length>0&&await this.lh.updateChangedPathsInNote(t.path,i.movedAttachments),i.movedAttachments.length===0?n&&new be.Notice("No files found that need to be moved"):new be.Notice(`Moved ${i.movedAttachments.length.toString()} attachment${i.movedAttachments.length>1?"s":""}`)}collectAttachmentsCurrentFolder(t){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(t||tt(this.app,()=>this.collectAttachmentsInFolder(n.parent?.path??"/")),!0)}collectAttachmentsCurrentNote(t){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(t||tt(this.app,()=>this.collectAttachments(n)),!0)}async collectAttachmentsInFolder(t){let n=0,i=0;await this.saveAllOpenNotes(),await dn({abortSignal:this.abortSignal,buildNoticeMessage:(o,s)=>`Collecting attachments ${s} - ${o.path}`,items:Xl(this.app,t,!0),processItem:async o=>{if(this.settings.isPathIgnored(o.path))return;let s=await this.fh.collectAttachmentsForCachedNote(o.path,this.settings.deleteExistFilesWhenMoveNote,this.settings.deleteEmptyFolders);s.movedAttachments.length>0&&(await this.lh.updateChangedPathsInNote(o.path,s.movedAttachments),n+=s.movedAttachments.length,i++)},progressBarTitle:"Consistent Attachments and Links: Collecting attachments...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),n===0?new be.Notice("No files found that need to be moved"):new be.Notice(`Moved ${n.toString()} attachment${n>1?"s":""} from ${i.toString()} note${i>1?"s":""}`)}async convertAllEmbedsPathsToRelative(){await this.saveAllOpenNotes();let t=0,n=0;await dn({abortSignal:this.abortSignal,buildNoticeMessage:(i,o)=>`Converting embed paths to relative ${o} - ${i.path}`,items:tr(this.app),processItem:async i=>{if(this.settings.isPathIgnored(i.path))return;let o=await this.lh.convertAllNoteEmbedsPathsToRelative(i.path);o.length>0&&(t+=o.length,n++)},progressBarTitle:"Consistent Attachments and Links: Converting embed paths to relative...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),t===0?new be.Notice("No embeds found that need to be converted"):new be.Notice(`Converted ${t.toString()} embed${t>1?"s":""} from ${n.toString()} note${n>1?"s":""}`)}convertAllEmbedsPathsToRelativeCurrentNote(t){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(t||tt(this.app,yr(()=>this.lh.convertAllNoteEmbedsPathsToRelative(n.path))),!0)}async convertAllLinkPathsToRelative(){await this.saveAllOpenNotes();let t=0,n=0;await dn({abortSignal:this.abortSignal,buildNoticeMessage:(i,o)=>`Converting link paths to relative ${o} - ${i.path}`,items:tr(this.app),processItem:async i=>{if(this.settings.isPathIgnored(i.path))return;let o=await this.lh.convertAllNoteLinksPathsToRelative(i.path);o.length>0&&(t+=o.length,n++)},progressBarTitle:"Consistent Attachments and Links: Converting link paths to relative...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),t===0?new be.Notice("No links found that need to be converted"):new be.Notice(`Converted ${t.toString()} link${t>1?"s":""} from ${n.toString()} note${n>1?"s":""}`)}convertAllLinkPathsToRelativeCurrentNote(t){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(t||tt(this.app,yr(()=>this.lh.convertAllNoteLinksPathsToRelative(n.path))),!0)}async deleteEmptyFolders(){await this.fh.deleteEmptyFolders("/")}handleDeletedMetadata(t,n){!this.settings.deleteAttachmentsWithNote||this.settings.isPathIgnored(t.path)||!ke(this.app,t)||this.deletedNoteCache.set(t.path,n)}handleFileMenu(t,n){vr(n)&&t.addItem(i=>{i.setTitle("Collect attachments in folder").setIcon("download").onClick(()=>this.collectAttachmentsInFolder(n.path))})}async handleMetadataCacheChanged(t){if(!this.settings.autoCollectAttachments)return;let n=document.querySelector(".suggestion-container");n&&n.style.display!=="none"||await this.collectAttachments(t,!1)}async reorganizeVault(){await this.saveAllOpenNotes(),await this.replaceAllWikilinksWithMarkdownLinks(),await this.replaceAllWikiEmbedsWithMarkdownEmbeds(),await this.convertAllEmbedsPathsToRelative(),await this.convertAllLinkPathsToRelative(),await this.collectAllAttachments(),await this.deleteEmptyFolders(),new be.Notice("Reorganization of the vault completed")}async replaceAllWikiEmbedsWithMarkdownEmbeds(){await this.saveAllOpenNotes();let t=0,n=0;await dn({abortSignal:this.abortSignal,buildNoticeMessage:(i,o)=>`Replacing wiki embeds with markdown embeds ${o} - ${i.path}`,items:tr(this.app),processItem:async i=>{if(this.settings.isPathIgnored(i.path))return;let o=await this.lh.replaceAllNoteWikilinksWithMarkdownLinks(i.path,!0);t+=o,n++},progressBarTitle:"Consistent Attachments and Links: Replacing wiki embeds with markdown embeds...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),t===0?new be.Notice("No wiki embeds found that need to be replaced"):new be.Notice(`Replaced ${t.toString()} wiki embed${t>1?"s":""} from ${n.toString()} note${n>1?"s":""}`)}replaceAllWikiEmbedsWithMarkdownEmbedsCurrentNote(t){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(t||tt(this.app,yr(()=>this.lh.replaceAllNoteWikilinksWithMarkdownLinks(n.path,!0))),!0)}async replaceAllWikilinksWithMarkdownLinks(){await this.saveAllOpenNotes();let t=0,n=0;await dn({abortSignal:this.abortSignal,buildNoticeMessage:(i,o)=>`Replacing wikilinks with markdown links ${o} - ${i.path}`,items:tr(this.app),processItem:async i=>{if(this.settings.isPathIgnored(i.path))return;let o=await this.lh.replaceAllNoteWikilinksWithMarkdownLinks(i.path,!1);t+=o,n++},progressBarTitle:"Consistent Attachments and Links: Replacing wikilinks with markdown links...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),t===0?new be.Notice("No wiki links found that need to be replaced"):new be.Notice(`Replaced ${t.toString()} wikilink${t>1?"s":""} from ${n.toString()} note${n>1?"s":""}`)}replaceAllWikilinksWithMarkdownLinksCurrentNote(t){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(t||tt(this.app,yr(()=>this.lh.replaceAllNoteWikilinksWithMarkdownLinks(n.path,!1))),!0)}async saveAllOpenNotes(){for(let t of this.app.workspace.getLeavesOfType("markdown"))t.view instanceof be.MarkdownView&&await t.view.save()}async showBackupWarning(){this.settings.showBackupWarning&&(await Si({app:this.app,message:createFragment(t=>{t.createDiv({cls:"community-modal-readme"},n=>{n.appendText("Using 'Consistent Attachments and Links' plugin without proper configuration might lead to inconvenient attachment rearrangements or even data loss in your vault."),n.createEl("br"),n.appendText("It is "),n.createEl("strong",{text:"STRONGLY"}),n.appendText(" recommended to backup your vault before using the plugin."),n.createEl("br"),this.settings.hadDangerousSettingsReverted&&(n.appendText("Some of your plugin settings has been changed to their safe values."),n.createEl("br")),n.createEl("a",{href:"https://github.com/dy-sh/obsidian-consistent-attachments-and-links?tab=readme-ov-file",text:"Read more"}),n.appendText(" about how to use the plugin."),n.createEl("br"),n.appendText("This warning will not appear again.")})}),title:createFragment(t=>{(0,be.setIcon)(t.createSpan(),"triangle-alert"),t.appendText(" Consistent Attachments and Links")})}),await this.settingsManager.editAndSave(t=>{t.showBackupWarning=!1}))}};var I0=Ho;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/

/* nosourcemap */