### Read 시 동작

1. **버퍼에서 페이지 검색**:
    
    - `buffer manager`는 먼저 해시 테이블에서 요청된 페이지가 버퍼에 이미 로드되어 있는지 확인합니다.
    - 페이지가 **버퍼에 있으면** (`cache hit`) 해당 페이지의 버퍼 디스크립터를 반환하고 작업을 마칩니다.
2. **디스크에서 페이지 로드**:
    
    - 페이지가 **버퍼에 없으면** (`cache miss`), 디스크에서 페이지를 읽어와 `buffer block`에 저장합니다.
    - Freelist에 사용 가능한 페이지가 있으면 가져오고, 없으면 `Clock Sweep Algorithm`을 사용해 교체할 페이지를 선택합니다.
    - 교체될 페이지가 **Dirty 상태**라면 먼저 디스크에 플러시하고, 새로운 페이지를 로드하여 `buffer block`에 저장합니다.
	    **Dirty 상태가 아니라면,**  디스크에 플러시할 필요가 없습니다.
	    버퍼에서 해당 페이지의 데이터를 바로 덮어씌우거나 재할당하여 새로운 페이지를 로드하면 됩니다.
	    이렇게 하면 **디스크 I/O 작업이 줄어들어 성능이 향상**됩니다. Dirty 상태가 아닌 페이지는 디스크에 저장할 필요가 없으므로, 불필요한 쓰기 작업을 방지할 수 있습니다.
    - 로드된 페이지는 Dirty 상태가 아니며, 단순히 읽기 전용으로 메모리에 유지됩니다.

### Write 시 동작

1. **버퍼에 페이지가 있는 경우**:
    
    - 페이지가 **버퍼에 이미 로드되어 있다면**, 해당 페이지를 수정하고 `mark_buffer_dirty` 함수를 호출해 Dirty 상태로 표시합니다.
    - Dirty 상태로 표시된 페이지는 **즉시 디스크에 저장되지 않고**, 나중에 필요할 때(예: 페이지 교체 시) 디스크에 플러시됩니다.
2. **버퍼에 페이지가 없는 경우**:
    
    - 페이지가 **버퍼에 없는 경우**, Read 시와 마찬가지로 디스크에서 페이지를 읽어옵니다.
    - 이후 페이지를 수정하고 `mark_buffer_dirty`로 Dirty 상태로 표시합니다.
    - 이 경우도 페이지는 수정 후 Dirty 상태로 메모리에 유지되며, 나중에 디스크에 저장됩니다.

### 요약

- **Read**: 버퍼에 있으면 즉시 반환 (Hit), 없으면 디스크에서 로드 (Miss).
- **Write**: 버퍼에 있으면 바로 수정하고 Dirty로 표시, 없으면 디스크에서 로드 후 수정하여 Dirty로 표시.