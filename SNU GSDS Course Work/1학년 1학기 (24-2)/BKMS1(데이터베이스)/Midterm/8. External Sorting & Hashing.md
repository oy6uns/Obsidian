**External Sorting**과 **External Hashing**은 메모리의 크기보다 더 큰 데이터셋을 처리할 때 사용되는 기법들입니다. 데이터베이스 시스템이나 대용량 데이터 처리에서 주로 활용되며, 주로 **디스크**와 같은 **외부 저장 장치**를 사용하여 데이터를 관리합니다. 내부 메모리에 비해 디스크 I/O가 상대적으로 느리기 때문에, 이러한 기법들은 **디스크 접근을 최소화하면서 효율적으로** 데이터를 처리할 수 있도록 설계되었습니다.
### **External Sorting** (외부 정렬)

**External Sorting**은 **메모리보다 큰 데이터를 정렬**할 때 사용되는 방법입니다. 내부 정렬 알고리즘(예: Quick Sort, Merge Sort)과는 달리, 데이터셋을 작은 청크(chunks)로 나누고, 이를 외부 저장 장치(예: 디스크)를 활용해 정렬합니다. 이 과정에서 **디스크 I/O 비용을 최소화**하는 것이 핵심입니다.

#### **External Sorting 과정**:

1. **데이터를 나누기 (Partitioning)**:
    - 데이터가 너무 커서 메모리에 모두 적재할 수 없을 때, 데이터를 **메모리에 적재할 수 있을 만큼의 크기**로 분할합니다.
    - 각 청크(chunk)는 메모리에서 정렬되고, 디스크에 **정렬된 상태**로 다시 저장됩니다.
2. **정렬된 청크들을 병합 (Merging)**:
    - 모든 청크들이 정렬된 후, **병합 과정**을 통해 전체 데이터를 다시 하나로 만듭니다. 이때 **다중 병합(Multi-way merge)** 기법을 사용하여 각 청크의 첫 번째 요소를 비교하면서 데이터를 병합합니다.
    - 병합 과정은 일반적으로 **다단계로 이루어지며**, 메모리에 맞게 한 번에 여러 청크를 동시에 병합하는 방식으로 진행됩니다.

#### **External Merge Sort 예시**:

- 100GB의 데이터를 1GB씩 나눠서 **10개의 청크로 분할**한 후, 각 청크를 메모리에 적재하여 정렬합니다.
- 정렬된 각 청크는 다시 디스크에 저장되고, 마지막 단계에서는 각 청크를 병합하여 최종적으로 **전체 데이터가 정렬된 하나의 파일**을 만듭니다.

#### **장점**:

- **대규모 데이터 처리**: 메모리보다 큰 데이터를 처리할 수 있습니다.
- **효율적인 I/O**: 최소한의 디스크 I/O를 통해 데이터를 정렬할 수 있도록 최적화할 수 있습니다.

---

### **External Hashing** (외부 해싱)

**External Hashing**은 메모리보다 큰 데이터를 **해시**하여 **효율적으로 분할**하고 저장하는 방식입니다. 주로 **검색**이나 **데이터 분류**에 사용됩니다. 데이터가 메모리보다 크기 때문에, 디스크에 데이터를 저장하고 해시를 통해 **필요한 데이터를 빠르게 찾을 수 있도록** 도와줍니다.

#### **External Hashing 과정**:

1. **버킷(bucket) 분할**:
    
    - 데이터를 해시 함수(hash function)를 사용하여 **버킷**으로 분할합니다. 각 버킷은 **디스크에 저장**되며, 버킷의 크기는 메모리에서 한 번에 처리할 수 있을 정도로 설정됩니다.
    - 해시 함수는 데이터를 특정 버킷으로 분류하여, 해당 데이터를 나중에 쉽게 찾을 수 있도록 도와줍니다.
2. **디스크 접근 최소화**:
    
    - 해시 함수로 데이터를 분류했기 때문에, 특정 데이터를 찾을 때 전체 데이터를 검색하는 것이 아니라, 해시 함수에 의해 할당된 **특정 버킷만** 접근하면 됩니다.
    - 이 과정에서 **디스크 I/O**가 줄어들어 검색 속도가 빨라집니다.

#### **Extendible Hashing**:

- **External Hashing**의 한 예로 **Extendible Hashing**을 들 수 있습니다. 이는 **동적으로 버킷의 크기를 확장**할 수 있는 해싱 기법으로, 데이터가 늘어나면 **버킷의 개수**를 자동으로 조정합니다.
- 특정 버킷이 **오버플로우**할 경우, 해시 테이블의 깊이를 늘려 더 많은 버킷으로 데이터를 분산시킵니다. 이 과정은 디스크 I/O를 최소화하면서 데이터를 효율적으로 관리할 수 있게 도와줍니다.

#### **External Hashing 예시**:

- 500GB의 데이터가 있고, 이를 10개의 버킷으로 나눴다고 가정합니다. 각 버킷은 **해시 함수**를 사용하여 데이터가 분류되며, 각 버킷은 디스크에 저장됩니다.
- 사용자가 특정 데이터를 검색할 때, 해시 함수를 통해 어떤 버킷에 해당 데이터가 들어있는지 알 수 있고, 해당 버킷만 검색하여 데이터를 빠르게 찾습니다.

#### **장점**:

- **빠른 검색**: 해시 함수를 통해 데이터를 특정 버킷으로 분류하므로, 검색 속도가 빠릅니다.
- **효율적인 디스크 사용**: 메모리에 데이터를 전부 올리지 않고도, 디스크에 저장된 데이터를 빠르게 접근할 수 있습니다.